---
title: "Analysis Notes: Re-examining the Grievance-Conflict Nexus"
author: "David Hendry and Sunhee Park"
date: 'Last Updated: October, 2019'
output: pdf_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)

# custom functions
RaggedSideBySide <- function(x, y) {
  # requires dplyr and purrr packages
  # x and y are character vectors of (possibly) different lengths
  maxlength <- max(length(x), length(y))
  max.xlength <- x %>% map(., nchar) %>% unlist() %>% max()
  max.ylength <- y %>% map(., nchar) %>% unlist() %>% max()
  for ( i in 1:maxlength ) {
    if ( i <= length(x) ) {
      x.whitespace <- paste(rep(' ', (max.xlength - nchar(x[i]))), sep = '', collapse = '')
      x.entry <- paste(x[i], x.whitespace, sep = '')
    }
    else{
      x.entry <- paste(rep(' ', max.xlength), sep = '', collapse = '')
    }
    if ( i <= length(y) ) {
      y.whitespace <- paste(rep(' ', (max.ylength - nchar(y[i]))), sep = '', collapse = '')
      y.entry <- paste(y[i], y.whitespace, sep = '')
    }
    else{
      y.entry <- paste(rep(' ', max.ylength), sep = '', collapse = '')
    }
    cat(x.entry, y.entry, '\n')
  }
}
```

```{r}
# load packages
library(knitr)
library(tidyverse)
library(sjlabelled)
library(haven)
```

## Construction of ISO-code datasets
### ISO code datasets

```{r}
#   Å -> Aa; ô = o; ç = c; é = e
iso_country <- bind_cols(
  cname_conv = c('Afghanistan', 'Åland Islands', 'Albania', 'Algeria',
    'American Samoa', 'Andorra', 'Angola', 'Anguilla', 'Antarctica',
    'Antigua and Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Australia',
    'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados',
    'Belarus', 'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan',
    'Bolivia (Plurinational State of)', 'Bonaire, Sint Eustatius and Saba',
    'Bosnia and Herzegovina', 'Botswana', 'Bouvet Island', 'Brazil',
    'British Indian Ocean Territory', 'Brunei Darussalam', 'Bulgaria',
    'Burkina Faso', 'Burundi', 'Cabo Verde', 'Cambodia', 'Cameroon', 'Canada',
    'Cayman Islands', 'Central African Republic', 'Chad', 'Chile', 'China',
    'Christmas Island', 'Cocos (Keeling) Islands', 'Colombia', 'Comoros',
    'Congo', 'Congo, Democratic Republic of the', 'Cook Islands', 'Costa Rica',
    'Côte d\'Ivoire', 'Croatia', 'Cuba', 'Curaçao', 'Cyprus', 'Czechia',
    'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt',
    'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini',
    'Ethiopia', 'Falkland Islands (Malvinas)', 'Faroe Islands', 'Fiji',
    'Finland', 'France', 'French Guiana', 'French Polynesia',
    'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany',
    'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guadeloupe',
    'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea-Bissau', 'Guyana',
    'Haiti', 'Heard Island and McDonald Islands', 'Holy See', 'Honduras',
    'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia',
    'Iran (Islamic Republic of)', 'Iraq', 'Ireland', 'Isle of Man', 'Israel',
    'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya',
    'Kiribati', 'Korea (Democratic People\'s Republic of)',
    'Korea, Republic of', 'Kuwait', 'Kyrgyzstan',
    'Lao People\'s Democratic Republic', 'Latvia', 'Lebanon', 'Lesotho',
    'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macao',
    'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta',
    'Marshall Islands', 'Martinique', 'Mauritania', 'Mauritius', 'Mayotte',
    'Mexico', 'Micronesia (Federated States of)', 'Moldova, Republic of',
    'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'Morocco', 'Mozambique',
    'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Caledonia',
    'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island',
    'North Macedonia', 'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan',
    'Palau ', 'Palestine, State of', 'Panama', 'Papua New Guinea', 'Paraguay',
    'Peru', 'Philippines', 'Pitcairn', 'Poland', 'Portugal', 'Puerto Rico',
    'Qatar', 'Réunion', 'Romania', 'Russian Federation', 'Rwanda',
    'Saint Barthélemy', 'Saint Helena, Ascension and Tristan da Cunha',
    'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Martin (French part)',
    'Saint Pierre and Miquelon', 'Saint Vincent and the Grenadines', 'Samoa',
    'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Serbia',
    'Seychelles', 'Sierra Leone', 'Singapore', 'Sint Maarten (Dutch part)',
    'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa',
    'South Georgia and the South Sandwich Islands', 'South Sudan', 'Spain',
    'Sri Lanka', 'Sudan', 'Suriname', 'Svalbard and Jan Mayen', 'Sweden',
    'Switzerland', 'Syrian Arab Republic', 'Taiwan, Province of China[a]',
    'Tajikistan', 'Tanzania, United Republic of', 'Thailand', 'Timor-Leste',
    'Togo', 'Tokelau', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey',
    'Turkmenistan', 'Turks and Caicos Islands', 'Tuvalu', 'Uganda', 'Ukraine',
    'United Arab Emirates',
    'United Kingdom of Great Britain and Northern Ireland',
    'United States of America', 'United States Minor Outlying Islands',
    'Uruguay', 'Uzbekistan', 'Vanuatu', 'Venezuela (Bolivarian Republic of)',
    'Viet Nam', 'Virgin Islands (British)', 'Virgin Islands (U.S.)',
    'Wallis and Futuna', 'Western Sahara', 'Yemen', 'Zambia', 'Zimbabwe'),
  cname_eng = c('Afghanistan', 'Aland Islands', 'Albania', 'Algeria',
    'American Samoa', 'Andorra', 'Angola', 'Anguilla', 'Antarctica',
    'Antigua and Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Australia',
    'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados',
    'Belarus', 'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan',
    'Bolivia (Plurinational State of)', 'Bonaire, Sint Eustatius and Saba',
    'Bosnia and Herzegovina', 'Botswana', 'Bouvet Island', 'Brazil',
    'British Indian Ocean Territory', 'Brunei Darussalam', 'Bulgaria',
    'Burkina Faso', 'Burundi', 'Cabo Verde', 'Cambodia', 'Cameroon', 'Canada',
    'Cayman Islands', 'Central African Republic', 'Chad', 'Chile', 'China',
    'Christmas Island', 'Cocos (Keeling) Islands', 'Colombia', 'Comoros',
    'Congo', 'Congo, Democratic Republic of the', 'Cook Islands', 'Costa Rica',
    'Cote d\'Ivoire', 'Croatia', 'Cuba', 'Curaçao', 'Cyprus', 'Czechia',
    'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt',
    'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini',
    'Ethiopia', 'Falkland Islands (Malvinas)', 'Faroe Islands', 'Fiji',
    'Finland', 'France', 'French Guiana', 'French Polynesia',
    'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany',
    'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guadeloupe',
    'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea-Bissau', 'Guyana',
    'Haiti', 'Heard Island and McDonald Islands', 'Holy See', 'Honduras',
    'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia',
    'Iran (Islamic Republic of)', 'Iraq', 'Ireland', 'Isle of Man', 'Israel',
    'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya',
    'Kiribati', 'Korea (Democratic People\'s Republic of)',
    'Korea, Republic of', 'Kuwait', 'Kyrgyzstan',
    'Lao People\'s Democratic Republic', 'Latvia', 'Lebanon', 'Lesotho',
    'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macao',
    'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta',
    'Marshall Islands', 'Martinique', 'Mauritania', 'Mauritius', 'Mayotte',
    'Mexico', 'Micronesia (Federated States of)', 'Moldova, Republic of',
    'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'Morocco', 'Mozambique',
    'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'New Caledonia',
    'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island',
    'North Macedonia', 'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan',
    'Palau ', 'Palestine, State of', 'Panama', 'Papua New Guinea', 'Paraguay',
    'Peru', 'Philippines', 'Pitcairn', 'Poland', 'Portugal', 'Puerto Rico',
    'Qatar', 'Reunion', 'Romania', 'Russian Federation', 'Rwanda',
    'Saint Barthelemy', 'Saint Helena, Ascension and Tristan da Cunha',
    'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Martin (French part)',
    'Saint Pierre and Miquelon', 'Saint Vincent and the Grenadines', 'Samoa',
    'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Serbia',
    'Seychelles', 'Sierra Leone', 'Singapore', 'Sint Maarten (Dutch part)',
    'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa',
    'South Georgia and the South Sandwich Islands', 'South Sudan', 'Spain',
    'Sri Lanka', 'Sudan', 'Suriname', 'Svalbard and Jan Mayen', 'Sweden',
    'Switzerland', 'Syrian Arab Republic', 'Taiwan, Province of China[a]',
    'Tajikistan', 'Tanzania, United Republic of', 'Thailand', 'Timor-Leste',
    'Togo', 'Tokelau', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey',
    'Turkmenistan', 'Turks and Caicos Islands', 'Tuvalu', 'Uganda', 'Ukraine',
    'United Arab Emirates',
    'United Kingdom of Great Britain and Northern Ireland',
    'United States of America', 'United States Minor Outlying Islands',
    'Uruguay', 'Uzbekistan', 'Vanuatu', 'Venezuela (Bolivarian Republic of)',
    'Viet Nam', 'Virgin Islands (British)', 'Virgin Islands (U.S.)',
    'Wallis and Futuna', 'Western Sahara', 'Yemen', 'Zambia', 'Zimbabwe'),
  ISO1str2 = c('AF', 'AX', 'AL', 'DZ', 'AS', 'AD', 'AO', 'AI', 'AQ', 'AG', 'AR',
    'AM', 'AW', 'AU', 'AT', 'AZ', 'BS', 'BH', 'BD', 'BB', 'BY', 'BE', 'BZ',
    'BJ', 'BM', 'BT', 'BO', 'BQ', 'BA', 'BW', 'BV', 'BR', 'IO', 'BN', 'BG',
    'BF', 'BI', 'CV', 'KH', 'CM', 'CA', 'KY', 'CF', 'TD', 'CL', 'CN', 'CX',
    'CC', 'CO', 'KM', 'CG', 'CD', 'CK', 'CR', 'CI', 'HR', 'CU', 'CW', 'CY',
    'CZ', 'DK', 'DJ', 'DM', 'DO', 'EC', 'EG', 'SV', 'GQ', 'ER', 'EE', 'SZ',
    'ET', 'FK', 'FO', 'FJ', 'FI', 'FR', 'GF', 'PF', 'TF', 'GA', 'GM', 'GE',
    'DE', 'GH', 'GI', 'GR', 'GL', 'GD', 'GP', 'GU', 'GT', 'GG', 'GN', 'GW',
    'GY', 'HT', 'HM', 'VA', 'HN', 'HK', 'HU', 'IS', 'IN', 'ID', 'IR', 'IQ',
    'IE', 'IM', 'IL', 'IT', 'JM', 'JP', 'JE', 'JO', 'KZ', 'KE', 'KI', 'KP',
    'KR', 'KW', 'KG', 'LA', 'LV', 'LB', 'LS', 'LR', 'LY', 'LI', 'LT', 'LU',
    'MO', 'MG', 'MW', 'MY', 'MV', 'ML', 'MT', 'MH', 'MQ', 'MR', 'MU', 'YT',
    'MX', 'FM', 'MD', 'MC', 'MN', 'ME', 'MS', 'MA', 'MZ', 'MM', 'NA', 'NR',
    'NP', 'NL', 'NC', 'NZ', 'NI', 'NE', 'NG', 'NU', 'NF', 'MK', 'MP', 'NO',
    'OM', 'PK', 'PW', 'PS', 'PA', 'PG', 'PY', 'PE', 'PH', 'PN', 'PL', 'PT',
    'PR', 'QA', 'RE', 'RO', 'RU', 'RW', 'BL', 'SH', 'KN', 'LC', 'MF', 'PM',
    'VC', 'WS', 'SM', 'ST', 'SA', 'SN', 'RS', 'SC', 'SL', 'SG', 'SX', 'SK',
    'SI', 'SB', 'SO', 'ZA', 'GS', 'SS', 'ES', 'LK', 'SD', 'SR', 'SJ', 'SE',
    'CH', 'SY', 'TW', 'TJ', 'TZ', 'TH', 'TL', 'TG', 'TK', 'TO', 'TT', 'TN',
    'TR', 'TM', 'TC', 'TV', 'UG', 'UA', 'AE', 'GB', 'US', 'UM', 'UY', 'UZ',
    'VU', 'VE', 'VN', 'VG', 'VI', 'WF', 'EH', 'YE', 'ZM', 'ZW'),
  ISO1str3 = c('AFG', 'ALA', 'ALB', 'DZA', 'ASM', 'AND', 'AGO', 'AIA', 'ATA',
    'ATG', 'ARG', 'ARM', 'ABW', 'AUS', 'AUT', 'AZE', 'BHS', 'BHR', 'BGD', 'BRB',
    'BLR', 'BEL', 'BLZ', 'BEN', 'BMU', 'BTN', 'BOL', 'BES', 'BIH', 'BWA', 'BVT',
    'BRA', 'IOT', 'BRN', 'BGR', 'BFA', 'BDI', 'CPV', 'KHM', 'CMR', 'CAN', 'CYM',
    'CAF', 'TCD', 'CHL', 'CHN', 'CXR', 'CCK', 'COL', 'COM', 'COG', 'COD', 'COK',
    'CRI', 'CIV', 'HRV', 'CUB', 'CUW', 'CYP', 'CZE', 'DNK', 'DJI', 'DMA', 'DOM',
    'ECU', 'EGY', 'SLV', 'GNQ', 'ERI', 'EST', 'SWZ', 'ETH', 'FLK', 'FRO', 'FJI',
    'FIN', 'FRA', 'GUF', 'PYF', 'ATF', 'GAB', 'GMB', 'GEO', 'DEU', 'GHA', 'GIB',
    'GRC', 'GRL', 'GRD', 'GLP', 'GUM', 'GTM', 'GGY', 'GIN', 'GNB', 'GUY', 'HTI',
    'HMD', 'VAT', 'HND', 'HKG', 'HUN', 'ISL', 'IND', 'IDN', 'IRN', 'IRQ', 'IRL',
    'IMN', 'ISR', 'ITA', 'JAM', 'JPN', 'JEY', 'JOR', 'KAZ', 'KEN', 'KIR', 'PRK',
    'KOR', 'KWT', 'KGZ', 'LAO', 'LVA', 'LBN', 'LSO', 'LBR', 'LBY', 'LIE', 'LTU',
    'LUX', 'MAC', 'MDG', 'MWI', 'MYS', 'MDV', 'MLI', 'MLT', 'MHL', 'MTQ', 'MRT',
    'MUS', 'MYT', 'MEX', 'FSM', 'MDA', 'MCO', 'MNG', 'MNE', 'MSR', 'MAR', 'MOZ',
    'MMR', 'NAM', 'NRU', 'NPL', 'NLD', 'NCL', 'NZL', 'NIC', 'NER', 'NGA', 'NIU',
    'NFK', 'MKD', 'MNP', 'NOR', 'OMN', 'PAK', 'PLW', 'PSE', 'PAN', 'PNG', 'PRY',
    'PER', 'PHL', 'PCN', 'POL', 'PRT', 'PRI', 'QAT', 'REU', 'ROU', 'RUS', 'RWA',
    'BLM', 'SHN', 'KNA', 'LCA', 'MAF', 'SPM', 'VCT', 'WSM', 'SMR', 'STP', 'SAU',
    'SEN', 'SRB', 'SYC', 'SLE', 'SGP', 'SXM', 'SVK', 'SVN', 'SLB', 'SOM', 'ZAF',
    'SGS', 'SSD', 'ESP', 'LKA', 'SDN', 'SUR', 'SJM', 'SWE', 'CHE', 'SYR', 'TWN',
    'TJK', 'TZA', 'THA', 'TLS', 'TGO', 'TKL', 'TON', 'TTO', 'TUN', 'TUR', 'TKM',
    'TCA', 'TUV', 'UGA', 'UKR', 'ARE', 'GBR', 'USA', 'UMI', 'URY', 'UZB', 'VUT',
    'VEN', 'VNM', 'VGB', 'VIR', 'WLF', 'ESH', 'YEM', 'ZMB', 'ZWE'),
  ISO1numstr = c('004', '248', '008', '012', '016', '020', '024', '660', '010',
    '028', '032', '051', '533', '036', '040', '031', '044', '048', '050', '052',
    '112', '056', '084', '204', '060', '064', '068', '535', '070', '072', '074',
    '076', '086', '096', '100', '854', '108', '132', '116', '120', '124', '136',
    '140', '148', '152', '156', '162', '166', '170', '174', '178', '180', '184',
    '188', '384', '191', '192', '531', '196', '203', '208', '262', '212', '214',
    '218', '818', '222', '226', '232', '233', '748', '231', '238', '234', '242',
    '246', '250', '254', '258', '260', '266', '270', '268', '276', '288', '292',
    '300', '304', '308', '312', '316', '320', '831', '324', '624', '328', '332',
    '334', '336', '340', '344', '348', '352', '356', '360', '364', '368', '372',
    '833', '376', '380', '388', '392', '832', '400', '398', '404', '296', '408',
    '410', '414', '417', '418', '428', '422', '426', '430', '434', '438', '440',
    '442', '446', '450', '454', '458', '462', '466', '470', '584', '474', '478',
    '480', '175', '484', '583', '498', '492', '496', '499', '500', '504', '508',
    '104', '516', '520', '524', '528', '540', '554', '558', '562', '566', '570',
    '574', '807', '580', '578', '512', '586', '585', '275', '591', '598', '600',
    '604', '608', '612', '616', '620', '630', '634', '638', '642', '643', '646',
    '652', '654', '659', '662', '663', '666', '670', '882', '674', '678', '682',
    '686', '688', '690', '694', '702', '534', '703', '705', '090', '706', '710',
    '239', '728', '724', '144', '729', '740', '744', '752', '756', '760', '158',
    '762', '834', '764', '626', '768', '772', '776', '780', '788', '792', '795',
    '796', '798', '800', '804', '784', '826', '840', '581', '858', '860', '548',
    '862', '704', '092', '850', '876', '732', '887', '894', '716'),
  ISO1num = c(4, 248, 8, 12, 16, 20, 24, 660, 10, 28, 32, 51, 533, 36, 40, 31,
    44, 48, 50, 52, 112, 56, 84, 204, 60, 64, 68, 535, 70, 72, 74, 76, 86, 96,
    100, 854, 108, 132, 116, 120, 124, 136, 140, 148, 152, 156, 162, 166, 170,
    174, 178, 180, 184, 188, 384, 191, 192, 531, 196, 203, 208, 262, 212, 214,
    218, 818, 222, 226, 232, 233, 748, 231, 238, 234, 242, 246, 250, 254, 258,
    260, 266, 270, 268, 276, 288, 292, 300, 304, 308, 312, 316, 320, 831, 324,
    624, 328, 332, 334, 336, 340, 344, 348, 352, 356, 360, 364, 368, 372, 833,
    376, 380, 388, 392, 832, 400, 398, 404, 296, 408, 410, 414, 417, 418, 428,
    422, 426, 430, 434, 438, 440, 442, 446, 450, 454, 458, 462, 466, 470, 584,
    474, 478, 480, 175, 484, 583, 498, 492, 496, 499, 500, 504, 508, 104, 516,
    520, 524, 528, 540, 554, 558, 562, 566, 570, 574, 807, 580, 578, 512, 586,
    585, 275, 591, 598, 600, 604, 608, 612, 616, 620, 630, 634, 638, 642, 643,
    646, 652, 654, 659, 662, 663, 666, 670, 882, 674, 678, 682, 686, 688, 690,
    694, 702, 534, 703, 705, 90, 706, 710, 239, 728, 724, 144, 729, 740, 744,
    752, 756, 760, 158, 762, 834, 764, 626, 768, 772, 776, 780, 788, 792, 795,
    796, 798, 800, 804, 784, 826, 840, 581, 858, 860, 548, 862, 704, 92, 850,
    876, 732, 887, 894, 716))
```


## Summary of Data Availability
# Afrobarometer

```{r}
ab01.raw <- read_spss('Data/Afrobarometer/merged_r1_data.sav') %>%
  remove_all_labels() %>% as_tibble()
ab02.raw <- read_spss('Data/Afrobarometer/merged_r2_data.sav') %>%
  remove_all_labels() %>% as_tibble()
ab03.raw <- read_spss('Data/Afrobarometer/merged_r3_data.sav') %>%
  remove_all_labels() %>% as_tibble()
ab04.raw <- read_spss('Data/Afrobarometer/merged_r4_data.sav') %>%
  remove_all_labels() %>% as_tibble()
path.temp <- file.path('Data', 'Afrobarometer',
  'merged-round-5-data-34-countries-2011-2013-last-update-july-2015.sav')
ab05.raw <- read_spss(path.temp) %>% remove_all_labels() %>% as_tibble()
ab06.raw <- read_spss('Data/Afrobarometer/merged_r6_data_2016_36countries2.sav') %>%
  remove_all_labels() %>% as_tibble()

ab01 <- ab01.raw %>%
  mutate_at(., vars(area), list(~ ifelse(. == 999, NA, .))) %>%
  mutate(
    cname_eng = recode(country,
      `1` = 'Botswana', `2` = 'Ghana', `3` = 'Lesotho', `4` = 'Malawi',
      `5` = 'Mali', `6` = 'Namibia', `7` = 'Nigeria', `8` = 'South Africa',
      `9` = 'Tanzania', `10` = 'Uganda', `11` = 'Zambia', `12` = 'Zimbabwe'),
    areaname_eng_ab = recode(area,
      `1` = 'Erongo', `2` = 'Hardap', `3` = 'Karas', `4` = 'Khomas',
      `5` = 'Kunene', `6` = 'Ohangwena', `7` = 'Okavango', `8` = 'Omaheke',
      `9` = 'Omusati', `10` = 'Oshana', `11` = 'Oshikoto', `12` = 'Otjozondjupa',
      `13` = 'Caprivi', `14` = 'Bulawayo', `15` = 'Manicaland', `16` = 'Midland',
      `17` = 'Mashonaland West', `18` = 'Mashonaland Central',
      `19` = 'Mashonaland East', `20` = 'Matabeland South',
      `21` = 'Matabeland North', `22` = 'Masvingo', `23` = 'Harare',
      `24` = 'Central Province', `25` = 'Copperbelt', `26` = 'Eastern Province',
      `27` = 'North-Western Province', `28` = 'Southern Province',
      `29` = 'Lusaka', `30` = 'Northern Province', `31` = 'Western Province',
      `32` = 'Luapula', `33` = 'Malawi North', `34` = 'Malawi Central',
      `35` = 'Malawi South', `36` = 'Gaborone', `37` = 'Lobatse',
      `38` = 'Francistown', `39` = 'Jwaneng', `40` = 'Selibe-Phikwe',
      `41` = 'Southeast', `42` = 'Kweneng', `43` = 'Botswana Central',
      `44` = 'Kgalagadi', `45` = 'Chitipa', `46` = 'Mzimba', `47` = 'Nkhata Bay',
      `48` = 'Kasunga', `49` = 'Lilongwe', `50` = 'Ntchisi', `51` = 'Salima',
      `52` = 'Ntcheu', `53` = 'Zomba', `54` = 'Chiradzulu', `55` = 'Blantyre',
      `56` = 'Chikwawa', `57` = 'Nsanje', `58` = 'Mulanje', `59` = 'Mwanza',
      `60` = 'Botha-Bothe', `61` = 'Leribe', `62` = 'Berea', `63` = 'Maseru',
      `64` = 'Mafeteng', `65` = 'Mohales Hoek', `66` = 'Quthing',
      `67` = 'Qachas Nek', `68` = 'Mokhotlong', `69` = 'Thaba-Tseka',
      `70` = 'Greater Accra', `71` = 'Volta', `72` = 'Northern',
      `73` = 'Brong-Ahafo', `74` = 'Ashanti', `75` = 'Western', `76` = 'Eastern',
      `77` = 'Central', `78` = 'Upper East', `79` = 'Upper West', `80` = 'Bamako',
      `81` = 'Gao', `82` = 'Kayes', `83` = 'Kidal', `84` = 'Kkro', `85` = 'Mopti',
      `86` = 'Segou', `87` = 'Sikasso', `88` = 'Tbtou', `100` = 'Eastern Cape',
      `101` = 'Free State', `102` = 'Gauteng', `103` = 'Kwa-Zulu Natal',
      `104` = 'Mpumalanga', `105` = 'Northern Cape', `106` = 'Northern Province',
      `107` = 'North West', `108` = 'Western Cape', `110` = 'Abia',
      `111` = 'Akwa-Ibom', `112` = 'Bauchi', `113` = 'Bayelsa', `114` = 'Benue',
      `115` = 'Borno', `116` = 'Delta', `117` = 'Edo', `118` = 'Enugu',
      `119` = 'F.C.T.', `120` = 'Kano', `121` = 'Katsina', `122` = 'Kwara',
      `123` = 'Lagos', `124` = 'Niger', `125` = 'Ogun', `126` = 'Ondo',
      `127` = 'Osun', `128` = 'Oyo', `129` = 'Plateau', `130` = 'Rivers',
      `131` = 'Sokoto', `150` = 'Apac', `151` = 'Arua', `152` = 'Bugirl',
      `153` = 'Bushenyi', `154` = 'Busia', `155` = 'Gulu', `156` = 'Iganga',
      `157` = 'Jinja', `158` = 'Kabale', `159` = 'Kabarole', `160` = 'Kampala',
      `161` = 'Kamuli', `162` = 'Kasesse', `163` = 'Katakwi', `164` = 'Kibale',
      `165` = 'Kiboga', `166` = 'Kisoro', `167` = 'Kitgum', `168` = 'Kumi',
      `169` = 'Lira', `170` = 'Luwero', `171` = 'Masaka', `172` = 'Masindi',
      `173` = 'Mbale', `174` = 'Mbarara', `175` = 'Mpigi', `176` = 'Mubende',
      `177` = 'Mukono', `178` = 'Nakasongola', `179` = 'Nebbi',
      `180` = 'Ntungamo', `181` = 'Pallisa', `182` = 'Rakai', `183` = 'Rukungirl',
      `184` = 'Soroti', `185` = 'Tororo', `200` = 'Arusha', `201` = 'Coast',
      `202` = 'Dar es Salaam', `203` = 'Dodoma', `204` = 'Iringa',
      `205` = 'Kagera', `206` = 'Kaskazini Pemba', `207` = 'Kaskazini Unguja',
      `208` = 'Kigoma', `209` = 'Kilimanjaro', `210` = 'Kusini Pemba',
      `211` = 'Kusini Unguja', `212` = 'Lindi', `213` = 'Mara',
      `214` = 'Mbeya', `215` = 'Mjini Magharibi', `216` = 'Morogoro',
      `217` = 'Mtwara', `218` = 'Mwanza', `219` = 'Rukwa', `220` = 'Ruvuma',
      `221` = 'Sinyanga', `222` = 'Singida', `223` = 'Tabora', `224` = 'Tanga'),
    areaname_eng_iso = '', #corrected area names from ISO standards
    areaname_eng_iso2 = '',
    NAME_0 = '',
    ID_1 = NA,
    ID_2 = NA
  ) %>% rename(., area_num = area)

ab02 <- ab02.raw %>%
  mutate(
    cname_eng = recode(country,
      `1` = 'Botswana', `2` = 'Ghana', `3` = 'Lesotho', `4` = 'Malawi',
      `5` = 'Mali', `6` = 'Namibia', `7` = 'Nigeria', `8` = 'South Africa',
      `9` = 'Tanzania', `10` = 'Uganda', `11` = 'Zambia', `12` = 'Zimbabwe',
      `13` = 'Cape Verde', `14` = 'Kenya', `15` = 'Mozambique',
      `16` = 'Senegal'),
    areaname_eng_ab = recode(region,
      `50` = 'SantoAntao', `51` = 'SaoVicente', `52` = 'Satiago', `53` = 'Fogo',
      `60` = 'West', `61` = 'East', `62` = 'Central', `63` = 'North',
      `80` = 'Niassa', `81` = 'CaboDelgado', `82` = 'Nampula',
      `83` = 'Zambezia', `84` = 'Tete', `85` = 'Manica', `86` = 'Sofala',
      `87` = 'Inhambane', `88` = 'Gaza', `89` = 'Maputo(Prov.)',
      `90` = 'Maputo(Cid.)', `100` = 'WesternCape', `101` = 'EasternCape',
      `102` = 'NorthernCape', `103` = 'FreeState', `104` = 'KwaZuluNatal',
      `105` = 'NorthWest', `106` = 'Gauteng', `107` = 'Mpumulanga',
      `108` = 'Limpopo', `120` = 'Ashanti', `121` = 'BrongAhafo',
      `122` = 'Central', `123` = 'Eastern', `124` = 'GreaterAccra',
      `125` = 'Northern', `126` = 'UpperEast', `127` = 'UpperWest',
      `128` = 'Volta', `129` = 'Western', `140` = 'Central', `141` = 'Northern',
      `142` = 'Southern', `160` = 'Bamako', `161` = 'Gao', `162` = 'Kayes',
      `163` = 'Kidal', `164` = 'Koulikoro', `165` = 'Mopti', `166` = 'Segou',
      `167` = 'Sikasso', `168` = 'Tombouctou', `180` = 'Berea',
      `181` = 'Butha-Buthe', `182` = 'Leribe', `183` = 'Mafeteng',
      `184` = 'Maseru', `185` = 'Mohale\'sHoek', `186` = 'Mokhotlong',
      `187` = 'Qacha\'snek', `188` = 'Quthing', `189` = 'Thaba-Tseka',
      `200` = 'Arusha', `201` = 'Dar', `202` = 'Dodoma', `203` = 'Iringa',
      `204` = 'Kagera', `205` = 'KaskaziniPemba', `206` = 'KaskaziniUnguja',
      `207` = 'Kigoma', `208` = 'Kilimajaro', `209` = 'KusiniPemba',
      `210` = 'KusiniUnguja', `211` = 'Lindi', `212` = 'Manyara',
      `213` = 'Mara', `214` = 'Mbeya', `215` = 'MjiniMagharibi',
      `216` = 'Morogoro', `217` = 'Mtwara', `218` = 'Mwanza', `219` = 'Pwani',
      `220` = 'Dakar', `221` = 'Diourbel', `222` = 'Fatick', `223` = 'Kaolack',
      `224` = 'Kolda', `225` = 'Louga', `226` = 'SaintLouis',
      `227` = 'Tambacounda', `228` = 'Thies', `229` = 'Ziguinchor',
      `240` = 'Central', `241` = 'Francistown', `242` = 'Gaborone',
      `243` = 'Ghanzi', `244` = 'Jwaneng', `245` = 'Kgalagadi',
      `246` = 'Kgatleng', `247` = 'Kweneng', `248` = 'Lobatse',
      `249` = 'NorthEast', `250` = 'NorthWest', `251` = 'Orapa',
      `252` = 'SelibePhikwe', `253` = 'SouthEast', `254` = 'Southern',
      `260` = 'Lagos', `261` = 'NC', `262` = 'NE', `263` = 'NW', `264` = 'SE',
      `265` = 'SS', `266` = 'SW', `280` = 'Bulawayo', `281` = 'Harare',
      `282` = 'Manicaland', `283` = 'Mash Central', `284` = 'Mash East',
      `285` = 'Mash West', `286` = 'Masvingo', `287` = 'Mat North',
      `288` = 'Mat South', `289` = 'Midland', `300` = 'Central',
      `301` = 'Copperbelt', `302` = 'Eastern', `303` = 'Luapula',
      `304` = 'Lusaka', `305` = 'North-Western', `306` = 'Northern',
      `307` = 'Southern', `308` = 'Western', `320` = 'Caprivi',
      `321` = 'Erongo', `322` = 'hardap', `323` = 'Karas', `324` = 'kavango',
      `325` = 'Knoma', `326` = 'Kunene', `327` = 'Ohangwena', `328` = 'Omaheke',
      `329` = 'Omusati', `330` = 'Oshana', `331` = 'Oshikoto',
      `332` = 'Otjozondjupa', `380` = 'Central', `381` = 'Coast',
      `382` = 'Eastern', `383` = 'Nairobi', `384` = 'NorthEastern',
      `385` = 'Nyanza', `386` = 'Rift-Valley', `387` = 'Western',
      `450` = 'Rukwa', `451` = 'Ruvuma', `452` = 'Shinyanga', `453` = 'Singida',
      `454` = 'Tabora', `455` = 'Tanga'),
    areaname_eng_iso = '', #corrected area names from ISO standards
    areaname_eng_iso2 = '',
    NAME_0 = '',
    ID_1 = NA,
    ID_2 = NA
  ) %>% rename(., area_num = region)

ab03 <- ab03.raw %>%
  mutate(
    cname_eng = recode(country,
      `1` = 'Benin', `2` = 'Botswana', `3` = 'Cape Verde', `4` = 'Ghana',
      `5` = 'Kenya', `6` = 'Lesotho', `7` = 'Madagascar', `8` = 'Malawi',
      `9` = 'Mali', `10` = 'Mozambique', `11` = 'Namibia', `12` = 'Nigeria',
      `13` = 'Senegal', `14` = 'South Africa', `15` = 'Tanzania',
      `16` = 'Uganda', `17` = 'Zambia', `18` = 'Zimbabwe'),
    areaname_eng_ab = recode(region,
      # English alphabet used to avoid encoding issues later
      #   é -> e 
      `100` = 'Eastern Cape', `101` = 'Free State', `102` = 'Gauteng',
      `103` = 'KwaZulu-Natal', `104` = 'Limpopo', `105` = 'Mpumalanga',
      `106` = 'North West', `107` = 'Northern Cape', `108` = 'Western Cape',
      `120` = 'Alibori', `121` = 'Atacora', `122` = 'Atlantique',
      `123` = 'Borgou', `124` = 'Collines', `125` = 'Couffo', `126` = 'Donga',
      `127` = 'Littoral', `128` = 'Mono', `129` = 'Oueme', `130` = 'Plateau',
      `131` = 'Zou', `140` = 'Central', `141` = 'Chobe', `142` = 'Francis Town',
      `143` = 'Gaborone', `144` = 'Ghanzi', `145` = 'Jwaneng',
      `146` = 'Kgalagadi', `147` = 'Kgatleng', `148` = 'Kweneng',
      `149` = 'Lobatse', `150` = 'North East', `151` = 'Ngamiland',
      `153` = 'Selibe Phikwe', `154` = 'South East', `155` = 'Southern',
      `160` = 'Santo Antao', `161` = 'Sao Vicente', `162` = 'Santiago-Interior',
      `163` = 'Santiago-Praia', `164` = 'Fogo', `180` = 'Western',
      `181` = 'Central', `182` = 'Greater-Accra', `183` = 'Volta',
      `184` = 'Eastern', `185` = 'Ashanti', `186` = 'Brong Ahafo',
      `187` = 'Northern', `188` = 'Upper East', `189` = 'Upper West',
      `200` = 'Nairobi', `201` = 'Central', `202` = 'Eastern',
      `203` = 'Rift Valley', `204` = 'Nyanza', `205` = 'Western',
      `206` = 'North Eastern', `207` = 'Coast', `220` = 'Maseru',
      `221` = 'Mafeteng', `222` = 'Mohale\'s Hoek', `223` = 'Quthing',
      `224` = 'Qacha\'s Nek', `225` = 'Mokhotlong', `226` = 'Butha-Buthe',
      `227` = 'Leribe', `228` = 'Berea', `229` = 'Thaba-Tseka',
      `240` = 'Antananarivo', `241` = 'Fianarantsoa', `242` = 'Toamasina',
      `243` = 'Mahajanga', `244` = 'Toliary', `245` = 'Antsiranana',
      `260` = 'South', `261` = 'Central', `262` = 'North', `280` = 'Bamako',
      `281` = 'Kayes', `282` = 'Koulikoro', `283` = 'Sikasso', `284` = 'Segou',
      `285` = 'Mopti', `286` = 'Tombouctou', `287` = 'Gao', `288` = 'Kidal',
      `300` = 'Maputo province', `301` = 'Maputo City', `302` = 'Gaza',
      `303` = 'Inhambane', `304` = 'Sofala', `305` = 'Tete', `306` = 'Manica',
      `307` = 'Zambezia', `308` = 'Nampula', `309` = 'Niassa',
      `310` = 'Cabo Delgado', `320` = 'Caprivi', `321` = 'Erongo',
      `322` = 'Hardap', `323` = 'Karas', `324` = 'Kavango', `325` = 'Khomas',
      `326` = 'Kunene', `327` = 'Ohangwena', `328` = 'Omaheke',
      `329` = 'Omusati', `330` = 'Oshana', `331` = 'Oshikoto',
      `332` = 'Otjozundjupa', `340` = 'Lagos', `341` = 'Ogun', `342` = 'Oyo',
      `343` = 'Osun', `344` = 'Ondo', `345` = 'Ekiti', `346` = 'Enugu',
      `347` = 'Anambra', `348` = 'Imo', `349` = 'Abia', `350` = 'Akwa-Ibom',
      `351` = 'Bayelsa', `352` = 'Cross-River', `353` = 'Delta', `354` = 'Edo',
      `355` = 'Rivers', `356` = 'Kano', `357` = 'Sokoto', `358` = 'Kaduna',
      `359` = 'Katsina', `360` = 'Dakar', `361` = 'Diourbel', `362` = 'Fatick',
      `363` = 'Kaolack', `364` = 'Kolda', `365` = 'Louga', `366` = 'Matam',
      `367` = 'Saint Louis', `368` = 'Tambacounda', `369` = 'Thies',
      `370` = 'Ziguinchor', `380` = 'Dodoma', `381` = 'Arusha',
      `382` = 'Kilimanjaro', `383` = 'Tanga', `384` = 'Morogoro',
      `385` = 'Pwani', `386` = 'Dar es Salaam', `387` = 'Lindi',
      `388` = 'Mtwara', `389` = 'Ruvuma', `390` = 'Iringa', `391` = 'Mbeya',
      `392` = 'Singida', `393` = 'Tabora', `394` = 'Rukwa', `395` = 'Kigoma',
      `396` = 'Shinyanga', `397` = 'Kagera', `398` = 'Mwanza', `399` = 'Mara',
      `400` = 'Central', `401` = 'East', `402` = 'North', `404` = 'West',
      `420` = 'Lusaka', `421` = 'Central', `422` = 'Copper Belt',
      `423` = 'Eastern', `424` = 'Luapula', `425` = 'Northern',
      `426` = 'North-western', `427` = 'Southern',`428` = 'Western',
      `440` = 'Harare', `441` = 'Bulawayo', `442` = 'Midlands',
      `443` = 'Masvingo', `444` = 'Mashonaland East',
      `445` = 'Mashonaland West', `446` = 'Mashonaland Central',
      `447` = 'Matebeleland South', `448` = 'Matebeleland North',
      `449` = 'Manicaland', `540` = 'Manyara', `541` = 'North Unguja',
      `542` = 'South Unguja', `543` = 'Urban West', `544` = 'North Pemba',
      `545` = 'South Pemba', `550` = 'Zamfara', `551` = 'Bauchi',
      `552` = 'Bomo', `553` = 'Adamawa', `554` = 'Taraba', `555` = 'Plateau',
      `556` = 'Benue', `557` = 'Kogi', `558` = 'Kwara', `559` = 'Niger',
      `560` = 'FCT'),
    areaname_eng_iso = '', #corrected area names from ISO standards
    areaname_eng_iso2 = '',
    NAME_0 = '',
    ID_1 = NA,
    ID_2 = NA
  ) %>% rename(., area_num = region)

ab04 <- ab04.raw %>%
  mutate(
    cname_eng = recode(COUNTRY,
      `1` = 'Benin', `2` = 'Botswana', `3` = 'Burkina Faso', `4` = 'Cape Verde',
      `5` = 'Ghana', `6` = 'Kenya', `7` = 'Lesotho', `8` = 'Liberia',
      `9` = 'Madagascar', `10` = 'Malawi', `11` = 'Mali', `12` = 'Mozambique',
      `13` = 'Namibia', `14` = 'Nigeria', `15` = 'Senegal',
      `16` = 'South Africa', `17` = 'Tanzania', `18` = 'Uganda',
      `19` = 'Zambia', `20` = 'Zimbabwe'),
    areaname_eng_ab = recode(REGION,
      # English alphabet used to avoid encoding issues later
      #    ã -> a; é -> e; è -> e
      `100` = 'Alibori', `101` = 'Atacora', `102` = 'Atlantique',
      `103` = 'Borgou', `104` = 'Collines', `105` = 'Couffo', `106` = 'Donga',
      `107` = 'Littoral', `108` = 'Mono', `109` = 'OuAmA', `110` = 'Plateau',
      `111` = 'Zou', `140` = 'Barolong', `141` = 'Central Bobonong',
      `142` = 'Central Boteti', `143` = 'Central Mahalapye',
      `144` = 'Central Serowe/Palapye', `145` = 'Central Tutume',
      `146` = 'Chobe', `147` = 'Francistown', `148` = 'Gaborone',
      `149` = 'Ghanzi', `150` = 'Jwaneng', `151` = 'Kgalagadi South',
      `152` = 'Kgalagadi North', `153` = 'Kgatleng', `154` = 'Kweneng East',
      `155` = 'Kweneng West', `156` = 'Lobatse', `157` = 'Ngamiland East',
      `158` = 'Ngamiland West', `159` = 'Ngwaketse', `160` = 'Ngwaketse West',
      `161` = 'North East', `162` = 'Selibe Pikwe', `163` = 'South East',
      `180` = 'Boucle du Mouhoun', `181` = 'Cascades', `182` = 'Centre',
      `183` = 'Centre-East', `184` = 'Centre-North', `185` = 'Centre-West',
      `186` = 'Centre-South', `187` = 'East', `188` = 'Hauts-Bassins',
      `189` = 'North', `190` = 'Plateau Central', `191` = 'Sahel',
      `192` = 'South West', `220` = 'Santo Antao', `221` = 'Sao Vicente',
      `222` = 'Santiago - Interior', `223` = 'Santiago - Praia', `224` = 'Fogo',
      `260` = 'Western', `261` = 'Central', `262` = 'Greater Accra',
      `263` = 'Volta', `264` = 'Eastern', `265` = 'Ashanti',
      `266` = 'Brong Ahafo', `267` = 'Northern', `268` = 'Upper East',
      `269` = 'Upper West', `300` = 'Nairobi', `301` = 'Central',
      `302` = 'Eastern', `303` = 'Rift Valley', `304` = 'Nyanza',
      `305` = 'Western', `306` = 'North Eastern', `307` = 'Coast',
      `340` = 'Butha-Buthe', `341` = 'Leribe', `342` = 'Berea',
      `343` = 'Maseru', `344` = 'Mafeteng', `345` = 'Mohale\'s Hoek',
      `346` = 'Quthing', `347` = 'Qacha\'s Nek', `348` = 'Mokhotlong',
      `349` = 'Thaba-Tseka', `380` = 'Bomi', `381` = 'Bong',
      `382` = 'Gbarpolu', `383` = 'Grand Bassa', `384` = 'Grand Cape Mount',
      `385` = 'Grand Gedeh', `386` = 'Grand Kru', `387` = 'Lofa',
      `388` = 'Margibi', `389` = 'Maryland', `390` = 'Montserrado',
      `391` = 'Nimba', `392` = 'Rivercess', `393` = 'River Gee',
      `394` = 'Sinoe', `420` = 'Antananarivo', `421` = 'Fianarantsoa',
      `422` = 'Toamasina', `423` = 'Mahajanga', `424` = 'Toliary',
      `425` = 'Antsiranana', `460` = 'Central', `461` = 'North',
      `462` = 'South', `501` = 'Kayes', `502` = 'Koulikoro', `503` = 'Sikasso',
      `504` = 'Segou', `505` = 'Mopti', `506` = 'Tombouctou', `507` = 'Gao',
      `508` = 'Kidal', `509` = 'Bamako', `540` = 'Maputo',
      `541` = 'Maputo City', `542` = 'Gaza', `543` = 'Inhambane',
      `544` = 'Sofala', `545` = 'Tete', `546` = 'Manica', `547` = 'Zambezia',
      `548` = 'Nampula', `549` = 'Niassa', `550` = 'Cabo Delgado',
      `580` = 'Caprivi', `581` = 'Erongo', `582` = 'Hardap', `583` = 'Karas',
      `584` = 'Kavango', `585` = 'Khomas', `586` = 'Kunene',
      `587` = 'Ohangwena', `588` = 'Omaheke', `589` = 'Omusati',
      `590` = 'Oshana', `591` = 'Oshikoto', `592` = 'Otjozondjupa',
      `620` = 'Abia', `621` = 'Adamawa', `622` = 'Akwa-lbom', `623` = 'Anambra',
      `624` = 'Bauchi', `625` = 'Bayelsa', `626` = 'Benue', `627` = 'Borno',
      `628` = 'Cross-River', `629` = 'Delta', `630` = 'Ebonyi', `631` = 'Edo',
      `632` = 'Ekiti', `633` = 'Enugu', `634` = 'FCT', `635` = 'Gombe',
      `636` = 'Imo', `637` = 'Jigawa', `638` = 'Kaduna', `639` = 'Kano',
      `640` = 'Katsina', `641` = 'Kebbi', `642` = 'Kogi', `643` = 'Kwara',
      `644` = 'Lagos', `645` = 'Nassarawa', `646` = 'Niger', `647` = 'Ogun',
      `648` = 'Ondo', `649` = 'Osun', `650` = 'Oyo', `651` = 'Plateau',
      `652` = 'Rivers', `653` = 'Sokoto', `654` = 'Taraba', `655` = 'Yobe',
      `656` = 'Zamfara', `660` = 'Dakar', `661` = 'Diourbel', `662` = 'Fatick',
      `663` = 'Kaolack', `664` = 'Kolda', `665` = 'Louga', `666` = 'Matam',
      `667` = 'Saint-Louis', `668` = 'Tambacounda', `669` = 'Thies',
      `670` = 'Ziguinchor', `700` = 'Eastern Cape', `701` = 'Free State',
      `702` = 'Gauteng', `703` = 'Kwazulu Natal', `704` = 'Limpopo',
      `705` = 'Mpumalanga', `706` = 'North West', `707` = 'Northern Cape',
      `708` = 'Western Cape', `740` = 'Dodoma', `741` = 'Arusha',
      `742` = 'Kilimanjaro', `743` = 'Tanga', `744` = 'Morogoro',
      `745` = 'Coast (Pwani)', `746` = 'Dar es Salaam', `747 ` = 'Lindi',
      `748` = 'Mtwara', `749` = 'Ruvuma', `750` = 'Iringa', `751` = 'Mbeya',
      `752` = 'Singida', `753` = 'Tabora', `754` = 'Rukwa', `755` = 'Kigoma',
      `756` = 'Shinyanga', `757` = 'Kagera', `758` = 'Mwanza', `759` = 'Mara',
      `760` = 'Manyara', `761` = 'North Unguja', `762` = 'South Unguja',
      `763` = 'Urban West', `764` = 'North Pemba', `765` = 'South Pemba',
      `780` = 'Central', `781` = 'West', `782` = 'North', `783` = 'East',
      `784` = 'Kampala', `820` = 'Lusaka', `821` = 'Central',
      `822` = 'Copperbelt', `823` = 'Eastern', `824` = 'Luapula',
      `825` = 'Northern', `826` = 'North-Western', `827` = 'Southern',
      `828` = 'Western', `860` = 'Harare', `861` = 'Bulawayo',
      `862` = 'Midlands', `863` = 'Masvingo', `864` = 'Mashonaland East',
      `865` = 'Mashonaland West', `866` = 'Mashonaland Central',
      `867` = 'Matebeleland South', `868` = 'Matebeleland North',
      `869` = 'Manicaland'),
    areaname_eng_iso = '', #corrected area names from ISO standards
    areaname_eng_iso2 = '',
    NAME_0 = '',
    ID_1 = NA,
    ID_2 = NA
  ) %>% rename(., area_num = REGION)

ab05 <- ab05.raw %>%
  mutate(
    cname_eng = recode(COUNTRY_ALPHA,
      `1` = 'Algeria', `2` = 'Benin', `3` = 'Botswana', `4` = 'Burkina Faso',
      `5` = 'Burundi', `6` = 'Cameroon', `7` = 'Cape Verde',
      `8` = 'Cote d\'Ivoire', `9` = 'Egypt', `11` = 'Ghana', `12` = 'Guinea',
      `13` = 'Kenya', `14` = 'Lesotho', `15` = 'Liberia', `16` = 'Madagascar',
      `17` = 'Malawi', `18` = 'Mali', `19` = 'Mauritius', `20` = 'Morocco',
      `21` = 'Mozambique', `22` = 'Namibia', `23` = 'Niger', `24` = 'Nigeria',
      `25` = 'Senegal', `26` = 'Sierra Leone', `27` = 'South Africa',
      `28` = 'Sudan', `29` = 'Swaziland', `30` = 'Tanzania', `31` = 'Togo',
      `32` = 'Tunisia', `33` = 'Uganda', `34` = 'Zambia', `35` = 'Zimbabwe'),
    areaname_eng_ab = recode(REGION,
      # English alphabet used to avoid encoding issues later
      #    ã -> a; é -> e; è -> e
      `100` = 'Alibori', `101` = 'Atacora', `102` = 'Atlantique',
      `103` = 'Borgou', `104` = 'Collines', `105` = 'Couffo', `106` = 'Donga',
      `107` = 'Littoral', `108` = 'Mono', `109` = 'Oueme', `110` = 'Plateau',
      `111` = 'Zou', `140` = 'Barolong', `141` = 'Central Bobonong',
      `142` = 'Central Boteti', `143` = 'Central Mahalapye',
      `144` = 'Central Serowe/Palapye', `145` = 'Central Tutume',
      `146` = 'Chobe', `147` = 'Francistown', `148` = 'Gaborone',
      `149` = 'Ghanzi', `150` = 'Jwaneng', `151` = 'Kgalagadi North',
      `152` = 'Kgalagadi South', `153` = 'Kgatleng', `154` = 'Kweneng East',
      `155` = 'Kweneng West', `156` = 'Lobatse', `157` = 'Ngamiland East',
      `158` = 'Ngamiland West', `159` = 'Ngwaketse', `160` = 'Ngwaketse West',
      `161` = 'North East', `162` = 'Seleibe Phikwe', `163` = 'South East',
      `164` = 'Sowa', `180` = 'Boucle du Mouhoun', `181` = 'Cascades',
      `182` = 'Centre', `183` = 'Centre-Est', `184` = 'Centre-Nord',
      `185` = 'Centre-Ouest', `186` = 'Centre-Sud', `187` = 'Est',
      `188` = 'Hauts-Bassins', `189` = 'Nord', `190` = 'Plateau Central',
      `191` = 'Sahel', `192` = 'Sud-Ouest', `220` = 'S.Antao',
      `221` = 'S.Vicente', `222` = 'Santiago- Interior',
      `223` = 'Santiago- Praia', `224` = 'Fogo', `260` = 'Western',
      `261` = 'Central', `262` = 'Greater Accra', `263` = 'Volta',
      `264` = 'Eastern', `265` = 'Ashanti', `266` = 'Brong Ahafo',
      `267` = 'Northern', `268` = 'Upper East', `269` = 'Upper West',
      `300` = 'Nairobi', `301` = 'Central', `302` = 'Eastern',
      `303` = 'Rift Valley', `304` = 'Nyanza', `305` = 'Western',
      `306` = 'North Eastern', `307` = 'Coast', `340` = 'Maseru',
      `341` = 'Mafeteng', `342` = 'Mohale\'s Hoek', `343` = 'Quthing',
      `344` = 'Qacha\'s Nek', `345` = 'Mokhotlong', `346` = 'Butha-Buthe',
      `347` = 'Leribe', `348` = 'Berea', `349` = 'Thaba Tseka', `380` = 'Bomi',
      `381` = 'Bong', `382` = 'Gbarpolu', `383` = 'Grand Bassa',
      `384` = 'Grand Cape Mount', `385` = 'Grand Gedeh', `386` = 'Grand Kru',
      `387` = 'Lofa', `388` = 'Margibi', `389` = 'Maryland',
      `390` = 'Montserrado', `391` = 'Nimba', `392` = 'River Cess',
      `393` = 'River Gee', `394` = 'Sinoe', `420` = 'Alaotra Mangoro',
      `421` = 'Amoron\'i Mania', `422` = 'Analamanga', `423` = 'Analanjirofo',
      `424` = 'Androy', `425` = 'Anosy', `426` = 'Atsimo Andrefana',
      `427` = 'Atsimo Atsinanana', `428` = 'Atsinanana', `429` = 'Betsiboka',
      `430` = 'Boeny', `431` = 'Bongolava', `432` = 'Diana',
      `433` = 'Haute Matsiatra', `434` = 'Ihorombe', `435` = 'Itasy',
      `436` = 'Melaky', `437` = 'Menabe', `438` = 'SAVA', `439` = 'Sofia',
      `440` = 'Vakinankaratra', `441` = 'Vatovavy Fitovinany',
      `460` = 'Central', `461` = 'North', `462` = 'South', `501` = 'Kayes',
      `502` = 'Koulikoro', `503` = 'Sikasso', `504` = 'Segou', `505` = 'Mopti',
      `509` = 'Bamako', `540` = 'Maputo Province', `541` = 'Maputo City',
      `542` = 'Gaza', `543` = 'Inhambane', `544` = 'Sofala', `545` = 'Tete',
      `546` = 'Manica', `547` = 'Zambezia', `548` = 'Nampula',
      `549` = 'Cabo Delgado', `550` = 'Niassa', `580` = 'Caprivi',
      `581` = 'Erongo', `582` = 'Hardap', `583` = 'Karas', `584` = 'Kavango',
      `585` = 'Khomas', `586` = 'Kunene', `587` = 'Ohangwena',
      `588` = 'Omaheke', `589` = 'Omusati', `590` = 'Oshana',
      `591` = 'Oshikoto', `592` = 'Otjozondjupa', `620` = 'Abia',
      `621` = 'Adamawa', `622` = 'Akwa-Ibom', `623` = 'Anambra',
      `624` = 'Bauchi', `625` = 'Bayelsa', `626` = 'Benue', `627` = 'Borno',
      `628` = 'Cross-River', `629` = 'Delta', `630` = 'Ebonyi', `631` = 'Edo',
      `632` = 'Ekiti', `633` = 'Enugu', `634` = 'FCT', `635` = 'Gombe',
      `636` = 'Imo', `637` = 'Jigawa', `638` = 'Kaduna', `639` = 'Kano',
      `640` = 'Katsina', `641` = 'Kebbi', `642` = 'Kogi', `643` = 'Kwara',
      `644` = 'Lagos', `645` = 'Nasarawa', `646` = 'Niger', `647` = 'Ogun',
      `648` = 'Ondo', `649` = 'Osun', `650` = 'Oyo', `651` = 'Plateau',
      `652` = 'Rivers', `653` = 'Sokoto', `654` = 'Taraba', `655` = 'Yobe',
      `656` = 'Zamfara', `660` = 'Dakar', `661` = 'Diourbel', `662` = 'Fatick',
      `663` = 'Kaffrine', `664` = 'Kaolack', `665` = 'Kedougou',
      `666` = 'Kolda', `667` = 'Louga', `668` = 'Matam', `669` = 'Saint-Louis',
      `670` = 'Sedhiou', `671` = 'Tambacounda', `672` = 'Thies',
      `673` = 'Ziguinchor', `700` = 'Eastern Cape', `701` = 'Free State',
      `702` = 'Gauteng', `703` = 'Kwazulu Natal', `704` = 'Limpopo',
      `705` = 'Mpumalanga', `706` = 'North West', `707` = 'Northern Cape',
      `708` = 'Western Cape', `740` = 'Dodoma', `741` = 'Arusha',
      `742` = 'Kilimanjaro', `743` = 'Tanga', `744` = 'Morogoro',
      `745` = 'Pwani', `746` = 'Dar es Salaam', `747` = 'Lindi',
      `748` = 'Mrwara', `749` = 'Ruvuma', `750` = 'Iringa', `751` = 'Mbeya',
      `752` = 'Singida', `753` = 'Tabora', `754` = 'Rukwa', `755` = 'Kigoma',
      `756` = 'Shinyanga', `757` = 'Kagera', `758` = 'Mwanza', `759` = 'Mara',
      `760` = 'Manyara', `761` = 'Unguja Kaskazini', `762` = 'Unfuja Kusini',
      `763` = 'Mjini Magharibi', `764` = 'Pemba Kaskazini',
      `765` = 'Pemba Kusini', `780` = 'Central', `781` = 'West',
      `782` = 'North', `783` = 'East', `784` = 'Kampala', `820` = 'Lusaka',
      `821` = 'Central', `822` = 'Copperbelt', `823` = 'Eastern',
      `824` = 'Luapula', `825` = 'Northern', `826` = 'North-Western',
      `827` = 'Southern', `828` = 'Western', `829` = 'Muchinga',
      `860` = 'Harare', `861` = 'Bulawayo', `862` = 'Midlands',
      `863` = 'Masvingo', `864` = 'Mashonaland East',
      `865` = 'Mashonaland West', `866` = 'Mashonaland Central',
      `867` = 'Matebeleland South', `868` = 'Matebeleland North',
      `869` = 'Manicaland', `900` = 'Port Louis', `901` = 'Pamplemousses',
      `902` = 'Riviere du Rempart', `903` = 'Flacq', `904` = 'Grand Port',
      `905` = 'Savanne', `906` = 'Plaines Wilhems', `907` = 'Moka',
      `908` = 'Black River', `909` = 'Rodrigues', `930` = 'Western Area',
      `931` = 'Southern Province', `932` = 'Eastern Province',
      `933` = 'Northern Province', `1100` = 'Agadez', `1101` = 'Diffa',
      `1102` = 'Dosso', `1103` = 'Maradi', `1104` = 'Tahoua',
      `1105` = 'Tillaberi', `1106` = 'Zinder', `1107` = 'Niamey',
      `1140` = 'Lome commune', `1141` = 'Maritime', `1142` = 'Plateaux',
      `1143` = 'Centrale', `1144` = 'Kara', `1145` = 'Savanes',
      `1180` = 'Bubanza', `1181` = 'Bujumbura', `1182` = 'Bujumbura Mairie',
      `1183` = 'Buriri', `1184` = 'Cankuzo', `1185` = 'Cibitoke',
      `1186` = 'Gitega', `1187` = 'Karusi', `1188` = 'Kayanza',
      `1189` = 'Kirundo', `1190` = 'Makamba', `1191` = 'Muramvya',
      `1192` = 'Muyinga', `1193` = 'Mwaro', `1194` = 'Ngozi', `1195` = 'Rutana',
      `1196` = 'Ruyigi', `1220` = 'Yaounde', `1221` = 'Douala',
      `1222` = 'Adamawa', `1223` = 'Centre', `1224` = 'East',
      `1225` = 'Extreme-North', `1226` = 'Littoral', `1227` = 'North',
      `1228` = 'North West', `1229` = 'West', `1230` = 'Sud',
      `1231` = 'Sud-Ouest', `1260` = 'Agneby', `1261` = 'Bafing',
      `1262` = 'Bas Sassandra', `1263` = 'Denguele', `1264` = 'Fromager',
      `1265` = 'Haut Sassandra', `1266` = 'Lacs', `1267` = 'Lagunes',
      `1268` = 'Marahoue', `1269` = 'Montagnes', `1270` = 'Moyen Cavally',
      `1271` = 'Moyen Comoe', `1272` = 'N\'Zi Comoe', `1273` = 'Savanes',
      `1274` = 'Sud Bandama', `1275` = 'Sud Comoe',
      `1276` = 'Vallee du Bandama', `1277` = 'Ville d\'Abidjan',
      `1278` = 'Worodougou', `1279` = 'Zanzan', `1300` = 'Canakry',
      `1301` = 'Boke', `1302` = 'Kindia',`1303` = 'Mamou', `1304` = 'Labe',
      `1305` = 'Faranah', `1306` = 'Kankan', `1307` = 'N\'Zerekore',
      `1420` = 'Adrar', `1421` = 'Chlef', `1422` = 'Laghouat',
      `1423` = 'Oum el-Bouaghi', `1424` = 'Batna', `1425` = 'Bejaia',
      `1426` = 'Biskra', `1427` = 'Bechar', `1428` = 'Blida', `1429` = 'Bouria',
      `1430` = 'Tamanghasset', `1431` = 'Tebessa', `1432` = 'Tlemcen',
      `1433` = 'Tiaret', `1434` = 'Tizi Ouzou', `1435` = 'Algeris',
      `1436` = 'Djelfa', `1437` = 'Jijel', `1438` = 'Setif', `1439` = 'Saida',
      `1440` = 'Skikda', `1441` = 'Sidi Bel Abbes', `1442` = 'Annaba',
      `1443` = 'Guelma', `1444` = 'Constantine', `1445` = 'Medea',
      `1446` = 'Mostaganem', `1447` = 'M\'Sila', `1448` = 'Mascara',
      `1449` = 'Ouargla', `1450` = 'Oran', `1451` = 'El Bayadh',
      `1452` = 'Illizi', `1453` = 'Bordj Bou Arreridj', `1454` = 'Boumerdes',
      `1455` = 'El Tarf', `1456` = 'Tindouf', `1457` = 'Tissemsilt',
      `1458` = 'El Oued', `1459` = 'Khenchela', `1460` = 'Cairo',
      `1461` = 'Alexandira', `1462` = 'Port Said', `1463` = 'Suez',
      `1464` = 'Damietta', `1465` = 'Dakahlia', `1466` = 'Al-Sharqia',
      `1467` = 'Qalyubia', `1468` = 'Kafr el-Sheikh', `1469` = 'Gharbia',
      `1470` = 'Monufia', `1471` = 'Beheira', `1472` = 'Ismailia',
      `1473` = 'Giza', `1474` = 'Beni Suef', `1475` = 'Faiyum',
      `1476` = 'Minya', `1477` = 'Asyut', `1478` = 'Sohag', `1479` = 'Qena',
      `1480` = 'Luxor', `1481` = 'Red Sea', `1482` = 'Al Bahr al Ahmar',
      `1500` = 'Chaouia-Ouardigha', `1501` = 'Doukkala-Abda',
      `1502` = 'Fes-Boulemane', `1503` = 'Gharb-Charda-Beni Hssen',
      `1504` = 'Grand Casablanca', `1505` = 'Guelmim-Es Semara',
      `1506` = 'Laayoune-Boujdour-Sakia El Hamra',
      `1507` = 'Marrakech-Tensift-El Haouz', `1508` = 'Meknes-Tafilalet',
      `1509` = 'Oriental', `1510` = 'Oued Ed-Dahab-Lagouira',
      `1511` = 'Rabat-Sale-Zemmour-Zaer', `1512` = 'Souss-Massa-Draa',
      `1513` = 'Tadla-Azilal', `1514` = 'Tangier-Tetouan',
      `1515` = 'Taza-Al Hoceima-Taounate', `1540` = 'North',
      `1541` = 'Nahr ALnil', `1542` = 'Red Sea', `1543` = 'Kassala',
      `1544` = 'Gadarif', `1545` = 'Khartom', `1546` = 'Gezira',
      `1547` = 'White Nile', `1548` = 'Sennar', `1549` = 'Blue Nile',
      `1550` = 'South Kordufan', `1551` = 'North Kordufan',
      `1552` = 'North Darfur', `1553` = 'West Darfur', `1554` = 'South Darfur',
      `1580` = 'Tunis', `1581` = 'Ariana', `1582` = 'Ben Arous',
      `1583` = 'Manouba', `1584` = 'Nabeul', `1585` = 'Zaghouan',
      `1586` = 'Bizerte', `1587` = 'Beja', `1588` = 'Jendouba',
      `1589` = 'Le Kef', `1590` = 'Siliana', `1591` = 'Sousse',
      `1592` = 'Monastir', `1593` = 'Mahdia', `1594` = 'Sfax',
      `1595` = 'Kairouan', `1596` = 'Kasserine', `1597` = 'Sidi Bouzid',
      `1598` = 'Gabes', `1599` = 'Mednine', `1600` = 'Tataouine',
      `1601` = 'Gafsa', `1602` = 'Tozeur', `1603` = 'Kebili', `1620` = 'Hhohho',
      `1621` = 'Manzini', `1622` = 'Shiselweni', `1623` = 'Lubombo'),
    areaname_eng_iso = '', #corrected area names from ISO standards
    areaname_eng_iso2 = '',
    NAME_0 = '',
    ID_1 = NA,
    ID_2 = NA
  ) %>% rename(., area_num = REGION)

ab06 <- ab06.raw %>%
  mutate(
    cname_eng = recode(COUNTRY,
      `1` = 'Algeria', `2` = 'Benin', `3` = 'Botswana', `4` = 'Burkina Faso',
      `5` = 'Burundi', `6` = 'Cameroon', `7` = 'Cape Verde',
      `8` = 'Cote d\'Ivoire', `9` = 'Egypt', `10` = 'Gabon', `11` = 'Ghana',
      `12` = 'Guinea', `13` = 'Kenya', `14` = 'Lesotho', `15` = 'Liberia',
      `16` = 'Madagascar', `17` = 'Malawi', `18` = 'Mali', `19` = 'Mauritius',
      `20` = 'Morocco', `21` = 'Mozambique', `22` = 'Namibia', `23` = 'Niger',
      `24` = 'Nigeria', `25` = 'Sao Tome and Principe', `26` = 'Senegal',
      `27` = 'Sierra Leone', `28` = 'South Africa', `29` = 'Sudan',
      `30` = 'Swaziland', `31` = 'Tanzania', `32` = 'Togo', `33` = 'Tunisia',
      `34` = 'Uganda', `35` = 'Zambia', `36` = 'Zimbabwe'),
    areaname_eng_ab = recode(REGION,
      # English alphabet used to avoid encoding issues later
      #    ã -> a; é -> e; è -> e; í -> i; ê -> e; ô -> o; â -> a
      `100` = 'Alibori', `101` = 'Atacora', `102` = 'Atlantique',
      `103` = 'Borgou', `104` = 'Collines', `105` = 'Couffo', `106` = 'Donga',
      `107` = 'Littoral', `108` = 'Mono', `109` = 'Oueme', `110` = 'Plateau',
      `111` = 'Zou', `140` = 'Barolong', `141` = 'Central Bobonong',
      `142` = 'Central Boteti', `143` = 'Central Mahalapye',
      `144` = 'Central Serowe/Palapye', `145` = 'Central Tutume',
      `146` = 'Chobe', `147` = 'Francistown', `148` = 'Gaborone',
      `149` = 'Ghanzi', `150` = 'Jwaneng', `151` = 'Kgalagadi North',
      `152` = 'Kgalagadi South', `153` = 'Kgatleng', `154` = 'Kweneng East',
      `155` = 'Kweneng West', `156` = 'Lobatse', `157` = 'Ngamiland East',
      `158` = 'Ngamiland West', `159` = 'Ngwaketse', `160` = 'Ngwaketse West',
      `161` = 'North East', `162` = 'Selibe Phikwe', `163` = 'South East',
      `180` = 'Boucle du Mouhoun', `181` = 'Cascades', `182` = 'Centre',
      `183` = 'Centre East', `184` = 'Centre Nord', `185` = 'Centre Ouest',
      `186` = 'Centre Sud', `187` = 'Est', `188` = 'Hauts Bassins',
      `189` = 'Nord', `190` = 'Plateau Central', `191` = 'Sahel',
      `192` = 'Sud Ouest', `220` = 'S. Antao', `221` = 'S.Vincente',
      `222` = 'Santiago-Interior', `223` = 'Santiago-Praia', `224` = 'Fogo',
      `260` = 'Western', `261` = 'Central', `262` = 'Greater Accra',
      `263` = 'Volta', `264` = 'Eastern', `265` = 'Ashanti',
      `266` = 'Brong Ahafo', `267` = 'Northern', `268` = 'Upper East',
      `269` = 'Upper West', `300` = 'Nairobi', `301` = 'Central',
      `302` = 'Eastern', `303` = 'Rift Valley', `304` = 'Nyanza',
      `305` = 'Western', `306` = 'North Eastern', `307` = 'Coast',
      `340` = 'Maseru', `341` = 'Mafeteng', `342` = 'Mohale\'s Hoek',
      `343` = 'Quthing', `344` = 'Qacha\'s Nek', `345` = 'Mokhotlong',
      `346` = 'Buthe-Buthe', `347` = 'Leribe', `348` = 'Berea',
      `349` = 'Thaba Tseka', `380` = 'Bomi', `381` = 'Bong', `382` = 'Gbarpolu',
      `383` = 'Grand Bassa', `384` = 'Grand Cape Mount', `385` = 'Grand Gedeh',
      `386` = 'GrandKru', `387` = 'Lofa', `388` = 'Margibi', `389` = 'Maryland',
      `390` = 'Montserrado', `391` = 'Nimba', `392` = 'Rivercess',
      `393` = 'River Gee', `394` = 'Sinoe', `420` = 'Alaotra Mangoro',
      `421` = 'Amoron\'i Mania', `422` = 'Analamanga', `423` = 'Analanjirofo',
      `424` = 'Androy', `425` = 'Anosy', `426` = 'Atsimo Andrefana',
      `427` = 'Atsimo Atsinanana', `428` = 'Atsinanana', `429` = 'Betsiboka',
      `430` = 'Boeny', `431` = 'Bongolava', `432` = 'Diana',
      `433` = 'Haute Matsiatra', `434` = 'Ihorombe', `435` = 'Itasy',
      `436` = 'Melaky', `437` = 'Menabe', `438` = 'SAVA', `439` = 'Sofia',
      `440` = 'Vakinankaratra', `441` = 'Vatovavy Fitonany', `460` = 'Central',
      `461` = 'North', `462` = 'South', `501` = 'Kayes', `502` = 'Koulikoro',
      `503` = 'Sikasso', `504` = 'Segou', `505` = 'Mopti',
      `506` = 'Tombouctou', `507` = 'Gao', `508` = 'Kidal', `509` = 'Bamako',
      `540` = 'Maputo Province', `541` = 'Maputo City', `542` = 'Gaza',
      `543` = 'Inhambane', `544` = 'Sofala', `545` = 'Tete', `546` = 'Manica',
      `547` = 'Zambezia', `548` = 'Nampula', `549` = 'Cabo Delgado',
      `550` = 'Niassa', `580` = 'Zambezi', `581` = 'Erongo', `582` = 'Hardap',
      `583` = 'Karas', `584` = 'Kavango West', `585` = 'Kavango East',
      `586` = 'Khomas', `587` = 'Kunene', `588` = 'Ohangwena',
      `589` = 'Omaheke', `590` = 'Omusati', `591` = 'Oshana',
      `592` = 'Oshikoto', `593` = 'Otjozondjupa', `620` = 'Abia',
      `622` = 'Akwa-Ibom', `623` = 'Anambra', `624` = 'Bauchi',
      `625` = 'Bayelsa', `626` = 'Benue', `628` = 'Cross-River',
      `629` = 'Delta', `630` = 'Ebonyi', `631` = 'Edo', `632` = 'Ekiti',
      `633` = 'Enugu', `634` = 'FCT', `635` = 'Gombe', `636` = 'Imo',
      `637` = 'Jigawa', `638` = 'Kaduna', `639` = 'Kano', `640` = 'Katsina',
      `641` = 'Kebbi', `642` = 'Kogi', `643` = 'Kwara', `644` = 'Lagos',
      `645` = 'Nasarawa', `646` = 'Niger', `647` = 'Ogun', `648` = 'Ondo',
      `649` = 'Osun', `650` = 'Oyo', `651` = 'Plateau', `652` = 'Rivers',
      `653` = 'Sokoto', `654` = 'Taraba', `656` = 'Zamfara', `660` = 'Dakar',
      `661` = 'Diourbel', `662` = 'Fatick', `663` = 'Kaffrine',
      `664` = 'Kaolack', `665` = 'Kedougou', `666` = 'Kolda', `667` = 'Louga',
      `668` = 'Matam', `669` = 'Saint-Louis', `670` = 'Sedhiou',
      `671` = 'Tambacounda', `672` = 'Thies', `673` = 'Ziguinchor',
      `700` = 'Eastern Cape', `701` = 'Free State', `702` = 'Gauteng',
      `703` = 'Kwazulu Natal', `704` = 'Limpopo', `705` = 'Mpumalanga',
      `706` = 'North West', `707` = 'Northern Cape', `708` = 'Western Cape',
      `740` = 'Dodoma', `741` = 'Arusha', `742` = 'Kilimanjaro',
      `743` = 'Tanga', `744` = 'Morogoro', `745` = 'Pwani',
      `746` = 'Dar es Salaam', `747` = 'Lindi', `748` = 'Mrwara',
      `749` = 'Ruvuma', `750` = 'Iringa', `751` = 'Mbeya', `752` = 'Singida',
      `753` = 'Tabora', `754` = 'Rukwa', `755` = 'Kigoma', `756` = 'Shinyanga',
      `757` = 'Kagera', `758` = 'Mwanza', `759` = 'Mara', `760` = 'Manyara',
      `761` = 'Unguja Kaskazini', `762` = 'Unfuja Kusini',
      `763` = 'Mjini Magharibi', `764` = 'Pemba Kaskazini',
      `765` = 'Pemba Kusini', `766` = 'Geita', `767` = 'Katavi',
      `768` = 'Njombe', `769` = 'Simiyu', `780` = 'Central', `781` = 'West',
      `782` = 'North', `783` = 'East', `784` = 'Kampala', `820` = 'Lusaka',
      `821` = 'Central', `822` = 'Copperbelt', `823` = 'Eastern',
      `824` = 'Luapula', `825` = 'Northern', `826` = 'North-Western',
      `827` = 'Southern', `828` = 'Western', `829` = 'Muchinga',
      `860` = 'Harare', `861` = 'Bulawayo', `862` = 'Midlands',
      `863` = 'Masvingo', `864` = 'Mashonaland East',
      `865` = 'Mashonaland West', `866` = 'Mashonaland Central',
      `867` = 'Matebeleland South', `868` = 'Matebeleland North',
      `869` = 'Manicaland', `900` = 'Port Louis', `901` = 'Pamplemousses',
      `902` = 'Riviere du Rempart', `903` = 'Flacq', `904` = 'Grand Port',
      `905` = 'Savanne', `906` = 'Savanne', `907` = 'Moka',
      `908` = 'Black River', `909` = 'Rodrigues', `930` = 'East',
      `931` = 'North', `932` = 'South', `933` = 'Western', `1100` = 'Agadez',
      `1102` = 'Dosso', `1103` = 'Maradi', `1104` = 'Tahoua',
      `1105` = 'Tillaberi', `1106` = 'Zinder', `1107` = 'Niamey',
      `1140` = 'Lome Commune', `1141` = 'Maritime', `1142` = 'Plateaux',
      `1143` = 'Centrale', `1144` = 'Kara', `1145` = 'Savanes',
      `1180` = 'Bubanza', `1181` = 'Bujumbura', `1182` = 'Bujumbura Marie',
      `1183` = 'Bururi', `1184` = 'Cankuza', `1185` = 'Cibitoke',
      `1186` = 'Gitega', `1187` = 'Karusi', `1188` = 'Kayanza',
      `1189` = 'Kirundo', `1190` = 'Makamba', `1191` = 'Muramvya',
      `1192` = 'Muyinga', `1193` = 'Mwaro', `1194` = 'Ngozi', `1195` = 'Rutana',
      `1196` = 'Ruyiga', `1220` = 'Centre-Yaounde', `1221` = 'Littoral- Douala',
      `1222` = 'Adamaoua', `1223` = 'Centre', `1224` = 'Est',
      `1225` = 'Extreme-Nord', `1226` = 'Littoral', `1227` = 'Nord',
      `1228` = 'Nord-Ouest', `1229` = 'Ouest', `1230` = 'Sud',
      `1231` = 'Sud-Ouest', `1260` = 'Abidjan', `1261` = 'Agneby-Tiassa',
      `1262` = 'Bafing', `1263` = 'Bagoue', `1264` = 'Belier', `1265` = 'Bere',
      `1266` = 'Bounkani', `1267` = 'Cavally', `1269` = 'Gbeke',
      `1270` = 'Gbokle', `1271` = 'Goh', `1272` = 'Gontougo',
      `1273` = 'Grands Ponts', `1274` = 'Guemon', `1275` = 'Hambol',
      `1276` = 'Haut Sassandra', `1277` = 'Iffou', `1278` = 'Indenie-Djuablin',
      `1279` = 'Kabadougou', `1280` = 'La Me', `1281` = 'Loh-Djiboua',
      `1282` = 'Marahoue', `1283` = 'Moronou', `1284` = 'Nawa',
      `1285` = 'N\'Zi', `1286` = 'Poro', `1287` = 'San Pedro',
      `1288` = 'Sud Comoe', `1289` = 'Tchologo', `1290` = 'Tonkpi',
      `1291` = 'Worodougou', `1300` = 'Conakry', `1301` = 'Boke',
      `1302` = 'Kindia', `1303` = 'Mamou', `1304` = 'Labe', `1305` = 'Labe',
      `1306` = 'Kankan', `1307` = 'NZerekore', `1420` = 'North Eastern Region',
      `1421` = 'North Middle Region', `1422` = 'North Western Region',
      `1423` = 'East Highlands', `1424` = 'Middle Highlands',
      `1425` = 'Western Highlands', `1426` = 'South Eastern Region',
      `1428` = 'South Western Region', `1460` = 'Cairo', `1461` = 'Alexandria',
      `1462` = 'Port Said', `1463` = 'Suez', `1464` = 'Damietta',
      `1465` = 'Dakahlia', `1466` = 'Charqia', `1467` = 'Qalyubia',
      `1468` = 'Kafr el-Sheikh', `1469` = 'Gharbia', `1470` = 'Monufia',
      `1471` = 'Beheira', `1472` = 'Ismailia', `1473` = 'Giza',
      `1474` = 'Beni Souif', `1475` = 'El Feyoum', `1476` = 'El Menya',
      `1477` = 'Assyout', `1478` = 'Souhag', `1479` = 'Qena', `1480` = 'Luxor',
      `1481` = 'Aswan', `1482` = 'Red Sea', `1483` = 'Matrouh',
      `1500` = 'Oued Ed-Dahab-Lagouira',
      `1501` = 'Laayoune-Boujdour-Sakia El Hamra', `1502` = 'Guelmim-Es-Semara',
      `1503` = 'Souss-Massa-Draa', `1504` = 'Gharb-Chrarda-Beni-Hssen',
      `1505` = 'Chaouia-Ouardigha', `1506` = 'Marrakech-Tensift-Al-Haouz',
      `1507` = 'Oriental', `1508` = 'Grand Casablanca',
      `1509` = 'Rabat-Sale-Zemmour-Zaer', `1510` = 'Doukkala-Abda',
      `1511` = 'Tadla-Azilal', `1512` = 'Meknes-Tafilalet',
      `1513` = 'Fes-Bouleman', `1514` = 'Taza-Al Hoceima-Taounate',
      `1515` = 'Tanger-Tetouan', `1540` = 'North', `1541` = 'East',
      `1542` = 'Khartoum', `1543` = 'Central', `1544` = 'Kurdufan',
      `1545` = 'Darfur', `1580` = 'Tunis', `1581` = 'Ariana',
      `1582` = 'Manouba', `1583` = 'Ben Arous', `1584` = 'Sfax',
      `1585` = 'Sousse', `1586` = 'Nabeul', `1587` = 'Bizerte',
      `1588` = 'Zaghouan', `1589` = 'Sidi Bouzid', `1590` = 'Le Kef',
      `1591` = 'Kasserine', `1592` = 'Jendouba', `1593` = 'Beja',
      `1594` = 'Siliana', `1595` = 'Kairouan', `1596` = 'Monastir',
      `1597` = 'Mahdia', `1598` = 'Medenine', `1599` = 'Tataouine',
      `1600` = 'Gafsa', `1601` = 'Gabes', `1602` = 'Tozeur', `1603` = 'Kebili',
      `1620` = 'Hhohho', `1621` = 'Manzini', `1622` = 'Shiselweni',
      `1623` = 'Lubombo', `1660` = 'Sao Tome', `1661` = 'Principe',
      `1700` = 'Estuaire', `1701` = 'Haut-Ogooue', `1702` = 'Moyen-Ogooue',
      `1703` = 'Ngounie', `1704` = 'Nyanga', `1705` = 'Ogooue-Ivindo',
      `1706` = 'Ogooue-Lolo', `1707` = 'Ogooue-Maritime',
      `1708` = 'Woleu-Ntem'),
    areaname_eng_iso = '', #corrected area names from ISO standards
    areaname_eng_iso2 = '',
    NAME_0 = '',
    ID_1 = NA,
    ID_2 = NA
  ) %>% rename(., area_num = REGION)

# checking consistency of country names
ab01.06.unique.country.names <- unique(c(ab01$cname_eng, ab02$cname_eng,
ab03$cname_eng, ab04$cname_eng, ab05$cname_eng, ab06$cname_eng))
sort(ab01.06.unique.country.names) # looks like there is no problem

### checking country-by-country level of government captured by area_name:
###   are area names consistent across afrobarometer rounds?

#### Algeria
## iso
# ï -> i; é -> e; è -> e
iso_algeria <- bind_cols(
  cname_eng = rep('Algeria', 48),
  ISO1num = rep(12, 48),
  ISO2str = c('DZ-01', 'DZ-44', 'DZ-46', 'DZ-16', 'DZ-23', 'DZ-05', 'DZ-08',
    'DZ-06', 'DZ-07', 'DZ-09', 'DZ-34', 'DZ-10', 'DZ-35', 'DZ-02', 'DZ-25',
    'DZ-17', 'DZ-32', 'DZ-39', 'DZ-36', 'DZ-47', 'DZ-24', 'DZ-33', 'DZ-18',
    'DZ-40', 'DZ-03', 'DZ-28', 'DZ-29', 'DZ-26', 'DZ-43', 'DZ-27', 'DZ-45',
    'DZ-31', 'DZ-30', 'DZ-04', 'DZ-48', 'DZ-20', 'DZ-19', 'DZ-22', 'DZ-21',
    'DZ-41', 'DZ-11', 'DZ-12', 'DZ-14', 'DZ-37', 'DZ-42', 'DZ-38', 'DZ-15',
    'DZ-13'),
  ISO2numstr = c('01', '44', '46', '16', '23', '05', '08', '06', '07', '09',
    '34', '10', '35', '02', '25', '17', '32', '39', '36', '47', '24', '33',
    '18', '40', '03', '28', '29', '26', '43', '27', '45', '31', '30', '04',
    '48', '20', '19', '22', '21', '41', '11', '12', '14', '37', '42', '38',
    '15', '13'),
  ISO2num = c(1, 44, 46, 16, 23, 5, 8, 6, 7, 9, 34, 10, 35, 2, 25, 17, 32, 39,
    36, 47, 24, 33, 18, 40, 3, 28, 29, 26, 43, 27, 45, 31, 30, 4, 48, 20, 19,
    22, 21, 41, 11, 12, 14, 37, 42, 38, 15, 13),
  areaname_conv_iso = c('Adrar', 'Aïn Defla', 'Aïn Témouchent', 'Alger',
    'Annaba', 'Batna', 'Béchar', 'Béjaïa', 'Biskra', 'Blida',
    'Bordj Bou Arréridj', 'Bouira', 'Boumerdès', 'Chlef', 'Constantine',
    'Djelfa', 'El Bayadh', 'El Oued', 'El Tarf', 'Ghardaïa', 'Guelma', 'Illizi',
    'Jijel', 'Khenchela', 'Laghouat', 'M\'Sila', 'Mascara', 'Médéa', 'Mila',
    'Mostaganem', 'Naama', 'Oran', 'Ouargla', 'Oum el-Bouaghi', 'Relizane',
    'Saïda', 'Sétif', 'Sidi Bel Abbès', 'Skikda', 'Souk Ahras', 'Tamanghasset',
    'Tébessa', 'Tiaret', 'Tindouf', 'Tipaza', 'Tissemsilt', 'Tizi Ouzou',
    'Tlemcen'),
  areaname_eng_iso = c('Adrar', 'Ain Defla', 'Ain Temouchent', 'Alger',
    'Annaba', 'Batna', 'Bechar', 'Bejaia', 'Biskra', 'Blida',
    'Bordj Bou Arreridj', 'Bouira', 'Boumerdes', 'Chlef', 'Constantine',
    'Djelfa', 'El Bayadh', 'El Oued', 'El Tarf', 'Ghardaia', 'Guelma', 'Illizi',
    'Jijel', 'Khenchela', 'Laghouat', 'M\'Sila', 'Mascara', 'Medea', 'Mila',
    'Mostaganem', 'Naama', 'Oran', 'Ouargla', 'Oum el-Bouaghi', 'Relizane',
    'Saida', 'Setif', 'Sidi Bel Abbes', 'Skikda', 'Souk Ahras', 'Tamanghasset',
    'Tebessa', 'Tiaret', 'Tindouf', 'Tipaza', 'Tissemsilt', 'Tizi Ouzou',
    'Tlemcen'))

## gis
geo_algeria <-
  read.csv('Data/GIS/Algeria/DZA_adm2.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Algeria' %in% ab01$cname_eng
'Algeria' %in% ab02$cname_eng
'Algeria' %in% ab03$cname_eng
'Algeria' %in% ab04$cname_eng
'Algeria' %in% ab05$cname_eng
'Algeria' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Algeria') %>% {sort(unique(.$areaname_eng_ab))},
  iso_algeria %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Algeria',
      recode(areaname_eng_ab, 'Adrar' = 'Adrar', 'Algeris' = 'Alger',
        'Annaba' = 'Annaba', 'Batna' = 'Batna', 'Bechar' = 'Bechar',
        'Bejaia' = 'Bejaia', 'Biskra' = 'Biskra', 'Blida' = 'Blida',
        'Bordj Bou Arreridj' = 'Bordj Bou Arreridj', 'Bouria' = 'Bouira',
        'Boumerdes' = 'Boumerdes', 'Chlef' = 'Chlef',
        'Constantine' = 'Constantine', 'Djelfa' = 'Djelfa',
        'El Bayadh' = 'El Bayadh', 'El Tarf' = 'El Tarf', 'Guelma' = 'Guelma',
        'Illizi' = 'Illizi', 'Jijel' = 'Jijel', 'Laghouat' = 'Laghouat',
        'M\'Sila' = 'M\'Sila', 'Mascara' = 'Mascara', 'Medea' = 'Medea',
        'Mostaganem' = 'Mostaganem', 'Oran' = 'Oran', 'Ouargla' = 'Ouargla',
        'Oum el-Bouaghi' = 'Oum el-Bouaghi', 'Saida' = 'Saida',
        'Setif' = 'Setif', 'Sidi Bel Abbes' = 'Sidi Bel Abbes',
        'Skikda' = 'Skikda', 'Tamanghasset' = 'Tamanghasset',
        'Tebessa' = 'Tebessa', 'Tiaret' = 'Tiaret', 'Tizi Ouzou' = 'Tizi Ouzou',
        'Tlemcen' = 'Tlemcen'),
      areaname_eng_iso)
)  

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Algeria') %>% {sort(unique(.$areaname_eng_ab))},
  geo_algeria %>% {sort(unique(.$NAME_1))}
) #all afrobarometer area names seem to match level 1 area names from global
  #  administrative data

unique(geo_algeria$NAME_0)
geo_algeria %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Algeria', 'Algeria', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Algeria',
      recode(areaname_eng_ab, 'Adrar' = 3, 'Algeris' = 4, 'Annaba' = 5,
        'Batna' = 8, 'Bechar' = 6, 'Bejaia' = 7, 'Biskra' = 9, 'Blida' = 10,
        'Bordj Bou Arreridj' = 11, 'Bouria' = 12, 'Boumerdes' = 13,
        'Chlef' = 14, 'Constantine' = 15, 'Djelfa' = 16, 'El Bayadh' = 17,
        'El Tarf' = 19, 'Guelma' = 21, 'Illizi' = 22, 'Jijel' = 23,
        'Laghouat' = 25, 'M\'Sila' = 26, 'Mascara' = 28, 'Medea' = 27,
        'Mostaganem' = 30, 'Oran' = 32, 'Ouargla' = 33, 'Oum el-Bouaghi' = 34,
        'Saida' = 37, 'Setif' = 36, 'Sidi Bel Abbes' = 38, 'Skikda' = 39,
        'Tamanghasset' = 42, 'Tebessa' = 41, 'Tiaret' = 43, 'Tizi Ouzou' = 47,
        'Tlemcen' = 48, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Algeria') %>% {sort(unique(.$areaname_eng_ab))},
  iso_algeria %>% {sort(unique(.$areaname_eng_iso))}
) # afrobarometer round 6 area names do not correspond to global administrative
  #   data file

ab06 <- ab06 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Algeria', 'Algeria', NAME_0)
)

#### Benin
## iso
# é -> e
iso_benin <- bind_cols(
  cname_eng = rep('Benin', 12),
  ISO1num = rep(204, 12),
  ISO2str = c('BJ-AL', 'BJ-AK', 'BJ-AQ', 'BJ-BO', 'BJ-CO', 'BJ-KO', 'BJ-DO',
    'BJ-LI', 'BJ-MO', 'BJ-OU', 'BJ-PL', 'BJ-ZO'),
  ISO2numstr = rep('', 12),
  ISO2num = rep(NA, 12),
  areaname_conv_iso = c('Alibori', 'Atacora', 'Atlantique', 'Borgou',
    'Collines', 'Couffo', 'Donga', 'Littoral', 'Mono', 'Ouémé', 'Plateau',
    'Zou'),
  areaname_eng_iso = c('Alibori', 'Atacora', 'Atlantique', 'Borgou', 'Collines',
    'Couffo', 'Donga', 'Littoral', 'Mono', 'Oueme', 'Plateau', 'Zou'))

## gis
geo_benin <-
  read.csv('Data/GIS/Benin/BEN_adm2.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Benin' %in% ab01$cname_eng
'Benin' %in% ab02$cname_eng
'Benin' %in% ab03$cname_eng
'Benin' %in% ab04$cname_eng
'Benin' %in% ab05$cname_eng
'Benin' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  iso_benin %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Benin', areaname_eng_ab, areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  iso_benin %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Benin',
      recode(areaname_eng_ab, 'OuAmA' = 'Oueme'),
      areaname_eng_iso)
)  

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  iso_benin %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Benin', areaname_eng_ab, areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  iso_benin %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Benin', areaname_eng_ab, areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  geo_benin %>% {sort(unique(.$NAME_1))}
) #all afrobarometer area names seem to match level 1 area names from global
  #  administrative data

unique(geo_benin$NAME_0)
geo_benin %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Benin', 'Benin', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Benin',
      recode(areaname_eng_ab, 'Alibori' = 1, 'Atacora' = 2, 'Atlantique' = 3,
        'Borgou' = 4, 'Collines' = 5, 'Donga' = 6, 'Couffo' = 7,
        'Littoral' = 8, 'Mono' = 9, 'Oueme' = 10, 'Plateau' = 11, 'Zou' = 12,
        .default = NA_real_),
        as.double(ID_1)))

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  geo_benin %>% {sort(unique(.$NAME_1))}
) #all afrobarometer area names seem to match level 1 area names from global
  #  administrative data

unique(geo_benin$NAME_0)
geo_benin %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Benin', 'Benin', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Benin',
      recode(areaname_eng_ab, 'Alibori' = 1, 'Atacora' = 2, 'Atlantique' = 3,
        'Borgou' = 4, 'Collines' = 5, 'Donga' = 6, 'Couffo' = 7,
        'Littoral' = 8, 'Mono' = 9, 'OuAmA' = 10, 'Plateau' = 11, 'Zou' = 12,
        .default = NA_real_),
      as.double(ID_1)))

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  geo_benin %>% {sort(unique(.$NAME_1))}
) #all afrobarometer area names seem to match level 1 area names from global
  #  administrative data

unique(geo_benin$NAME_0)
geo_benin %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Benin', 'Benin', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Benin',
      recode(areaname_eng_ab, 'Alibori' = 1, 'Atacora' = 2, 'Atlantique' = 3,
        'Borgou' = 4, 'Collines' = 5, 'Donga' = 6, 'Couffo' = 7,
        'Littoral' = 8, 'Mono' = 9, 'Oueme' = 10, 'Plateau' = 11, 'Zou' = 12,
        .default = NA_real_),
      as.double(ID_1)))

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Benin') %>% {sort(unique(.$areaname_eng_ab))},
  geo_benin %>% {sort(unique(.$NAME_1))}
) #all afrobarometer area names seem to match level 1 area names from global
  #  administrative data

unique(geo_benin$NAME_0)
geo_benin %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Benin', 'Benin', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Benin',
      recode(areaname_eng_ab, 'Alibori' = 1, 'Atacora' = 2, 'Atlantique' = 3,
        'Borgou' = 4, 'Collines' = 5, 'Donga' = 6, 'Couffo' = 7,
        'Littoral' = 8, 'Mono' = 9, 'Oueme' = 10, 'Plateau' = 11, 'Zou' = 12,
        .default = NA_real_),
      as.double(ID_1)))

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

#### Botswana
## iso
# é -> e
iso_botswana <- bind_cols(
  cname_eng = rep('Botswana', 16),
  ISO1num = rep(72, 16),
  ISO2str = c('BW-CE', 'BW-CH', 'BW-FR', 'BW-GA', 'BW-GH', 'BW-JW', 'BW-KG',
    'BW-KL', 'BW-KW', 'BW-LO', 'BW-NE', 'BW-NW', 'BW-SP', 'BW-SE', 'BW-SO',
    'BW-ST'),
  ISO2numstr = rep('', 16),
  ISO2num = rep(NA, 16),
  areaname_conv_iso = c('Central', 'Chobe', 'Francistown', 'Gaborone', 'Ghanzi',
    'Jwaneng', 'Kgalagadi', 'Kgatleng', 'Kweneng', 'Lobatse', 'North East',
    'North West', 'Selibi-Phikwe', 'South East', 'Southern', 'Sowa Town'),
  areaname_eng_iso = c('Central', 'Chobe', 'Francistown', 'Gaborone', 'Ghanzi',
    'Jwaneng', 'Kgalagadi', 'Kgatleng', 'Kweneng', 'Lobatse', 'North East',
    'North West', 'Selibi-Phikwe', 'South East', 'Southern', 'Sowa Town'))

## gis
geo_botswana <-
  read.csv('Data/GIS/Botswana/BWA_adm2.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Botswana' %in% ab01$cname_eng
'Botswana' %in% ab02$cname_eng
'Botswana' %in% ab03$cname_eng
'Botswana' %in% ab04$cname_eng
'Botswana' %in% ab05$cname_eng
'Botswana' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_botswana %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Botswana Central' = 'Central',
        'Selibe-Phikwe' = 'Selibi-Phikwe', 'Southeast' = 'South East'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_botswana %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'NorthEast' = 'North East',
        'NorthWest' = 'North West', 'Orapa' = 'Central',
        'SelibePhikwe' = 'Selibi-Phikwe', 'SouthEast' = 'South East'),
      areaname_eng_iso)
) #Orapa is contained within the Central district

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_botswana %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Francis Town' = 'Francistown',
        'Ngamiland' = 'North West', 'Selibe Phikwe' = 'Selibi-Phikwe'),
      areaname_eng_iso)
) #Ngamiland is another name for the North West district

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_botswana %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 'Southern',
        'Central Bobonong' = 'Central', 'Central Boteti' = 'Central',
        'Central Mahalapye' = 'Central', 'Central Serowe/Palapye' = 'Central',
        'Central Tutume' = 'Central', 'Kgalagadi North' = 'Kgalagadi',
        'Kgalagadi South' = 'Kgalagadi', 'Kweneng East' = 'Kweneng',
        'Kweneng West' = 'Kweneng', 'Ngamiland East' = 'North West',
        'Ngamiland West' = 'North West', 'Selibe Pikwe' = 'Selibi-Phikwe', 'Ngwaketse' = 'Southern', 'Ngwaketse West' = 'Southern'),
      areaname_eng_iso)
) #Barolong is contained within the Southern district; Central Bobonong,
  #  Central Boteti, Central Mahalapye, Central Serowe/Palapye, and Central
  #  Tutume are considered to be part of the Central district; Kgalagadi North
  #  and Kgalagadi South are considered to be part of the Kgalagadi district;
  #  Kweneng East and Kweneng West are considered to be part of the Kweneng
  #  district; Ngamiland East and Ngamiland West are considered to be part of
  #  Ngamiland, which is another name for the North West district; Ngwaketse and
  #  Ngwaketse West are contained within the Southern district

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_botswana %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 'Southern',
        'Central Bobonong' = 'Central', 'Central Boteti' = 'Central',
        'Central Mahalapye' = 'Central', 'Central Serowe/Palapye' = 'Central',
        'Central Tutume' = 'Central', 'Kgalagadi North' = 'Kgalagadi',
        'Kgalagadi South' = 'Kgalagadi', 'Kweneng East' = 'Kweneng',
        'Kweneng West' = 'Kweneng', 'Ngamiland East' = 'North West',
        'Ngamiland West' = 'North West', 'Seleibe Phikwe' = 'Selibi-Phikwe',
        'Ngwaketse' = 'Southern', 'Ngwaketse West' = 'Southern'),
      areaname_eng_iso)
) #Barolong is contained within the Southern district; Central Bobonong,
  #  Central Boteti, Central Mahalapye, Central Serowe/Palapye, and Central
  #  Tutume are considered to be part of the Central district; Kgalagadi North
  #  and Kgalagadi South are considered to be part of the Kgalagadi district;
  #  Kweneng East and Kweneng West are considered to be part of the Kweneng
  #  district; Ngamiland East and Ngamiland West are considered to be part of
  #  Ngamiland, which is another name for the North West district; Ngwaketse and
  #  Ngwaketse West are contained within the Southern district

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_botswana %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 'Southern',
        'Central Bobonong' = 'Central', 'Central Boteti' = 'Central',
        'Central Mahalapye' = 'Central', 'Central Serowe/Palapye' = 'Central',
        'Central Tutume' = 'Central', 'Kgalagadi North' = 'Kgalagadi',
        'Kgalagadi South' = 'Kgalagadi', 'Kweneng East' = 'Kweneng',
        'Kweneng West' = 'Kweneng', 'Ngamiland East' = 'North West',
        'Ngamiland West' = 'North West', 'Selibe Phikwe' = 'Selibi-Phikwe',
        'Ngwaketse' = 'Southern', 'Ngwaketse West' = 'Southern'),
      areaname_eng_iso)
) #Barolong is contained within the Southern district; Central Bobonong,
  #  Central Boteti, Central Mahalapye, Central Serowe/Palapye, and Central
  #  Tutume are considered to be part of the Central district; Kgalagadi North
  #  and Kgalagadi South are considered to be part of the Kgalagadi district;
  #  Kweneng East and Kweneng West are considered to be part of the Kweneng
  #  district; Ngamiland East and Ngamiland West are considered to be part of
  #  Ngamiland, which is another name for the North West district; Ngwaketse and
  #  Ngwaketse West are contained within the Southern district

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_2))}
) #afrobarometer area names are a mix of level 1 and level 2 areas from global
  #  administrative data

unique(geo_botswana$NAME_0)
geo_botswana %>% group_by(NAME_1, NAME_2, ID_1, ID_2, VARNAME_2) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Botswana', 'Botswana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Botswana Central' = 1, 'Francistown' = 6,
        'Gaborone' = 8, 'Jwaneng' = 9, 'Kgalagadi' = 3, 'Kweneng' = 5,
        'Lobatse' = 8, 'Selibe-Phikwe' = 1, 'Southeast' = 8,
        .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Gaborone' = 20, 'Lobatse' = 21,
        'Southeast' = 21, .default = NA_real_),
      as.double(ID_2))
) #Francistown is contained within, but independent from, the North East
  #  district; Gaborone is contained within, but independent from, the South
  #  East district; Jwaneng is contained within, but independent from, the
  #  Southern district; Lobatse is contained within, but independent from, the
  #  South East district; Selebi-Phikwe is contained within, but independent
  #  from, the Central district

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_2))}
) #afrobarometer area names are a mix of level 1 and level 2 areas from global
  #  administrative data

unique(geo_botswana$NAME_0)
geo_botswana %>% group_by(NAME_1, NAME_2, ID_1, ID_2, VARNAME_2) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Botswana', 'Botswana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Central' = 1, 'Francistown' = 6, 'Gaborone' = 8,
        'Ghanzi' = 2, 'Jwaneng' = 9, 'Kgalagadi' = 3, 'Kgatleng' = 4,
        'Kweneng' = 5, 'Lobatse' = 8, 'NorthEast' = 6, 'NorthWest' = 7,
        'Orapa' = 1, 'SelibePhikwe' = 1, 'SouthEast' = 8, 'Southern' = 9,
        .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Gaborone' = 20, 'Ghanzi' = 9, 'Kgatleng' = 13,
        'Orapa' = 2, 'Lobatse' = 21, 'SouthEast' = 21, .default = NA_real_),
      as.double(ID_2))
) #Francistown is contained within, but independent from, the North East
  #  district; Gaborone is contained within, but independent from, the South
  #  East district; Jwaneng is contained within, but independent from, the
  #  Southern district; Lobatse is contained within, but independent from, the
  #  South East district; Selebi-Phikwe is contained within, but independent
  #  from, the Central district; Orapa is considered to be part of Letlhakane

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_2))}
) #afrobarometer area names are a mix of level 1 and level 2 areas from global
  #  administrative data

unique(geo_botswana$NAME_0)
geo_botswana %>% group_by(NAME_1, NAME_2, ID_1, ID_2, VARNAME_2) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Botswana', 'Botswana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Central' = 1, 'Chobe' = 7, 'Francis Town' = 6,
        'Gaborone' = 8, 'Ghanzi' = 2, 'Jwaneng' = 9, 'Kgalagadi' = 3,
        'Kgatleng' = 4, 'Kweneng' = 5, 'Lobatse' = 8, 'North East' = 6,
        'Ngamiland' = 7, 'Orapa' = 1, 'Selibe Phikwe' = 1, 'South East' = 8,
        'Southern' = 9, .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Gaborone' = 20, 'Ghanzi' = 9, 'Kgatleng' = 13,
        'Orapa' = 2, 'Lobatse' = 21, 'SouthEast' = 21, .default = NA_real_),
      as.double(ID_2))
) #Francistown is contained within, but independent from, the North East
  #  district; Gaborone is contained within, but independent from, the South
  #  East district; Jwaneng is contained within, but independent from, the
  #  Southern district; Lobatse is contained within, but independent from, the
  #  South East district; Selebi-Phikwe is contained within, but independent
  #  from, the Central district; Chobe merged with Ngamiland, which is another
  #  name for the North West district; Orapa is considered to be part of
  #  Letlhakane

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_2))}
) #afrobarometer area names are a mix of level 1 and level 2 areas from global
  #  administrative data

unique(geo_botswana$NAME_0)
geo_botswana %>% group_by(NAME_1, NAME_2, ID_1, ID_2, VARNAME_2) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Botswana', 'Botswana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 9, 'Central Bobonong' = 1,
        'Central Boteti' = 1, 'Central Mahalapye' = 1,
        'Central Serowe/Palapye' = 1, 'Central Tutume' = 1, 'Chobe' = 7,
        'Francistown' = 6, 'Gaborone' = 8, 'Ghanzi' = 2, 'Jwaneng' = 9,
        'Kgalagadi North' = 3, 'Kgalagadi South' = 3, 'Kgatleng' = 4,
        'Kweneng East' = 5, 'Kweneng West' = 5, 'Lobatse' = 8,
        'Ngamiland East' = 7, 'Ngamiland West' = 7, 'Ngwaketse' = 9,
        'Ngwaketse West' = 9, 'North East' = 6, 'Selibe Pikwe' = 1,
        'South East' = 8, .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 22, 'Central Bobonong' = 1,
        'Central Boteti' = 2, 'Central Mahalapye' = 4, 'Central Tutume' = 8,
        'Chobe' = 17, 'Gaborone' = 20, 'Ghanzi' = 9, 'Kgalagadi North' = 11,
        'Kgalagadi South' = 12, 'Kgatleng' = 13, 'Kweneng East' = 14,
        'Kweneng West' = 15, 'Lobatse' = 21, 'Ngamiland East' = 18,
        'Ngamiland West' = 19, 'South East' = 21, .default = NA_real_),
      as.double(ID_2))
) #Barolong is contained within the Southern district; Central Bobonong,
  #  Central Boteti, Central Mahalapye, Central Serowe/Palapye, and Central
  #  Tutume are considered to be part of the Central district; Boteti is
  #  contained within Letlhakane; Chobe merged with Ngamiland, which is another
  #  name for the North West district; Francistown is contained within, but
  #  independent from, the North East district; Gaborone is contained within,
  #  but independent from, the South East district; Jwaneng is contained within,
  #  but independent from, the Southern district; Kgalagadi North and Kgalagadi
  #  South are considered to be part of the Kgalagadi district; Kgalagadi North
  #  is another name for Kgalagadi Hukunsti; Kgalagadi South is another name for
  #  Kgalagadi Tshabong; Kweneng East is considered to be Kweneng North; Kweneng
  #  West is considered to be Kweneng South; Lobatse is contained within, but
  #  independent from, the South East district; Kweneng East and Kweneng West
  #  are considered to be part of the Kweneng district; Ngamiland East and
  #  Ngamiland West are considered to be part of Ngamiland, which is another
  #  name for the North West district; Ngwaketse and Ngwaketse West are
  #  contained within the Southern district; Selebi-Phikwe is contained within,
  #  but independent from, the Central district; Chobe merged with Ngamiland,
  #  which is another name for the North West district

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_2))}
) #afrobarometer area names are a mix of level 1 and level 2 areas from global
  #  administrative data

unique(geo_botswana$NAME_0)
geo_botswana %>% group_by(NAME_1, NAME_2, ID_1, ID_2, VARNAME_2) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Botswana', 'Botswana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 9, 'Central Bobonong' = 1,
        'Central Boteti' = 1, 'Central Mahalapye' = 1,
        'Central Serowe/Palapye' = 1, 'Central Tutume' = 1, 'Chobe' = 7,
        'Francistown' = 6, 'Gaborone' = 8, 'Ghanzi' = 2, 'Jwaneng' = 9,
        'Kgalagadi North' = 3, 'Kgalagadi South' = 3, 'Kgatleng' = 4,
        'Kweneng East' = 5, 'Kweneng West' = 5, 'Lobatse' = 8,
        'Ngamiland East' = 7, 'Ngamiland West' = 7, 'Ngwaketse' = 9,
        'Ngwaketse West' = 9, 'North East' = 6, 'Seleibe Phikwe' = 1,
        'South East' = 8, .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 22, 'Central Bobonong' = 1,
        'Central Boteti' = 2, 'Central Mahalapye' = 4, 'Central Tutume' = 8,
        'Chobe' = 17, 'Gaborone' = 20, 'Ghanzi' = 9, 'Kgalagadi North' = 11,
        'Kgalagadi South' = 12, 'Kgatleng' = 13, 'Kweneng East' = 14,
        'Kweneng West' = 15, 'Lobatse' = 21, 'Ngamiland East' = 18,
        'Ngamiland West' = 19, 'South East' = 21, .default = NA_real_),
      as.double(ID_2))
) #Barolong is contained within the Southern district; Central Bobonong,
  #  Central Boteti, Central Mahalapye, Central Serowe/Palapye, and Central
  #  Tutume are considered to be part of the Central district; Boteti is
  #  contained within Letlhakane; Chobe merged with Ngamiland, which is another
  #  name for the North West district; Francistown is contained within, but
  #  independent from, the North East district; Gaborone is contained within,
  #  but independent from, the South East district; Jwaneng is contained within,
  #  but independent from, the Southern district; Kgalagadi North and Kgalagadi
  #  South are considered to be part of the Kgalagadi district; Kgalagadi North
  #  is another name for Kgalagadi Hukunsti; Kgalagadi South is another name for
  #  Kgalagadi Tshabong; Kweneng East is considered to be Kweneng North; Kweneng
  #  West is considered to be Kweneng South; Lobatse is contained within, but
  #  independent from, the South East district; Kweneng East and Kweneng West
  #  are considered to be part of the Kweneng district; Ngamiland East and
  #  Ngamiland West are considered to be part of Ngamiland, which is another
  #  name for the North West district; Ngwaketse and Ngwaketse West are
  #  contained within the Southern district; Selebi-Phikwe is contained within,
  #  but independent from, the Central district; Chobe merged with Ngamiland,
  #  which is another name for the North West district

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Botswana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_botswana %>% {sort(unique(.$NAME_2))}
) #afrobarometer area names are a mix of level 1 and level 2 areas from global
  #  administrative data

unique(geo_botswana$NAME_0)
geo_botswana %>% group_by(NAME_1, NAME_2, ID_1, ID_2, VARNAME_2) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Botswana', 'Botswana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 9, 'Central Bobonong' = 1,
        'Central Boteti' = 1, 'Central Mahalapye' = 1,
        'Central Serowe/Palapye' = 1, 'Central Tutume' = 1, 'Chobe' = 7,
        'Francistown' = 6, 'Gaborone' = 8, 'Ghanzi' = 2, 'Jwaneng' = 9,
        'Kgalagadi North' = 3, 'Kgalagadi South' = 3, 'Kgatleng' = 4,
        'Kweneng East' = 5, 'Kweneng West' = 5, 'Lobatse' = 8,
        'Ngamiland East' = 7, 'Ngamiland West' = 7, 'Ngwaketse' = 9,
        'Ngwaketse West' = 9, 'North East' = 6, 'Selibe Phikwe' = 1,
        'South East' = 8, .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Botswana',
      recode(areaname_eng_ab, 'Barolong' = 22, 'Central Bobonong' = 1,
        'Central Boteti' = 2, 'Central Mahalapye' = 4, 'Central Tutume' = 8,
        'Chobe' = 17, 'Gaborone' = 20, 'Ghanzi' = 9, 'Kgalagadi North' = 11,
        'Kgalagadi South' = 12, 'Kgatleng' = 13, 'Kweneng East' = 14,
        'Kweneng West' = 15, 'Lobatse' = 21, 'Ngamiland East' = 18,
        'Ngamiland West' = 19, 'South East' = 21, .default = NA_real_),
      as.double(ID_2))
) #Barolong is contained within the Southern district; Central Bobonong,
  #  Central Boteti, Central Mahalapye, Central Serowe/Palapye, and Central
  #  Tutume are considered to be part of the Central district; Boteti is
  #  contained within Letlhakane; Chobe merged with Ngamiland, which is another
  #  name for the North West district; Francistown is contained within, but
  #  independent from, the North East district; Gaborone is contained within,
  #  but independent from, the South East district; Jwaneng is contained within,
  #  but independent from, the Southern district; Kgalagadi North and Kgalagadi
  #  South are considered to be part of the Kgalagadi district; Kgalagadi North
  #  is another name for Kgalagadi Hukunsti; Kgalagadi South is another name for
  #  Kgalagadi Tshabong; Kweneng East is considered to be Kweneng North; Kweneng
  #  West is considered to be Kweneng South; Lobatse is contained within, but
  #  independent from, the South East district; Kweneng East and Kweneng West
  #  are considered to be part of the Kweneng district; Ngamiland East and
  #  Ngamiland West are considered to be part of Ngamiland, which is another
  #  name for the North West district; Ngwaketse and Ngwaketse West are
  #  contained within the Southern district; Selebi-Phikwe is contained within,
  #  but independent from, the Central district; Chobe merged with Ngamiland,
  #  which is another name for the North West district

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

#### Burkina Faso
## iso
# é -> e; è -> e
iso_burkinafaso <- bind_cols(
  cname_eng = rep('Burkina Faso', 13),
  ISO1num = rep(854, 13),
  ISO2str = c('BF-01', 'BF-02', 'BF-03', 'BF-04', 'BF-05', 'BF-06', 'BF-07',
    'BF-08', 'BF-09', 'BF-10', 'BF-11', 'BF-12', 'BF-13'),
  ISO2numstr = c('01', '02', '03', '04', '05', '06', '07', '08', '09', '10',
    '11', '12', '13'),
  ISO2num = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13),
  areaname_conv_iso = c('Boucle du Mouhoun', 'Cascades', 'Centre', 'Centre-Est',
    'Centre-Nord', 'Centre-Ouest', 'Centre-Sud', 'Est', 'Hauts-Bassins', 'Nord',
    'Plateau-Central', 'Sahel', 'Sud-Ouest'),
  areaname_eng_iso = c('Boucle du Mouhoun', 'Cascades', 'Centre', 'Centre-East',
    'Centre-North', 'Centre-West', 'Centre-South', 'East', 'Hauts-Bassins',
    'North', 'Plateau-Central', 'Sahel', 'South-West')
)

iso_burkinafaso2 <- bind_cols(
  cname_eng = rep('Burkina Faso', 45),
  ISO1num = rep(854, 45),
  ISO2str2 = c('BF-BAL', 'BF-BAM', 'BF-BAN', 'BF-BAZ', 'BF-BGR', 'BF-BLG',
    'BF-BLK', 'BF-COM', 'BF-GAN', 'BF-GNA', 'BF-GOU', 'BF-HOU', 'BF-IOB',
    'BF-KAD', 'BF-KEN', 'BF-KMD', 'BF-KMP', 'BF-KOS', 'BF-KOP', 'BF-KOT',
    'BF-KOW', 'BF-LER', 'BF-LOR', 'BF-MOU', 'BF-NAO', 'BF-NAM', 'BF-NAY',
    'BF-NOU', 'BF-OUB', 'BF-OUD', 'BF-PAS', 'BF-PON', 'BF-SNG', 'BF-SMT',
    'BF-SEN', 'BF-SIS', 'BF-SOM', 'BF-SOR', 'BF-TAP', 'BF-TUI', 'BF-YAG',
    'BF-YAT', 'BF-ZIR', 'BF-ZON', 'BF-ZOU'),
  ISO2numstr = c('01', '05', '01', '07', '13', '04', '06', '02', '11', '08',
    '08', '09', '13', '03', '09', '08', '08', '01', '04', '04', '11', '02',
    '10', '01', '07', '05', '01', '13', '11', '12', '10', '13', '06', '05',
    '12', '06', '12', '01', '08', '09', '12', '10', '06', '10', '07'),
  ISO2num = c(1, 5, 1, 7, 13, 4, 6, 2, 11, 8, 8, 9, 13, 3, 9, 8, 8, 1, 4, 4, 11,
    2, 10, 1, 7, 5, 1, 13, 11, 12, 10, 13, 6, 5, 12, 6, 12, 1, 8, 9, 12, 10, 6,
    10, 7),
  areaname_conv_iso2 = c('Balé', 'Bam', 'Banwa', 'Bazèga', 'Bougouriba',
    'Boulgou', 'Boulkiemdé', 'Comoé', 'Ganzourgou', 'Gnagna', 'Gourma', 'Houet',
    'Ioba', 'Kadiogo', 'Kénédougou', 'Komondjari', 'Kompienga', 'Kossi',
    'Koulpélogo', 'Kouritenga', 'Kourwéogo', 'Léraba', 'Loroum', 'Mouhoun',
    'Nahouri', 'Namentenga', 'Nayala', 'Noumbiel', 'Oubritenga', 'Oudalan',
    'Passoré', 'Poni', 'Sanguié', 'Sanmatenga', 'Séno', 'Sissili', 'Soum',
    'Sourou', 'Tapoa', 'Tuy', 'Yagha', 'Yatenga', 'Ziro', 'Zondoma',
    'Zoundwéogo'),
  areaname_eng_iso2 = c('Bale', 'Bam', 'Banwa', 'Bazega', 'Bougouriba',
    'Boulgou', 'Boulkiemde', 'Comoe', 'Ganzourgou', 'Gnagna', 'Gourma', 'Houet',
    'Ioba', 'Kadiogo', 'Kenedougou', 'Komondjari', 'Kompienga', 'Kossi',
    'Koulpelogo', 'Kouritenga', 'Kourweogo', 'Leraba', 'Loroum', 'Mouhoun',
    'Nahouri', 'Namentenga', 'Nayala', 'Noumbiel', 'Oubritenga', 'Oudalan',
    'Passore', 'Poni', 'Sanguie', 'Sanmatenga', 'Seno', 'Sissili', 'Soum',
    'Sourou', 'Tapoa', 'Tuy', 'Yagha', 'Yatenga', 'Ziro', 'Zondoma',
    'Zoundweogo')
)

## gis
geo_burkinafaso <-
  read.csv('Data/GIS/BurkinaFaso/BFA_adm3.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Burkina Faso' %in% ab01$cname_eng
'Burkina Faso' %in% ab02$cname_eng
'Burkina Faso' %in% ab03$cname_eng
'Burkina Faso' %in% ab04$cname_eng
'Burkina Faso' %in% ab05$cname_eng
'Burkina Faso' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Burkina Faso') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_burkinafaso %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Burkina Faso',
      recode(areaname_eng_ab, 'Plateau Central' = 'Plateau-Central',
        'South West' = 'South-West'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Burkina Faso') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_burkinafaso %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Burkina Faso',
      recode(areaname_eng_ab, 'Centre-Est' = 'Centre-East',
        'Centre-Nord' = 'Centre-North', 'Centre-Sud' = 'Centre-South',
        'Centre-Ouest' = 'Centre-West', 'Est' = 'East', 'Nord' = 'North',
        'Plateau Central' = 'Plateau-Central', 'Sahel' = 'Sahel',
        'Sud-Ouest' = 'South-West'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Burkina Faso') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_burkinafaso %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Burkina Faso',
      recode(areaname_eng_ab, 'Centre East' = 'Centre-East',
        'Centre Nord' = 'Centre-North', 'Centre Ouest' = 'Centre-West',
        'Centre Sud' = 'Centre-South', 'Est' = 'East',
        'Hauts Bassins' = 'Hauts-Bassins', 'Nord' = 'North',
        'Plateau Central' = 'Plateau-Central', 'Sud Ouest' = 'South-West'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Burkina Faso') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_burkinafaso %>%
    {sort(unique(.$NAME_1))}
) #afrobarometer names seem to refer to level 1 units from global administrative
  #  data

unique(geo_burkinafaso$NAME_0)
geo_burkinafaso %>% group_by(NAME_1, NAME_2, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Burkina Faso', 'Burkina Faso', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Burkina Faso',
      recode(areaname_eng_ab, 'Boucle du Mouhoun' = 1, 'Cascades' = 2,
        'Centre' = 7, 'Centre-East' = 3, 'Centre-North' = 4,
        'Centre-West' = 5, 'Centre-South' = 6, 'East' = 8,
        'Hauts-Bassins' = 9, 'North' = 10, 'Plateau Central' = 11,
        'Sahel' = 12, 'South West' = 13, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Burkina Faso') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_burkinafaso %>%
    {sort(unique(.$NAME_1))}
) #afrobarometer names seem to refer to level 1 units from global administrative
  #  data

unique(geo_burkinafaso$NAME_0)
geo_burkinafaso %>% group_by(NAME_1, NAME_2, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Burkina Faso', 'Burkina Faso', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Burkina Faso',
      recode(areaname_eng_ab, 'Boucle du Mouhoun' =  1, 'Cascades' =  2,
        'Centre' =  7, 'Centre-Est' =  3, 'Centre-Nord' =  4,
        'Centre-Ouest' =  5, 'Centre-Sud' =  6, 'Est' =  8,
        'Hauts-Bassins' =  9, 'Nord' = 10, 'Plateau Central' = 11, 'Sahel' = 12,
        'Sud-Ouest' = 13, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Burkina Faso') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_burkinafaso %>%
    {sort(unique(.$NAME_1))}
) #afrobarometer names seem to refer to level 1 units from global administrative
  #  data

unique(geo_burkinafaso$NAME_0)
geo_burkinafaso %>% group_by(NAME_1, NAME_2, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Burkina Faso', 'Burkina Faso', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Burkina Faso',
      recode(areaname_eng_ab, 'Boucle du Mouhoun' = 1, 'Cascades' = 2,
        'Centre' = 7, 'Centre East' = 3, 'Centre Nord' = 4, 'Centre Ouest' = 5,
        'Centre Sud' = 6, 'Est' = 8, 'Hauts Bassins' = 9, 'Nord' = 10,
        'Plateau Central' = 11, 'Sahel' = 12, 'Sud Ouest' = 13,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

#### Burundi
## iso
iso_burundi <- bind_cols(
  cname_eng = rep('Burundi', 18),
  ISO1num = rep(108, 18),
  ISO2str = c('BI-BB', 'BI-BM', 'BI-BL', 'BI-BR', 'BI-CA', 'BI-CI', 'BI-GI',
    'BI-KR', 'BI-KY', 'BI-KI', 'BI-MA', 'BI-MU', 'BI-MY', 'BI-MW', 'BI-NG',
    'BI-RM', 'BI-RT', 'BI-RY'),
  ISO2numstr = rep('', 18),
  ISO2num = rep(NA, 18),
  areaname_conv_iso = c('Bubanza', 'Bujumbura Mairie', 'Bujumbura Rural',
    'Bururi', 'Cankuzo', 'Cibitoke', 'Gitega', 'Karuzi', 'Kayanza', 'Kirundo',
    'Makamba', 'Muramvya', 'Muyinga', 'Mwaro', 'Ngozi', 'Rumonge', 'Rutana',
    'Ruyigi'),
  areaname_eng_iso = c('Bubanza', 'Bujumbura Mairie', 'Bujumbura Rural',
    'Bururi', 'Cankuzo', 'Cibitoke', 'Gitega', 'Karuzi', 'Kayanza', 'Kirundo',
    'Makamba', 'Muramvya', 'Muyinga', 'Mwaro', 'Ngozi', 'Rumonge', 'Rutana',
    'Ruyigi'))

## gis
geo_burundi <-
  read.csv('Data/GIS/Burundi/BDI_adm4.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Burundi' %in% ab01$cname_eng
'Burundi' %in% ab02$cname_eng
'Burundi' %in% ab03$cname_eng
'Burundi' %in% ab04$cname_eng
'Burundi' %in% ab05$cname_eng
'Burundi' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Burundi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_burundi %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Burundi',
      recode(areaname_eng_ab, 'Bujumbura Mairie' = 'Bujumbura Mairie',
        'Bujumbura' = 'Bujumbura Rural', 'Buriri' = 'Bururi',
        'Karusi' = 'Karuzi'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Burundi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_burundi %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Burundi',
      recode(areaname_eng_ab, 'Bujumbura' = 'Bujumbura Rural',
        'Bujumbura Marie' = 'Bujumbura Mairie', 'Cankuza' = 'Cankuzo',
        'Karusi' = 'Karuzi', 'Ruyiga' = 'Ruyigi'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Burundi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_burundi %>% {sort(unique(.$NAME_1))}
) #afrobarometer area names match level 1 areas from global administrative data

unique(geo_burundi$NAME_0)
geo_burundi %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Burundi', 'Burundi', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Burundi',
      recode(areaname_eng_ab, 'Bubanza' = 1, 'Bujumbura' = 3,
        'Bujumbura Mairie' = 2, 'Buriri' = 4, 'Cankuzo' = 5, 'Cibitoke' = 6,
        'Gitega' = 7, 'Karusi' = 8, 'Kayanza' = 9, 'Kirundo' = 10,
        'Makamba' = 11, 'Muramvya' = 12, 'Muyinga' = 13, 'Mwaro' = 14,
        'Ngozi' = 15, 'Rutana' = 16, 'Ruyigi' = 17, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Burundi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_burundi %>% {sort(unique(.$NAME_1))}
) #afrobarometer area names match level 1 areas from global administrative data

unique(geo_burundi$NAME_0)
geo_burundi %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Burundi', 'Burundi', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Burundi',
      recode(areaname_eng_ab, 'Bubanza' = 1, 'Bujumbura Marie' = 2,
        'Bujumbura' = 3, 'Bururi' =  4, 'Cankuza' = 5, 'Cibitoke' =  6,
        'Gitega' =  7, 'Karusi' =  8, 'Kayanza' = 9, 'Kirundo' = 10,
        'Makamba' = 11, 'Muramvya' =  12, 'Muyinga' = 13, 'Mwaro' = 14,
        'Ngozi' = 15, 'Rutana' =  16, 'Ruyiga' =  17, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

#### Cameroon
## iso
iso_cameroon <- bind_cols(
  cname_eng = rep('Cameroon', 10),
  ISO1num = rep(120, 10),
  ISO2str = c('CM-AD', 'CM-CE', 'CM-ES', 'CM-EN', 'CM-LT', 'CM-NO', 'CM-NW',
    'CM-SU', 'CM-SW', 'CM-OU'),
  ISO2numstr = rep('', 10),
  ISO2num = rep(NA, 10),
  areaname_conv_iso = c('Adamaoua', 'Centre', 'Est', 'Extrême-Nord', 'Littoral',
    'Nord', 'Nord-Ouest', 'Sud', 'Sud-Ouest', 'Ouest'),
  areaname_eng_iso = c('Adamaoua', 'Centre', 'East', 'Far North', 'Littoral',
    'North', 'North-West', 'South', 'South-West', 'West'))

## gis
geo_cameroon <-
  read.csv('Data/GIS/Cameroon/CMR_adm3.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Cameroon' %in% ab01$cname_eng
'Cameroon' %in% ab02$cname_eng
'Cameroon' %in% ab03$cname_eng
'Cameroon' %in% ab04$cname_eng
'Cameroon' %in% ab05$cname_eng
'Cameroon' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cameroon') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_cameroon %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cameroon',
      recode(areaname_eng_ab, 'Adamawa' = 'Adamaoua', 'Centre' = 'Centre',
        'Douala' = 'Littoral', 'East' = 'East', 'Extreme-North' = 'Far North',
        'Littoral' = 'Littoral', 'North' = 'North', 'North West' = 'North-West',
        'Sud' = 'South', 'Sud-Ouest' = 'South-West', 'West' = 'West',
        'Yaounde' = 'Centre'),
      areaname_eng_iso)
) #Douala is a city within the Littoral region; Yaounde is a city within the
  #  Centre region

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cameroon') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_cameroon %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cameroon',
      recode(areaname_eng_ab, 'Adamaoua' = 'Adamaoua', 'Centre' = 'Centre',
        'Centre-Yaounde' = 'Centre', 'Est' = 'East',
        'Extreme-Nord' = 'Far North', 'Littoral' = 'Littoral',
        'Littoral- Douala' = 'Littoral', 'Nord' = 'North',
        'Nord-Ouest' = 'North-West', 'Sud' = 'South',
        'Sud-Ouest' = 'South-West', 'Ouest' = 'West'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cameroon') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_cameroon %>% {sort(unique(.$NAME_1))}
) #afrobarometer area names match level 1 areas from global administrative data

unique(geo_cameroon$NAME_0)
geo_cameroon %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cameroon', 'Cameroon', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cameroon',
      recode(areaname_eng_ab, 'Adamawa' = 1, 'Centre' = 2, 'Douala' = 5,
        'East' = 3, 'Extreme-North' = 4, 'Littoral' = 5, 'North' = 7,
        'North West' = 6, 'Sud' = 10, 'Sud-Ouest' = 9, 'West' = 8,
        'Yaounde' = 2, .default = NA_real_),
      as.double(ID_1))
) #Douala and Yaounde are not specific enough to match to a lower level of
  #  geography in the global administrative data

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cameroon') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_cameroon %>% {sort(unique(.$NAME_1))}
) #afrobarometer area names match level 1 areas from global administrative data

unique(geo_cameroon$NAME_0)
geo_cameroon %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cameroon', 'Cameroon', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cameroon',
      recode(areaname_eng_ab, 'Adamaoua' = 1, 'Centre' = 2,
        'Centre-Yaounde' = 2, 'Est' = 3, 'Extreme-Nord' = 4, 'Littoral' = 5,
        'Littoral- Douala' = 5, 'Nord' = 7, 'Nord-Ouest' = 6, 'Ouest' = 8,
        'Sud' = 10, 'Sud-Ouest' = 9, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

#### Cape Verde
## iso
#ã -> a; Ó -> O
iso_capeverde <- bind_cols(
  cname_eng = rep('Cape Verde', 2),
  ISO1num = rep(132, 2),
  ISO2str = c('CV-B', 'CV-S'),
  ISO2numstr = rep('', 2),
  ISO2num = rep(NA, 2),
  areaname_conv_iso = c('Ilhas de Barlavento', 'Ilhas de Sotavento'),
  areaname_eng_iso = c('Ilhas de Barlavento', 'Ilhas de Sotavento')
)

iso_capeverde2 <- bind_cols(
  cname_eng = rep('Cape Verde', 22),
  ISO1num = rep(132, 22),
  ISO2str2 = c('CV-BV', 'CV-BR', 'CV-MA', 'CV-MO', 'CV-PA', 'CV-PN', 'CV-PR',
    'CV-RB', 'CV-RG', 'CV-RS', 'CV-SL', 'CV-CA', 'CV-CF', 'CV-CR', 'CV-SD',
    'CV-SF', 'CV-SO', 'CV-SM', 'CV-SS', 'CV-SV', 'CV-TA', 'CV-TS'),
  ISO2numstr = rep('', 22),
  ISO2num = rep(NA, 22),
  areaname_conv_iso2 = c('Boa Vista', 'Brava', 'Maio', 'Mosteiros', 'Paul',
    'Porto Novo', 'Praia', 'Ribeira Brava', 'Ribeira Grande',
    'Ribeira Grande de Santiago', 'Sal', 'Santa Catarina',
    'Santa Catarina do Fogo', 'Santa Cruz', 'São Domingos', 'São Filipe',
    'São Lourenço dos Órgãos', 'São Miguel', 'São Salvador do Mundo',
    'São Vicente', 'Tarrafal ', 'Tarrafal de São Nicolau'),
  areaname_eng_iso2 = c('Boa Vista', 'Brava', 'Maio', 'Mosteiros', 'Paul',
    'Porto Novo', 'Praia', 'Ribeira Brava', 'Ribeira Grande',
    'Ribeira Grande de Santiago', 'Sal', 'Santa Catarina',
    'Santa Catarina do Fogo', 'Santa Cruz', 'Sao Domingos', 'Sao Filipe',
    'Sao Lourenço dos Orgaos', 'Sao Miguel', 'Sao Salvador do Mundo',
    'Sao Vicente', 'Tarrafal ', 'Tarrafal de Sao Nicolau')
)

## gis
geo_capeverde <-
  read.csv('Data/GIS/CapeVerde/CPV_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Cape Verde' %in% ab01$cname_eng
'Cape Verde' %in% ab02$cname_eng
'Cape Verde' %in% ab03$cname_eng
'Cape Verde' %in% ab04$cname_eng
'Cape Verde' %in% ab05$cname_eng
'Cape Verde' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'SantoAntao' = 'Ilhas de Barlavento',
        'Satiago' = 'Ilhas de Sotavento',
        'Fogo' = 'Ilhas de Sotavento', 'SaoVicente' = 'Ilhas de Sotavento'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'SantoAntao' = '', 'Satiago' = '',
        'Fogo' = '', 'SaoVicente' = 'Sao Vicente'),
      areaname_eng_iso2)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso,
  areaname_eng_iso2) %>% summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'Santo Antao' = 'Ilhas de Barlavento',
        'Santiago-Interior' = 'Ilhas de Sotavento',
        'Santiago-Praia' = 'Ilhas de Sotavento',
        'Fogo' = 'Ilhas de Sotavento', 'Sao Vicente' = 'Ilhas de Sotavento'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'Santo Antao' = '',
        'Santiago-Interior' = '',
        'Santiago-Praia' = '',
        'Fogo' = '', 'Sao Vicente' = 'Sao Vicente'),
      areaname_eng_iso2)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso,
  areaname_eng_iso2) %>% summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'Santo Antao' = 'Ilhas de Barlavento',
        'Santiago - Interior' = 'Ilhas de Sotavento',
        'Santiago - Praia' = 'Ilhas de Sotavento',
        'Fogo' = 'Ilhas de Sotavento', 'Sao Vicente' = 'Ilhas de Sotavento'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'Santo Antao' = '',
        'Santiago - Interior' = '',
        'Santiago - Praia' = '',
        'Fogo' = '', 'Sao Vicente' = 'Sao Vicente'),
      areaname_eng_iso2)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso,
  areaname_eng_iso2) %>% summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'S.Antao' = 'Ilhas de Barlavento',
        'Santiago- Interior' = 'Ilhas de Sotavento',
        'Santiago- Praia' = 'Ilhas de Sotavento',
        'Fogo' = 'Ilhas de Sotavento', 'S.Vicente' = 'Ilhas de Sotavento'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'S.Antao' = '', 'Santiago- Interior' = '',
        'Santiago- Praia' = '', 'Fogo' = '', 'S.Vicente' = 'Sao Vicente'),
      areaname_eng_iso2)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso,
  areaname_eng_iso2) %>% summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_capeverde2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'S. Antao' = 'Ilhas de Barlavento',
        'Santiago-Interior' = 'Ilhas de Sotavento',
        'Santiago-Praia' = 'Ilhas de Sotavento',
        'Fogo' = 'Ilhas de Sotavento', 'S.Vincente' = 'Ilhas de Sotavento'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'S. Antao' = '',
        'Santiago-Interior' = '',
        'Santiago-Praia' = '',
        'Fogo' = '', 'S.Vincente' = 'Sao Vicente'),
      areaname_eng_iso2)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso,
  areaname_eng_iso2) %>% summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_capeverde %>%
    {sort(unique(.$NAME_1))}
) #only Sao Vicente can be placed within a level 1 area from the global
  #  administrative data

unique(geo_capeverde$NAME_0)
geo_capeverde %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cape Verde', 'Cape Verde', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'SaoVicente' = 16, .default = NA_real_),
    as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_capeverde %>%
    {sort(unique(.$NAME_1))}
) #only Sao Vicente can be placed within a level 1 area from the global
  #  administrative data

unique(geo_capeverde$NAME_0)
geo_capeverde %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cape Verde', 'Cape Verde', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'Sao Vicente' = 16, .default = NA_real_),
    as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_capeverde %>%
    {sort(unique(.$NAME_1))}
) #only Sao Vicente can be placed within a level 1 area from the global
  #  administrative data

unique(geo_capeverde$NAME_0)
geo_capeverde %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cape Verde', 'Cape Verde', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'Sao Vicente' = 16, .default = NA_real_),
    as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_capeverde %>%
    {sort(unique(.$NAME_1))}
) #only Sao Vicente can be placed within a level 1 area from the global
  #  administrative data

unique(geo_capeverde$NAME_0)
geo_capeverde %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cape Verde', 'Cape Verde', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'S.Vicente' = 16, .default = NA_real_),
    as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cape Verde') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_capeverde %>%
    {sort(unique(.$NAME_1))}
) #only Sao Vicente can be placed within a level 1 area from the global
  #  administrative data

unique(geo_capeverde$NAME_0)
geo_capeverde %>% group_by(NAME_1, ID_1) %>% summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cape Verde', 'Cape Verde', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cape Verde',
      recode(areaname_eng_ab, 'S.Vincente' = 16, .default = NA_real_),
    as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Cote D'Ivoire
## iso
# é -> e; ô -> o
iso_cotedivoire <- bind_cols(
  cname_eng = rep('Cote d\'Ivoire', 14),
  ISO1num = rep(384, 14),
  ISO2str = c('CI-AB', 'CI-BS', 'CI-CM', 'CI-DN', 'CI-GD', 'CI-LC', 'CI-LG',
    'CI-MG', 'CI-SM', 'CI-SV', 'CI-VB', 'CI-WR', 'CI-YM', 'CI-ZZ'),
  ISO2numstr = rep('', 14),
  ISO2num = rep(NA, 14),
  areaname_conv_iso = c('Abidjan', 'Bas-Sassandra', 'Comoé', 'Denguélé',
    'Gôh-Djiboua', 'Lacs', 'Lagunes', 'Montagnes', 'Sassandra-Marahoué',
    'Savanes', 'Vallée du Bandama', 'Woroba', 'Yamoussoukro', 'Zanzan'),
  areaname_eng_iso = c('Abidjan', 'Bas-Sassandra', 'Comoe', 'Denguele',
    'Goh-Djiboua', 'Lacs', 'Lagunes', 'Montagnes', 'Sassandra-Marahoue',
    'Savanes', 'Vallee du Bandama', 'Woroba', 'Yamoussoukro', 'Zanzan')
)

## gis
geo_cotedivoire <-
  read.csv('Data/GIS/CoteDIvoire/CIV_adm3.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Cote d\'Ivoire' %in% ab01$cname_eng
'Cote d\'Ivoire' %in% ab02$cname_eng
'Cote d\'Ivoire' %in% ab03$cname_eng
'Cote d\'Ivoire' %in% ab04$cname_eng
'Cote d\'Ivoire' %in% ab05$cname_eng
'Cote d\'Ivoire' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cote d\'Ivoire') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_cotedivoire %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cote d\'Ivoire',
      recode(areaname_eng_ab, 'Ville d\'Abidjan' = 'Abidjan',
        'Bas Sassandra' = 'Bas-Sassandra', 'Denguele' = 'Denguele',
        'Vallee du Bandama' = 'Vallee du Bandama'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cote d\'Ivoire') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_cotedivoire %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Cote d\'Ivoire',
      recode(areaname_eng_ab, 'Abidjan' =	'Abidjan',
        'Agneby-Tiassa' = 'Abidjan', 'Bafing' =	'Woroba', 'Bagoue' = 'Savanes',
        'Belier' = 'Lacs', 'Bere' = 'Woroba', 'Bounkani' = 'Zanzan',
        'Cavally' = 'Montagnes', 'Gbeke' = 'Vallee du Bandama',
        'Gbokle' = 'Bas-Sassandra', 'Goh' = 'Goh-Djiboua',
        'Gontougo' = 'Zanzan', 'Grands Ponts' = 'Abidjan',
        'Guemon' = 'Montagnes', 'Hambol' = 'Vallee du Bandama',
        'Haut Sassandra' = 'Sassandra-Marahoue', 'Iffou' = 'Lacs',
        'Indenie-Djuablin' = 'Comoe', 'Kabadougou' = 'Denguele',
        'La Me' = 'Lagunes', 'Loh-Djiboua' = 'Goh-Djiboua',
        'Marahoue' = 'Sassandra-Marahoue', 'Moronou' = 'Lacs', 'N\'Zi' = 'Lacs',
        'Nawa' = 'Bas-Sassandra', 'Poro' = 'Savanes',
        'San Pedro' = 'Bas-Sassandra', 'Sud Comoe' = 'Comoe',
        'Tchologo' = 'Savanes', 'Tonkpi' = 'Montagnes',
        'Worodougou' = 'Woroba'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cote d\'Ivoire') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_cotedivoire %>%
    {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Cote d\'Ivoire') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_cotedivoire %>%
    {sort(unique(.$NAME_2))}
)

unique(geo_cotedivoire$NAME_0)
geo_cotedivoire %>% group_by(NAME_1, ID_1, NAME_2, ID_2) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cote d\'Ivoire', 'Cote d\'Ivoire', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cote d\'Ivoire',
      recode(areaname_eng_ab, 'Agneby' = 1, 'Bafing' = 2, 'Bas Sassandra' = 3,
        'Denguele' = 4, 'Montagnes' = 5, 'Fromager' = 6, 'Haut Sassandra' = 7,
        'Lacs' = 8, 'Ville d\'Abidjan' = 9, 'Lagunes' = 9, 'Marahoue' = 10,
        'Moyen Cavally' = 11, 'Moyen Comoe' = 12, 'N\'Zi Comoe' = 13,
        'Savanes' =	14, 'Sud Bandama' = 15, 'Sud Comoe' =	16,
        'Vallee du Bandama' = 17, 'Worodougou' = 18, 'Zanzan' = 19,
        .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Cote d\'Ivoire',
      recode(areaname_eng_ab, 'Ville d\'Abidjan' = 20, .default = NA_real_),
    as.double(ID_2))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cote d\'Ivoire') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_cotedivoire %>%
    {sort(unique(.$NAME_1))}
)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Cote d\'Ivoire') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_cotedivoire %>%
    {sort(unique(.$NAME_2))}
)

unique(geo_cotedivoire$NAME_0)
geo_cotedivoire %>% group_by(NAME_1, ID_1, NAME_2, ID_2) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Cote d\'Ivoire', 'Cote d\'Ivoire', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Cote d\'Ivoire',
      recode(areaname_eng_ab, 'Abidjan' =	9, 'Agneby-Tiassa' = 1, 'Bafing' = 2,
        'Bagoue' = 14, 'Belier' = 8, 'Bere' = 18, 'Bounkani' = 19,
        'Cavally' = 11, 'Gbeke' = 17, 'Gbokle' = 3, 'Goh' = 6, 'Gontougo' = 19,
        'Grands Ponts' = 9, 'Guemon' = 5, 'Hambol' = 17, 'Haut Sassandra' = 7,
        'Iffou' = 8, 'Indenie-Djuablin' = 12, 'Kabadougou' = 4, 'La Me' = 9,
        'Loh-Djiboua' = 15, 'Marahoue' = 10, 'Moronou' = 8, 'N\'Zi' = 13,
        'Nawa' = 3, 'Poro' = 14, 'San Pedro' = 3, 'Sud Comoe' = 16,
        'Tchologo' = 14, 'Tonkpi' = 5, 'Worodougou' = 18, .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Cote d\'Ivoire',
      recode(areaname_eng_ab, 'Abidjan' = 20, .default = NA_real_),
    as.double(ID_2))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)


#### Egypt
## iso
# ī -> i; ḩ -> h; ū -> u; ā -> a; ş -> s; ţ -> t
iso_egypt <- bind_cols(
  cname_eng = rep('Egypt', 27),
  ISO1num = rep(818, 27),
  ISO2str = c('EG-DK', 'EG-BA', 'EG-BH', 'EG-FYM', 'EG-GH', 'EG-ALX', 'EG-IS',
    'EG-GZ', 'EG-MNF', 'EG-MN', 'EG-C', 'EG-KB', 'EG-LX', 'EG-WAD', 'EG-SUZ',
    'EG-SHR', 'EG-ASN', 'EG-AST', 'EG-BNS', 'EG-PTS', 'EG-DT', 'EG-JS',
    'EG-KFS', 'EG-MT', 'EG-KN', 'EG-SIN', 'EG-SHG'),
  ISO2numstr = rep('', 27),
  ISO2num = rep(NA, 27),
  areaname_conv_iso = c('Ad Daqahlīyah', 'Al Baḩr al Aḩmar', 'Al Buḩayrah',
    'Al Fayyūm', 'Al Gharbīyah', 'Al Iskandarīyah', 'Al Ismā\'īlīyah',
    'Al Jīzah', 'Al Minūfīyah', 'Al Minyā', 'Al Qāhirah', 'Al Qalyūbīyah',
    'Al Uqşur', 'Al Wādī al Jadīd', 'As Suways', 'Ash Sharqīyah', 'Aswān',
    'Asyūţ', 'Banī Suwayf', 'Būr Sa\'īd', 'Dumyāţ', 'Janūb Sīnā\'',
    'Kafr ash Shaykh', 'Maţrūḩ', 'Qinā', 'Shamāl Sīnā\'', 'Sūhāj'),
  areaname_eng_iso = c('Dakahlia', 'Red Sea', 'Beheira', 'Faiyum', 'Gharbia',
    'Alexandria', 'Ismailia', 'Giza', 'Monufia', 'Minya', 'Cairo', 'Qalyubia',
    'Luxor', 'New Valley', 'Suez', 'Al Sharqia', 'Aswan', 'Asyut', 'Beni Suef',
    'Port Said', 'Damietta', 'South Sinai', 'Kafr el-Sheikh', 'Matrouh', 'Qena',
    'North Sinai', 'Sohag')
)

## gis
geo_egypt <-
  read.csv('Data/GIS/Egypt/EGY_adm2.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Egypt' %in% ab01$cname_eng
'Egypt' %in% ab02$cname_eng
'Egypt' %in% ab03$cname_eng
'Egypt' %in% ab04$cname_eng
'Egypt' %in% ab05$cname_eng
'Egypt' %in% ab06$cname_eng

# construct areaname_eng_iso in afrobarometer data
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Egypt') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_egypt %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Egypt',
      recode(areaname_eng_ab, 'Al Bahr al Ahmar' = 'Red Sea',
        'Dakahlia' = 'Dakahlia', 'Red Sea' = 'Red Sea', 'Beheira' = 'Beheira',
        'Faiyum' = 'Faiyum', 'Gharbia' = 'Gharbia', 'Alexandira' = 'Alexandria',
        'Ismailia' = 'Ismailia', 'Giza' = 'Giza', 'Monufia' = 'Monufia',
        'Minya' = 'Minya', 'Cairo' = 'Cairo', 'Qalyubia' = 'Qalyubia',
        'Luxor' = 'Luxor', 'Suez' = 'Suez', 'Al-Sharqia' = 'Al Sharqia',
        'Asyut' = 'Asyut', 'Beni Suef' = 'Beni Suef', 'Damietta' = 'Damietta',
        'Kafr el-Sheikh' = 'Kafr el-Sheikh', 'Qena' = 'Qena',
        'Sohag' = 'Sohag'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Egypt') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_egypt %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Egypt',
      recode(areaname_eng_ab, 'Dakahlia' = 'Dakahlia', 'Red Sea' = 'Red Sea',
        'Beheira' = 'Beheira', 'El Feyoum' = 'Faiyum', 'Gharbia' = 'Gharbia',
        'Alexandria' = 'Alexandria', 'Ismailia' = 'Ismailia', 'Giza' = 'Giza',
        'Monufia' = 'Monufia', 'El Menya' = 'Minya', 'Cairo' = 'Cairo',
        'Qalyubia' = 'Qalyubia', 'Luxor' = 'Luxor', 'Suez' = 'Suez',
        'Charqia' = 'Al Sharqia', 'Aswan' = 'Aswan', 'Assyout' = 'Asyut',
        'Beni Souif' = 'Beni Suef', 'Port Said' = 'Port Said',
        'Damietta' = 'Damietta', 'Kafr el-Sheikh' = 'Kafr el-Sheikh',
        'Matrouh' = 'Matrouh', 'Qena' = 'Qena', 'Souhag' = 'Sohag'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)


# construct common identifiers between global administrative data and
#   afrobarometer
RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Egypt') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_egypt %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_egypt$NAME_0)
geo_egypt %>% group_by(NAME_1, ID_1, NAME_2, ID_2) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Egypt', 'Egypt', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Egypt',
      recode(areaname_eng_ab, 'Dakahlia' = 1, 'Al Bahr al Ahmar' = 2,
        'Red Sea' = 2, 'Beheira' = 3, 'Faiyum' = 4, 'Gharbia' = 5,
        'Alexandira' = 6, 'Ismailia' = 7, 'Giza' = 8, 'Monufia' = 9,
        'Minya' = 10, 'Cairo' = 11, 'Qalyubia' = 12, 'Luxor' = 13, 'Suez' = 15,
        'Al-Sharqia' = 16, 'Asyut' = 18, 'Beni Suef' = 19, 'Damietta' = 21,
        'Kafr el-Sheikh' = 23, 'Qena' = 25, 'Sohag' = 27, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Egypt') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_egypt %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_egypt$NAME_0)
geo_egypt %>% group_by(NAME_1, ID_1, NAME_2, ID_2) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Egypt', 'Egypt', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Egypt',
      recode(areaname_eng_ab, 'Alexandria' = 6, 'Assyout' = 18, 'Aswan' = 17,
        'Beheira' = 3, 'Beni Souif' = 19, 'Cairo' = 11, 'Charqia' = 16,
        'Dakahlia' = 1, 'Damietta' = 21, 'El Feyoum' = 4, 'El Menya' = 10,
        'Gharbia' = 5, 'Giza' = 8, 'Ismailia' = 7, 'Kafr el-Sheikh' = 23,
        'Luxor' = 13, 'Matrouh' = 24, 'Monufia' = 9, 'Port Said' = 20,
        'Qalyubia' = 12, 'Qena' = 25, 'Red Sea' = 2, 'Souhag' = 27, 'Suez' = 15,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Gabon
## iso
# é -> e
iso_gabon <- bind_cols(
  cname_eng = rep('Gabon', 9),
  ISO1num = rep(266, 9),
  ISO2str = c('GA-1', 'GA-2', 'GA-3', 'GA-4', 'GA-5', 'GA-6', 'GA-7', 'GA-8',
    'GA-9'),
  ISO2numstr = rep('', 9),
  ISO2num = rep(NA, 9),
  areaname_conv_iso = c('Estuaire', 'Haut-Ogooué', 'Moyen-Ogooué', 'Ngounié',
    'Nyanga', 'Ogooué-Ivindo', 'Ogooué-Lolo', 'Ogooué-Maritime', 'Woleu-Ntem'),
  areaname_eng_iso = c('Estuaire', 'Haut-Ogooue', 'Moyen-Ogooue', 'Ngounie',
    'Nyanga', 'Ogooue-Ivindo', 'Ogooue-Lolo', 'Ogooue-Maritime', 'Woleu-Ntem')
)

## gis
geo_gabon <-
  read.csv('Data/GIS/Gabon/GAB_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Gabon' %in% ab01$cname_eng
'Gabon' %in% ab02$cname_eng
'Gabon' %in% ab03$cname_eng
'Gabon' %in% ab04$cname_eng
'Gabon' %in% ab05$cname_eng
'Gabon' %in% ab06$cname_eng

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Gabon') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_gabon %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Gabon',
      recode(areaname_eng_ab, 'Estuaire' = 'Estuaire',
        'Haut-Ogooue' = 'Haut-Ogooue', 'Moyen-Ogooue' = 'Moyen-Ogooue',
        'Ngounie' = 'Ngounie', 'Nyanga' = 'Nyanga',
        'Ogooue-Ivindo' = 'Ogooue-Ivindo', 'Ogooue-Lolo' = 'Ogooue-Lolo',
        'Ogooue-Maritime' = 'Ogooue-Maritime', 'Woleu-Ntem' = 'Woleu-Ntem'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Gabon') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_gabon %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_gabon$NAME_0)
geo_gabon %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Gabon', 'Gabon', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Gabon',
      recode(areaname_eng_ab, 'Estuaire' = 1, 'Haut-Ogooue' = 2,
      'Moyen-Ogooue' = 3, 'Ngounie' = 4, 'Nyanga' = 5, 'Ogooue-Ivindo' = 6,
      'Ogooue-Lolo' = 7, 'Ogooue-Maritime' = 8, 'Woleu-Ntem' = 9,
      .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Ghana
## iso
iso_ghana <- bind_cols(
  cname_eng = rep('Ghana', 16),
  ISO1num = rep(288, 16),
  ISO2str = c('GH-AF', 'GH-AH', 'GH-BO', 'GH-BE', 'GH-CP', 'GH-EP', 'GH-AA',
    'GH-NE', 'GH-NP', 'GH-OT', 'GH-SV', 'GH-UE', 'GH-UW', 'GH-TV', 'GH-WP',
    'GH-WN'),
  ISO2numstr = rep('', 16),
  ISO2num = rep(NA, 16),
  areaname_conv_iso = c('Ahafo', 'Ashanti', 'Bono', 'Bono East', 'Central',
    'Eastern', 'Greater Accra', 'North East', 'Northern', 'Oti', 'Savannah',
    'Upper East', 'Upper West', 'Volta', 'Western', 'Western North'),
  areaname_eng_iso = c('Ahafo', 'Ashanti', 'Bono', 'Bono East', 'Central',
    'Eastern', 'Greater Accra', 'North East', 'Northern', 'Oti', 'Savannah',
    'Upper East', 'Upper West', 'Volta', 'Western', 'Western North')
)

## gis
geo_ghana <-
  read.csv('Data/GIS/Ghana/GHA_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Ghana' %in% ab01$cname_eng
'Ghana' %in% ab02$cname_eng
'Ghana' %in% ab03$cname_eng
'Ghana' %in% ab04$cname_eng
'Ghana' %in% ab05$cname_eng
'Ghana' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_ghana %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Brong-Ahafo' = 'Ahafo', 'Ashanti' = 'Ashanti',
        'Central' = 'Central', 'Eastern' = 'Eastern',
        'Greater Accra' = 'Greater Accra', 'Northern' = 'Northern',
        'Upper East' = 'Upper East', 'Upper West' = 'Upper West',
        'Volta' = 'Volta', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_ghana %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_ghana$NAME_0)
geo_ghana %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Ghana', 'Ghana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Ashanti' = 1, 'Brong-Ahafo' = 2, 'Central' = 3,
        'Eastern' = 4, 'Greater Accra' = 5, 'Northern' = 6, 'Upper East' = 7,
        'Upper West' = 8, 'Volta' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_ghana %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'BrongAhafo' = 'Ahafo', 'Ashanti' = 'Ashanti',
        'Central' = 'Central', 'Eastern' = 'Eastern',
        'GreaterAccra' = 'Greater Accra', 'Northern' = 'Northern',
        'UpperEast' = 'Upper East', 'UpperWest' = 'Upper West',
        'Volta' = 'Volta', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_ghana %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_ghana$NAME_0)
geo_ghana %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Ghana', 'Ghana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Ashanti' = 1, 'BrongAhafo' = 2, 'Central' = 3,
        'Eastern' = 4, 'GreaterAccra' = 5, 'Northern' = 6, 'UpperEast' = 7,
        'UpperWest' = 8, 'Volta' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_ghana %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Brong Ahafo' = 'Ahafo', 'Ashanti' = 'Ashanti',
        'Central' = 'Central', 'Eastern' = 'Eastern',
        'Greater-Accra' = 'Greater Accra', 'Northern' = 'Northern',
        'Upper East' = 'Upper East', 'Upper West' = 'Upper West',
        'Volta' = 'Volta', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_ghana %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_ghana$NAME_0)
geo_ghana %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Ghana', 'Ghana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Ashanti' = 1, 'Brong Ahafo' = 2, 'Central' = 3,
        'Eastern' = 4, 'Greater-Accra' = 5, 'Northern' = 6, 'Upper East' = 7,
        'Upper West' = 8, 'Volta' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_ghana %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Brong Ahafo' = 'Ahafo', 'Ashanti' = 'Ashanti',
        'Central' = 'Central', 'Eastern' = 'Eastern',
        'Greater Accra' = 'Greater Accra', 'Northern' = 'Northern',
        'Upper East' = 'Upper East', 'Upper West' = 'Upper West',
        'Volta' = 'Volta', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_ghana %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_ghana$NAME_0)
geo_ghana %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Ghana', 'Ghana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Ashanti' = 1, 'Brong Ahafo' = 2, 'Central' = 3,
        'Eastern' = 4, 'Greater Accra' = 5, 'Northern' = 6, 'Upper East' = 7,
        'Upper West' = 8, 'Volta' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_ghana %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Brong Ahafo' = 'Ahafo', 'Ashanti' = 'Ashanti',
        'Central' = 'Central', 'Eastern' = 'Eastern',
        'Greater Accra' = 'Greater Accra', 'Northern' = 'Northern',
        'Upper East' = 'Upper East', 'Upper West' = 'Upper West',
        'Volta' = 'Volta', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_ghana %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_ghana$NAME_0)
geo_ghana %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Ghana', 'Ghana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Ashanti' = 1, 'Brong Ahafo' = 2, 'Central' = 3,
        'Eastern' = 4, 'Greater Accra' = 5, 'Northern' = 6, 'Upper East' = 7,
        'Upper West' = 8, 'Volta' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_ghana %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Brong Ahafo' = 'Ahafo', 'Ashanti' = 'Ashanti',
        'Central' = 'Central', 'Eastern' = 'Eastern',
        'Greater Accra' = 'Greater Accra', 'Northern' = 'Northern',
        'Upper East' = 'Upper East', 'Upper West' = 'Upper West',
        'Volta' = 'Volta', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Ghana') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_ghana %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_ghana$NAME_0)
geo_ghana %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Ghana', 'Ghana', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Ghana',
      recode(areaname_eng_ab, 'Ashanti' = 1, 'Brong Ahafo' = 2, 'Central' = 3,
        'Eastern' = 4, 'Greater Accra' = 5, 'Northern' = 6, 'Upper East' = 7,
        'Upper West' = 8, 'Volta' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Guinea
## iso
# é -> e
iso_guinea <- bind_cols(
  cname_eng = rep('Guinea', 8),
  ISO1num = rep(324, 8),
  ISO2str = c('GN-B', 'GN-F', 'GN-K', 'GN-D', 'GN-L', 'GN-M', 'GN-N', 'GN-C'),
  ISO2numstr = rep('', 8),
  ISO2num = rep(NA, 8),
  areaname_conv_iso = c('Boké', 'Faranah', 'Kankan', 'Kindia', 'Labé', 'Mamou',
    'Nzérékoré', 'Conakry'),
  areaname_eng_iso = c('Boke', 'Faranah', 'Kankan', 'Kindia', 'Labe', 'Mamou',
    'Nzerekore', 'Conakry')
)

iso_guinea2 <- bind_cols(
  cname_eng = rep('Guinea', 33),
  ISO1num = rep(324, 33),
  ISO2str2 = c('GN-BE', 'GN-BF', 'GN-BK', 'GN-CO', 'GN-DB', 'GN-DL', 'GN-DI',
    'GN-DU', 'GN-FA', 'GN-FO', 'GN-FR', 'GN-GA', 'GN-GU', 'GN-KA', 'GN-KE',
    'GN-KD', 'GN-KS', 'GN-KB', 'GN-KN', 'GN-KO', 'GN-LA', 'GN-LE', 'GN-LO',
    'GN-MC', 'GN-ML', 'GN-MM', 'GN-MD', 'GN-NZ', 'GN-PI', 'GN-SI', 'GN-TE',
    'GN-TO', 'GN-YO'),
  ISO2numstr = rep('', 33),
  ISO2num = rep(NA, 33),
  areaname_conv_iso2 = c('Beyla', 'Boffa', 'Boké', 'Coyah', 'Dabola', 'Dalaba',
    'Dinguiraye', 'Dubréka', 'Faranah', 'Forécariah', 'Fria', 'Gaoual',
    'Guékédou', 'Kankan', 'Kérouané', 'Kindia', 'Kissidougou', 'Koubia',
     'Koundara', 'Kouroussa', 'Labé', 'Lélouma', 'Lola', 'Macenta', 'Mali',
     'Mamou', 'Mandiana', 'Nzérékoré', 'Pita', 'Siguiri', 'Télimélé', 'Tougué',
     'Yomou'),
  areaname_eng_iso2 = c('Beyla', 'Boffa', 'Boke', 'Coyah', 'Dabola', 'Dalaba',
    'Dinguiraye', 'Dubreka', 'Faranah', 'Forecariah', 'Fria', 'Gaoual',
    'Guekedou', 'Kankan', 'Kerouane', 'Kindia', 'Kissidougou', 'Koubia',
    'Koundara', 'Kouroussa', 'Labe', 'Lelouma', 'Lola', 'Macenta', 'Mali',
    'Mamou', 'Mandiana', 'Nzerekore', 'Pita', 'Siguiri', 'Telimele', 'Tougue',
    'Yomou')
)

## gis
geo_guinea <-
  read.csv('Data/GIS/Guinea/GIN_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Guinea' %in% ab01$cname_eng
'Guinea' %in% ab02$cname_eng
'Guinea' %in% ab03$cname_eng
'Guinea' %in% ab04$cname_eng
'Guinea' %in% ab05$cname_eng
'Guinea' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Guinea') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_guinea %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Guinea',
      recode(areaname_eng_ab, 'Boke' = 'Boke', 'Canakry' = 'Conakry',
        'Faranah' = 'Faranah', 'Kankan' = 'Kankan', 'Kindia' = 'Kindia',
        'Labe' = 'Labe', 'Mamou' = 'Mamou', 'N\'Zerekore' = 'Nzerekore'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Guinea') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_guinea %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_guinea$NAME_0)
geo_guinea %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Guinea', 'Guinea', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Guinea',
      recode(areaname_eng_ab, 'Boke' = 1, 'Canakry' = 2, 'Faranah' = 3,
        'Kankan' = 4, 'Kindia' = 5, 'Labe' = 6, 'Mamou' = 7, 'N\'Zerekore' = 8,
        .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Guinea') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_guinea %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Guinea',
      recode(areaname_eng_ab, 'Boke' = 'Boke', 'Conakry' = 'Conakry',
        'Kankan' = 'Kankan', 'Kindia' = 'Kindia', 'Labe' = 'Labe',
        'Mamou' = 'Mamou'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Guinea') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_guinea %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_guinea$NAME_0)
geo_guinea %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Guinea', 'Guinea', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Guinea',
      recode(areaname_eng_ab, 'Boke' = 1, 'Conakry' = 2, 'Kankan' = 4,
      'Kindia' = 5, 'Labe' = 6, 'Mamou' = 7, 'NZerekore' = 8,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Kenya
## iso
iso_kenya <- bind_cols(
  cname_eng = rep('Kenya', 8),
  ISO1num = rep(404, 8),
  ISO2str = c('KE-110', 'KE-200', 'KE-300', 'KE-400', 'KE-500', 'KE-600',
    'KE-700', 'KE-800'),
  ISO2numstr = rep('', 8),
  ISO2num = rep(NA, 8),
  areaname_conv_iso = c('Nairobi', 'Central', 'Coast', 'Eastern',
    'North-Eastern', 'Nyanza', 'Rift Valley', 'Western'),
  areaname_eng_iso = c('Nairobi', 'Central', 'Coast', 'Eastern',
    'North-Eastern', 'Nyanza', 'Rift Valley', 'Western')
)

## gis
geo_kenya <-
  read.csv('Data/GIS/Kenya/KEN_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Kenya' %in% ab01$cname_eng
'Kenya' %in% ab02$cname_eng
'Kenya' %in% ab03$cname_eng
'Kenya' %in% ab04$cname_eng
'Kenya' %in% ab05$cname_eng
'Kenya' %in% ab06$cname_eng

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_kenya %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Nairobi' = 'Nairobi', 'Central' = 'Central',
        'Coast' = 'Coast', 'Easter' = 'Eastern',
        'NorthEastern' = 'North-Eastern', 'Nyanza' = 'Nyanza',
        'Rift' = 'Valley Rift Valley', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_kenya %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_kenya$NAME_0)
geo_kenya %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Kenya', 'Kenya', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 1, 'Coast' = 2, 'Eastern' = 3,
        'Nairobi' = 4, 'NorthEastern' = 5, 'Nyanza' = 6, 'Rift-Valley' = 7,
        'Western' = 8, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_kenya %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Nairobi' = 'Nairobi', 'Central' = 'Central',
        'Coast' = 'Coast', 'Eastern' = 'Eastern',
        'North Eastern' = 'North-Eastern', 'Nyanza' = 'Nyanza',
        'Rift Valley' = 'Rift Valley', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_kenya %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_kenya$NAME_0)
geo_kenya %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Kenya', 'Kenya', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 1, 'Coast' = 2, 'Eastern' = 3,
        'Nairobi' = 4, 'North Eastern' = 5, 'Nyanza' = 6, 'Rift Valley' = 7,
        'Western' = 8, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_kenya %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 'Central', 'Coast' = 'Coast',
        'Eastern' = 'Eastern', 'Nairobi' = 'Nairobi',
        'North Eastern' = 'North-Eastern', 'Nyanza' = 'Nyanza',
        'Rift Valley' = 'Rift Valley', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_kenya %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_kenya$NAME_0)
geo_kenya %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Kenya', 'Kenya', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 1, 'Coast' = 2, 'Eastern' = 3,
        'Nairobi' = 4, 'North Eastern' = 5, 'Nyanza' = 6, 'Rift Valley' = 7,
        'Western' = 8, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_kenya %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 'Central', 'Coast' = 'Coast',
        'Eastern' = 'Eastern', 'Nairobi' = 'Nairobi',
        'North Eastern' = 'North-Eastern', 'Nyanza' = 'Nyanza',
        'Rift Valley' = 'Rift Valley', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_kenya %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_kenya$NAME_0)
geo_kenya %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Kenya', 'Kenya', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 1, 'Coast' = 2, 'Eastern' = 3,
        'Nairobi' = 4, 'North Eastern' = 5, 'Nyanza' = 6, 'Rift Valley' = 7,
        'Western' = 8, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_kenya %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 'Central', 'Coast' = 'Coast',
        'Eastern' = 'Eastern', 'Nairobi' = 'Nairobi',
        'North Eastern' = 'North-Eastern', 'Nyanza' = 'Nyanza',
        'Rift Valley' = 'Rift Valley', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Kenya') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_kenya %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_kenya$NAME_0)
geo_kenya %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Kenya', 'Kenya', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Kenya',
      recode(areaname_eng_ab, 'Central' = 1, 'Coast' = 2, 'Eastern' = 3,
        'Nairobi' = 4, 'North Eastern' = 5, 'Nyanza' = 6, 'Rift Valley' = 7,
        'Western' = 8, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Lesotho
## iso
iso_lesotho <- bind_cols(
  cname_eng = rep('Lesotho', 10),
  ISO1num = rep(426, 10),
  ISO2str = c('LS-D', 'LS-B', 'LS-C', 'LS-E', 'LS-A', 'LS-F', 'LS-J', 'LS-H',
    'LS-G', 'LS-K'),
  ISO2numstr = rep('', 10),
  ISO2num = rep(NA, 10),
  areaname_conv_iso = c('Berea', 'Butha-Buthe', 'Leribe', 'Mafeteng', 'Maseru',
    'Mohale\'s Hoek', 'Mokhotlong', 'Qacha\'s Nek', 'Quthing', 'Thaba-Tseka'),
  areaname_eng_iso = c('Berea', 'Butha-Buthe', 'Leribe', 'Mafeteng', 'Maseru',
    'Mohale\'s Hoek', 'Mokhotlong', 'Qacha\'s Nek', 'Quthing', 'Thaba-Tseka')
)

## gis
geo_lesotho <-
  read.csv('Data/GIS/Lesotho/LSO_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Lesotho' %in% ab01$cname_eng
'Lesotho' %in% ab02$cname_eng
'Lesotho' %in% ab03$cname_eng
'Lesotho' %in% ab04$cname_eng
'Lesotho' %in% ab05$cname_eng
'Lesotho' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_lesotho %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 'Berea', 'Botha-Bothe' = 'Butha-Buthe',
        'Leribe' = 'Leribe', 'Mafeteng' = 'Mafeteng', 'Maseru' = 'Maseru',
        'Mohales Hoek' = 'Mohale\'s Hoek', 'Mokhotlong' = 'Mokhotlong',
        'Qachas Nek' = 'Qacha\'s Nek', 'Quthing' = 'Quthing',
        'Thaba-Tseka' = 'Thaba-Tseka'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_lesotho %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_lesotho$NAME_0)
geo_lesotho %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Lesotho', 'Lesotho', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 1, 'Botha-Bothe' = 2, 'Leribe' = 3,
        'Mafeteng' = 4, 'Maseru' = 5, 'Mohales Hoek' = 6, 'Mokhotlong' = 7,
        'Qachas Nek' = 8, 'Quthing' = 9, 'Thaba-Tseka' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_lesotho %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 'Berea', 'Butha-Buthe' = 'Butha-Buthe',
        'Leribe' = 'Leribe', 'Mafeteng' = 'Mafeteng', 'Maseru' = 'Maseru',
        'Mohale\'sHoek' = 'Mohale\'s Hoek', 'Mokhotlong' = 'Mokhotlong',
        'Qacha\'snek' = 'Qacha\'s Nek', 'Quthing' = 'Quthing',
        'Thaba-Tseka' = 'Thaba-Tseka'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_lesotho %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_lesotho$NAME_0)
geo_lesotho %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Lesotho', 'Lesotho', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 1, 'Butha-Buthe' = 2, 'Leribe' = 3,
        'Mafeteng' = 4, 'Maseru' = 5, 'Mohale\'sHoek' = 6, 'Mokhotlong' = 7,
        'Qacha\'snek' = 8, 'Quthing' = 9, 'Thaba-Tseka' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_lesotho %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 'Berea', 'Butha-Buthe' = 'Butha-Buthe',
        'Leribe' = 'Leribe', 'Mafeteng' = 'Mafeteng', 'Maseru' = 'Maseru',
        'Mohale\'s Hoek' = 'Mohale\'s Hoek', 'Mokhotlong' = 'Mokhotlong',
        'Qacha\'s Nek' = 'Qacha\'s Nek', 'Quthing' = 'Quthing',
        'Thaba-Tseka' = 'Thaba-Tseka'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_lesotho %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_lesotho$NAME_0)
geo_lesotho %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Lesotho', 'Lesotho', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 1, 'Butha-Buthe' = 2, 'Leribe' = 3,
        'Mafeteng' = 4, 'Maseru' = 5, 'Mohale\'s Hoek' = 6, 'Mokhotlong' = 7,
        'Qacha\'s Nek' = 8, 'Quthing' = 9, 'Thaba-Tseka' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_lesotho %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 'Berea', 'Butha-Buthe' = 'Butha-Buthe',
        'Leribe' = 'Leribe', 'Mafeteng' = 'Mafeteng', 'Maseru' = 'Maseru',
        'Mohale\'s Hoek' = 'Mohale\'s Hoek', 'Mokhotlong' = 'Mokhotlong',
        'Qacha\'s Nek' = 'Qacha\'s Nek', 'Quthing' = 'Quthing',
        'Thaba-Tseka' = 'Thaba-Tseka'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_lesotho %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_lesotho$NAME_0)
geo_lesotho %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Lesotho', 'Lesotho', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 1, 'Butha-Buthe' = 2, 'Leribe' = 3,
        'Mafeteng' = 4, 'Maseru' = 5, 'Mohale\'s Hoek' = 6, 'Mokhotlong' = 7,
        'Qacha\'s Nek' = 8, 'Quthing' = 9, 'Thaba-Tseka' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_lesotho %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 'Berea', 'Butha-Buthe' = 'Butha-Buthe',
        'Leribe' = 'Leribe', 'Mafeteng' = 'Mafeteng', 'Maseru' = 'Maseru',
        'Mohale\'s Hoek' = 'Mohale\'s Hoek', 'Mokhotlong' = 'Mokhotlong',
        'Qacha\'s Nek' = 'Qacha\'s Nek', 'Quthing' = 'Quthing',
        'Thaba Tseka' = 'Thaba-Tseka'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_lesotho %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_lesotho$NAME_0)
geo_lesotho %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Lesotho', 'Lesotho', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 1, 'Butha-Buthe' = 2, 'Leribe' = 3,
        'Mafeteng' = 4, 'Maseru' = 5, 'Mohale\'s Hoek' = 6, 'Mokhotlong' = 7,
        'Qacha\'s Nek' = 8, 'Quthing' = 9, 'Thaba Tseka' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_lesotho %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 'Berea', 'Buthe-Buthe' = 'Butha-Buthe',
        'Leribe' = 'Leribe', 'Mafeteng' = 'Mafeteng', 'Maseru' = 'Maseru',
        'Mohale\'s Hoek' = 'Mohale\'s Hoek', 'Mokhotlong' = 'Mokhotlong',
        'Qacha\'s Nek' = 'Qacha\'s Nek', 'Quthing' = 'Quthing',
        'Thaba Tseka' = 'Thaba-Tseka'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Lesotho') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_lesotho %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_lesotho$NAME_0)
geo_lesotho %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Lesotho', 'Lesotho', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Lesotho',
      recode(areaname_eng_ab, 'Berea' = 1, 'Buthe-Buthe' = 2, 'Leribe' = 3,
        'Mafeteng' = 4, 'Maseru' = 5, 'Mohale\'s Hoek' = 6, 'Mokhotlong' = 7,
        'Qacha\'s Nek' = 8, 'Quthing' = 9, 'Thaba Tseka' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Liberia
## iso
iso_liberia <- bind_cols(
  cname_eng = rep('Liberia', 15),
  ISO1num = rep(430, 15),
  ISO2str = c('LR-BM', 'LR-BG', 'LR-GP', 'LR-GB', 'LR-CM', 'LR-GG', 'LR-GK',
    'LR-LO', 'LR-MG', 'LR-MY', 'LR-MO', 'LR-NI', 'LR-RI', 'LR-RG', 'LR-SI'),
  ISO2numstr = rep('', 15),
  ISO2num = rep(NA, 15),
  areaname_conv_iso = c('Bomi', 'Bong', 'Gbarpolu', 'Grand Bassa',
    'Grand Cape Mount', 'Grand Gedeh', 'Grand Kru', 'Lofa', 'Margibi',
    'Maryland', 'Montserrado', 'Nimba', 'River Cess', 'River Gee', 'Sinoe'),
  areaname_eng_iso = c('Bomi', 'Bong', 'Gbarpolu', 'Grand Bassa',
    'Grand Cape Mount', 'Grand Gedeh', 'Grand Kru', 'Lofa', 'Margibi',
    'Maryland', 'Montserrado', 'Nimba', 'River Cess', 'River Gee', 'Sinoe')
)

## gis
geo_liberia <-
  read.csv('Data/GIS/Liberia/LBR_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Liberia' %in% ab01$cname_eng
'Liberia' %in% ab02$cname_eng
'Liberia' %in% ab03$cname_eng
'Liberia' %in% ab04$cname_eng
'Liberia' %in% ab05$cname_eng
'Liberia' %in% ab06$cname_eng

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Liberia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_liberia %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Liberia',
      recode(areaname_eng_ab, 'Bomi' = 'Bomi', 'Bong' = 'Bong',
        'Gbarpolu' = 'Gbarpolu', 'Grand Bassa' = 'Grand Bassa',
        'Grand Cape Mount' = 'Grand Cape Mount', 'Grand Gedeh' = 'Grand Gedeh',
        'Grand Kru' = 'Grand Kru', 'Lofa' = 'Lofa', 'Margibi' = 'Margibi',
        'Maryland' = 'Maryland', 'Montserrado' = 'Montserrado',
        'Nimba' = 'Nimba', 'River Gee' = 'River Cess',
        'Rivercess' = 'River Gee', 'Sinoe' = 'Sinoe'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Liberia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_liberia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_liberia$NAME_0)
geo_liberia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Liberia', 'Liberia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Liberia',
      recode(areaname_eng_ab, 'Bomi' = 1, 'Bong' = 2, 'Gbarpolu' = 3,
        'Grand Cape Mount' = 4, 'Grand Bassa' = 5, 'Grand Gedeh' = 6,
        'Grand Kru' = 7, 'Lofa' = 8, 'Margibi' = 9, 'Maryland' = 10,
        'Montserrado' = 11, 'Nimba' = 12, 'River Gee' = 13, 'Rivercess' = 14,
        'Sinoe' = 15, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Liberia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_liberia %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Liberia',
      recode(areaname_eng_ab, 'Bomi' = 'Bomi', 'Bong' = 'Bong',
        'Gbarpolu' = 'Gbarpolu', 'Grand Bassa' = 'Grand Bassa',
        'Grand Cape Mount' = 'Grand Cape Mount', 'Grand Gedeh' = 'Grand Gedeh',
        'Grand Kru' = 'Grand Kru', 'Lofa' = 'Lofa', 'Margibi' = 'Margibi',
        'Maryland' = 'Maryland', 'Montserrado' = 'Montserrado',
        'Nimba' = 'Nimba', 'River Cess' = 'River Cess',
        'River Gee' = 'River Gee', 'Sinoe' = 'Sinoe'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Liberia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_liberia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_liberia$NAME_0)
geo_liberia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Liberia', 'Liberia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Liberia',
      recode(areaname_eng_ab, 'Bomi' = 1, 'Bong' = 2, 'Gbarpolu' = 3,
        'Grand Cape Mount' = 4, 'Grand Bassa' = 5, 'Grand Gedeh' = 6,
        'Grand Kru' = 7, 'Lofa' = 8, 'Margibi' = 9, 'Maryland' = 10,
        'Montserrado' = 11, 'Nimba' = 12, 'River Cess' = 13, 'River Gee' = 14,
        'Sinoe' = 15, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Liberia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_liberia %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Liberia',
      recode(areaname_eng_ab, 'Bomi' = 'Bomi', 'Bong' = 'Bong',
        'Gbarpolu' = 'Gbarpolu', 'Grand Bassa' = 'Grand Bassa',
        'Grand Cape Mount' = 'Grand Cape Mount', 'Grand Gedeh' = 'Grand Gedeh',
        'GrandKru' = 'Grand Kru', 'Lofa' = 'Lofa', 'Margibi' = 'Margibi',
        'Maryland' = 'Maryland', 'Montserrado' = 'Montserrado',
        'Nimba' = 'Nimba', 'River Gee' = 'River Cess',
        'Rivercess' = 'River Gee', 'Sinoe' = 'Sinoe'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Liberia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_liberia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_liberia$NAME_0)
geo_liberia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Liberia', 'Liberia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Liberia',
      recode(areaname_eng_ab, 'Bomi' = 1, 'Bong' = 2, 'Gbarpolu' = 3,
        'Grand Cape Mount' = 4, 'Grand Bassa' = 5, 'Grand Gedeh' = 6,
        'GrandKru' = 7, 'Lofa' = 8, 'Margibi' = 9, 'Maryland' = 10, 
        'Montserrado' = 11, 'Nimba' = 12, 'Rivercess' = 13, 'River Gee' = 14,
        'Sinoe' = 15, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Madagascar
## iso
iso_madagascar <- bind_cols(
  cname_eng = rep('Madagascar', 6),
  ISO1num = rep(450, 6),
  ISO2str = c('MG-T', 'MG-D', 'MG-F', 'MG-M', 'MG-A', 'MG-U'),
  ISO2numstr = rep('', 6),
  ISO2num = rep(NA, 6),
  areaname_conv_iso = c('Antananarivo', 'Antsiranana', 'Fianarantsoa',
    'Mahajanga', 'Toamasina', 'Toliara'),
  areaname_eng_iso = c('Antananarivo', 'Antsiranana', 'Fianarantsoa',
    'Mahajanga', 'Toamasina', 'Toliara')
)

## gis
geo_madagascar <-
  read.csv('Data/GIS/Madagascar/MDG_adm2.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Madagascar' %in% ab01$cname_eng
'Madagascar' %in% ab02$cname_eng
'Madagascar' %in% ab03$cname_eng
'Madagascar' %in% ab04$cname_eng
'Madagascar' %in% ab05$cname_eng
'Madagascar' %in% ab06$cname_eng

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_madagascar %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Antananarivo' = 'Antananarivo',
        'Antsiranana' = 'Antsiranana', 'Fianarantsoa' = 'Fianarantsoa',
        'Mahajanga' = 'Mahajanga', 'Toamasina' = 'Toamasina',
        'Toliary' = 'Toliara'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_madagascar %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_madagascar$NAME_0)
geo_madagascar %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Madagascar', 'Madagascar', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Antananarivo' = 1, 'Antsiranana' = 2,
        'Fianarantsoa' = 3, 'Mahajanga' = 4, 'Toamasina' = 5, 'Toliary' = 6,
        .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_madagascar %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Antananarivo' = 'Antananarivo',
        'Antsiranana' = 'Antsiranana', 'Fianarantsoa' = 'Fianarantsoa',
        'Mahajanga' = 'Mahajanga', 'Toamasina' = 'Toamasina',
        'Toliary' = 'Toliara'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_madagascar %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_madagascar$NAME_0)
geo_madagascar %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Madagascar', 'Madagascar', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Antananarivo' = 1, 'Antsiranana' = 2,
        'Fianarantsoa' = 3, 'Mahajanga' = 4, 'Toamasina' = 5, 'Toliary' = 6,
        .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_madagascar %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Alaotra Mangoro' = 'Toamasina',
        'Amoron\'i Mania' = 'Fianarantsoa', 'Analamanga' = 'Antananarivo',
        'Analanjirofo' = 'Toamasina', 'Androy' = 'Toliara', 'Anosy' = 'Toliara',
        'Atsimo Andrefana' = 'Toliara', 'Atsimo Atsinanana' = 'Fianarantsoa',
        'Atsinanana' = 'Toamasina', 'Betsiboka' = 'Mahajanga',
        'Boeny' = 'Mahajanga', 'Bongolava' = 'Antananarivo',
        'Diana' = 'Antsiranana', 'Haute Matsiatra' = 'Fianarantsoa',
        'Ihorombe' = 'Fianarantsoa', 'Itasy' = 'Antananarivo',
        'Melaky' = 'Mahajanga', 'Menabe' = 'Toliara', 'SAVA' = 'Antsiranana',
        'Sofia' = 'Mahajanga', 'Vakinankaratra' = 'Antananarivo',
        'Vatovavy Fitovinany' = 'Fianarantsoa'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_madagascar %>%
    {sort(unique(.$NAME_2))}
)

unique(geo_madagascar$NAME_0)
geo_madagascar %>% group_by(NAME_1, NAME_2, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Madagascar', 'Madagascar', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Analamanga' = 1, 'Bongolava' = 1, 'Itasy' = 1,
        'Vakinankaratra' = 1, 'Diana' = 2, 'SAVA' = 2, 'Amoron\'i Mania' = 3,
        'Atsimo Atsinanana' = 3, 'Haute Matsiatra' = 3, 'Ihorombe' = 3,
        'Vatovavy Fitovinany' = 3, 'Betsiboka' = 4, 'Boeny' = 4, 'Melaky' = 4,
        'Sofia' = 4, 'Alaotra Mangoro' = 5, 'Analanjirofo' = 5,
        'Atsinanana' = 5, 'Androy' = 6, 'Anosy' = 6, 'Atsimo Andrefana' = 6,
        'Menabe' = 6, .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Analamanga' = 1, 'Bongolava' = 2, 'Itasy' = 3,
        'Vakinankaratra' = 4, 'Diana' = 5, 'SAVA' = 6, 'Amoron\'i Mania' = 7,
        'Atsimo Atsinanana' = 8, 'Haute Matsiatra' = 9, 'Ihorombe' = 10,
        'Vatovavy Fitovinany' = 11, 'Betsiboka' = 12, 'Boeny' = 13,
        'Melaky' = 14, 'Sofia' = 15, 'Alaotra Mangoro' = 16,
        'Analanjirofo' = 17, 'Atsinanana' = 18, 'Androy' = 19, 'Anosy' = 20,
        'Atsimo Andrefana' = 21, 'Menabe' = 22, .default = NA_real_),
      as.double(ID_2))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_madagascar %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Alaotra Mangoro' = 'Toamasina',
        'Amoron\'i Mania' = 'Fianarantsoa', 'Analamanga' = 'Antananarivo',
        'Analanjirofo' = 'Toamasina', 'Androy' = 'Toliara', 'Anosy' = 'Toliara',
        'Atsimo Andrefana' = 'Toliara', 'Atsimo Atsinanana' = 'Fianarantsoa',
        'Atsinanana' = 'Toamasina', 'Betsiboka' = 'Mahajanga',
        'Boeny' = 'Mahajanga', 'Bongolava' = 'Antananarivo',
        'Diana' = 'Antsiranana', 'Haute Matsiatra' = 'Fianarantsoa',
        'Ihorombe' = 'Fianarantsoa', 'Itasy' = 'Antananarivo',
        'Melaky' = 'Mahajanga', 'Menabe' = 'Toliara', 'SAVA' = 'Antsiranana',
        'Sofia' = 'Mahajanga', 'Vakinankaratra' = 'Antananarivo',
        'Vatovavy Fitovinany' = 'Fianarantsoa'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Madagascar') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_madagascar %>%
    {sort(unique(.$NAME_2))}
)

unique(geo_madagascar$NAME_0)
geo_madagascar %>% group_by(NAME_1, NAME_2, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Madagascar', 'Madagascar', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Analamanga' = 1, 'Bongolava' = 1, 'Itasy' = 1,
        'Vakinankaratra' = 1, 'Diana' = 2, 'SAVA' = 2, 'Amoron\'i Mania' = 3,
        'Atsimo Atsinanana' = 3, 'Haute Matsiatra' = 3, 'Ihorombe' = 3,
        'Vatovavy Fitovinany' = 3, 'Betsiboka' = 4, 'Boeny' = 4, 'Melaky' = 4,
        'Sofia' = 4, 'Alaotra Mangoro' = 5, 'Analanjirofo' = 5,
        'Atsinanana' = 5, 'Androy' = 6, 'Anosy' = 6, 'Atsimo Andrefana' = 6,
        'Menabe' = 6, .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Madagascar',
      recode(areaname_eng_ab, 'Analamanga' = 1, 'Bongolava' = 2, 'Itasy' = 3,
        'Vakinankaratra' = 4, 'Diana' = 5, 'SAVA' = 6, 'Amoron\'i Mania' = 7,
        'Atsimo Atsinanana' = 8, 'Haute Matsiatra' = 9, 'Ihorombe' = 10,
        'Vatovavy Fitovinany' = 11, 'Betsiboka' = 12, 'Boeny' = 13,
        'Melaky' = 14, 'Sofia' = 15, 'Alaotra Mangoro' = 16,
        'Analanjirofo' = 17, 'Atsinanana' = 18, 'Androy' = 19, 'Anosy' = 20,
        'Atsimo Andrefana' = 21, 'Menabe' = 22, .default = NA_real_),
      as.double(ID_2))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)


#### Malawi
## iso
iso_malawi <- bind_cols(
  cname_eng = rep('Malawi', 3),
  ISO1num = rep(454, 3),
  ISO2str = c('MW-C', 'MW-N', 'MW-S'),
  ISO2numstr = rep('', 3),
  ISO2num = rep(NA, 3),
  areaname_conv_iso = c('Central Region', 'Northern Region', 'Southern Region'),
  areaname_eng_iso = c('Central Region', 'Northern Region', 'Southern Region')
)

iso_malawi2 <- bind_cols(
  cname_eng = rep('Malawi', 28),
  ISO1num = rep(454, 28),
  ISO2str2 = c('MW-BA', 'MW-BL', 'MW-CK', 'MW-CR', 'MW-CT', 'MW-DE', 'MW-DO',
    'MW-KR', 'MW-KS', 'MW-LK', 'MW-LI', 'MW-MH', 'MW-MG', 'MW-MC', 'MW-MU',
    'MW-MW', 'MW-MZ', 'MW-NE', 'MW-NB', 'MW-NK', 'MW-NS', 'MW-NU', 'MW-NI',
    'MW-PH', 'MW-RU', 'MW-SA', 'MW-TH', 'MW-ZO'),
  ISO2numstr = rep('', 28),
  ISO2num = rep(NA, 28),
  areaname_conv_iso2 = c('Balaka', 'Blantyre', 'Chikwawa', 'Chiradzulu',
    'Chitipa', 'Dedza', 'Dowa', 'Karonga', 'Kasungu', 'Likoma', 'Lilongwe',
    'Machinga', 'Mangochi', 'Mchinji', 'Mulanje', 'Mwanza', 'Mzimba', 'Neno',
    'Nkhata Bay', 'Nkhotakota', 'Nsanje', 'Ntcheu', 'Ntchisi', 'Phalombe',
    'Rumphi', 'Salima', 'Thyolo', 'Zomba'),
  areaname_eng_iso2 = c('Balaka', 'Blantyre', 'Chikwawa', 'Chiradzulu',
    'Chitipa', 'Dedza', 'Dowa', 'Karonga', 'Kasungu', 'Likoma', 'Lilongwe',
    'Machinga', 'Mangochi', 'Mchinji', 'Mulanje', 'Mwanza', 'Mzimba', 'Neno',
    'Nkhata Bay', 'Nkhotakota', 'Nsanje', 'Ntcheu', 'Ntchisi', 'Phalombe',
    'Rumphi', 'Salima', 'Thyolo', 'Zomba')
)

## gis
geo_malawi <-
  read.csv('Data/GIS/Malawi/MWI_adm2.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Malawi' %in% ab01$cname_eng
'Malawi' %in% ab02$cname_eng
'Malawi' %in% ab03$cname_eng
'Malawi' %in% ab04$cname_eng
'Malawi' %in% ab05$cname_eng
'Malawi' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_malawi %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_malawi2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Kasunga' = 'Central Region',
        'Lilongwe' = 'Central Region', 'Ntcheu' = 'Central Region',
        'Ntchisi' = 'Central Region', 'Salima' = 'Central Region',
        'Chitipa' = 'Northern Region', 'Mzimba' = 'Northern Region',
        'Nkhata Bay' = 'Northern Region', 'Blantyre' = 'Southern Region',
        'Chikwawa' = 'Southern Region', 'Chiradzulu' = 'Southern Region',
        'Mulanje' = 'Southern Region', 'Mwanza' = 'Southern Region',
        'Nsanje' = 'Southern Region', 'Zomba' = 'Southern Region'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Kasunga' = 'Kasungu', 'Lilongwe' = 'Lilongwe',
        'Ntcheu' = 'Ntcheu', 'Ntchisi' = 'Ntchisi', 'Salima' = 'Salima',
        'Chitipa' = 'Chitipa', 'Mzimba' = 'Mzimba', 'Nkhata Bay' = 'Nkhata Bay',
        'Blantyre' = 'Blantyre', 'Chikwawa' = 'Chikwawa',
        'Chiradzulu' = 'Chiradzulu', 'Mulanje' = 'Mulanje', 'Mwanza' = 'Mwanza',
        'Nsanje' = 'Nsanje', 'Zomba' = 'Zomba'),
      areaname_eng_iso2)
)

ab01 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso, areaname_eng_iso2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_malawi %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_malawi$NAME_0)
geo_malawi %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Malawi', 'Malawi', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Blantyre' = 2, 'Chikwawa' = 3, 'Chiradzulu' = 4,
        'Chitipa' = 5, 'Kasunga' = 9, 'Lilongwe' = 11, 'Mulanje' = 15,
        'Mwanza' = 16, 'Mzimba' = 17, 'Nkhata Bay' = 19, 'Nsanje' = 21,
        'Ntcheu' = 22, 'Ntchisi' = 23, 'Salima' = 26, 'Zomba' = 28,
        .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_malawi %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Central' = 'Central Region',
        'Northern' = 'Northern Region', 'Southern' = 'Southern Region'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_malawi %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_malawi$NAME_0)
geo_malawi %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

# unable to geocode Malawi at subnational level - Afrobarometer Round 2 area
# names do not match global administrative data

ab02 <- ab02 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Malawi', 'Malawi', NAME_0)
)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_malawi %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Central' = 'Central Region',
        'North' = 'Northern Region', 'South' = 'Southern Region'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_malawi %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_malawi$NAME_0)
geo_malawi %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

# unable to geocode Malawi at subnational level - Afrobarometer Round 3 area
# names do not match global administrative data

ab03 <- ab03 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Malawi', 'Malawi', NAME_0)
)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_malawi %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Central' = 'Central Region',
        'North' = 'Northern Region', 'South' = 'Southern Region'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_malawi %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_malawi$NAME_0)
geo_malawi %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

# unable to geocode Malawi at subnational level - Afrobarometer Round 4 area
# names do not match global administrative data

ab04 <- ab04 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Malawi', 'Malawi', NAME_0)
)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_malawi %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Central' = 'Central Region',
        'North' = 'Northern Region', 'South' = 'Southern Region'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_malawi %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_malawi$NAME_0)
geo_malawi %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

# unable to geocode Malawi at subnational level - Afrobarometer Round 5 area
# names do not match global administrative data

ab05 <- ab05 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Malawi', 'Malawi', NAME_0)
)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_malawi %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Malawi',
      recode(areaname_eng_ab, 'Central' = 'Central Region',
        'North' = 'Northern Region', 'South' = 'Southern Region'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Malawi') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_malawi %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_malawi$NAME_0)
geo_malawi %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

# unable to geocode Malawi at subnational level - Afrobarometer Round 6 area
# names do not match global administrative data

ab06 <- ab06 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Malawi', 'Malawi', NAME_0)
)


#### Mali
## iso
# é -> e
iso_mali <- bind_cols(
  cname_eng = rep('Mali', 11),
  ISO1num = rep(466, 11),
  ISO2str = c('ML-BKO', 'ML-7', 'ML-1', 'ML-8', 'ML-2', 'ML-9', 'ML-5', 'ML-4',
    'ML-3', 'ML-10', 'ML-6'),
  ISO2numstr = rep('', 11),
  ISO2num = rep(NA, 11),
  areaname_conv_iso = c('Bamako', 'Gao', 'Kayes', 'Kidal', 'Koulikoro',
    'Ménaka', 'Mopti', 'Ségou', 'Sikasso', 'Taoudénit', 'Tombouctou'),
  areaname_eng_iso = c('Bamako', 'Gao', 'Kayes', 'Kidal', 'Koulikoro', 'Menaka',
    'Mopti', 'Segou', 'Sikasso', 'Taoudenit', 'Tombouctou')
)

## gis
geo_mali <-
  read.csv('Data/GIS/Mali/MLI_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Mali' %in% ab01$cname_eng
'Mali' %in% ab02$cname_eng
'Mali' %in% ab03$cname_eng
'Mali' %in% ab04$cname_eng
'Mali' %in% ab05$cname_eng
'Mali' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mali %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 'Bamako', 'Gao' = 'Gao',
        'Kayes' = 'Kayes', 'Kidal' = 'Kidal', 'Kkro' = 'Koulikoro',
        'Mopti' = 'Mopti', 'Segou' = 'Segou', 'Sikasso' = 'Sikasso',
        'Tbtou' = 'Tombouctou'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mali %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mali$NAME_0)
geo_mali %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mali', 'Mali', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 1, 'Gao' = 2, 'Kayes' = 3, 'Kidal' = 4,
        'Kkro' = 5, 'Mopti' = 6, 'Segou' = 7, 'Sikasso' = 8, 'Tbtou' = 9,
        .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mali %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 'Bamako', 'Gao' = 'Gao',
        'Kayes' = 'Kayes', 'Kidal' = 'Kidal', 'Koulikoro' = 'Koulikoro',
        'Mopti' = 'Mopti', 'Segou' = 'Segou', 'Sikasso' = 'Sikasso',
        'Tombouctou' = 'Tombouctou'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mali %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mali$NAME_0)
geo_mali %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mali', 'Mali', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 1, 'Gao' = 2, 'Kayes' = 3, 'Kidal' = 4,
        'Koulikoro' = 5, 'Mopti' = 6, 'Segou' = 7, 'Sikasso' = 8,
        'Tombouctou' = 9, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mali %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 'Bamako', 'Gao' = 'Gao',
        'Kayes' = 'Kayes', 'Kidal' = 'Kidal', 'Koulikoro' = 'Koulikoro',
        'Mopti' = 'Mopti', 'Segou' = 'Segou', 'Sikasso' = 'Sikasso',
        'Tombouctou' = 'Tombouctou'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mali %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mali$NAME_0)
geo_mali %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mali', 'Mali', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 1, 'Gao' = 2, 'Kayes' = 3, 'Kidal' = 4,
        'Koulikoro' = 5, 'Mopti' = 6, 'Segou' = 7, 'Sikasso' = 8,
        'Tombouctou' = 9, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mali %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 'Bamako', 'Gao' = 'Gao',
        'Kayes' = 'Kayes', 'Kidal' = 'Kidal', 'Koulikoro' = 'Koulikoro',
        'Mopti' = 'Mopti', 'Segou' = 'Segou', 'Sikasso' = 'Sikasso',
        'Tombouctou' = 'Tombouctou'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mali %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mali$NAME_0)
geo_mali %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mali', 'Mali', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 1, 'Gao' = 2, 'Kayes' = 3, 'Kidal' = 4,
        'Koulikoro' = 5, 'Mopti' = 6, 'Segou' = 7, 'Sikasso' = 8,
        'Tombouctou' = 9, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mali %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 'Bamako', 'Kayes' = 'Kayes',
        'Koulikoro' = 'Koulikoro', 'Mopti' = 'Mopti', 'Segou' = 'Segou',
        'Sikasso' = 'Sikasso'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mali %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mali$NAME_0)
geo_mali %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mali', 'Mali', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 1, 'Kayes' = 3, 'Koulikoro' = 5,
        'Mopti' = 6, 'Segou' = 7, 'Sikasso' = 8, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mali %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 'Bamako', 'Gao' = 'Gao',
        'Kayes' = 'Kayes', 'Kidal' = 'Kidal', 'Koulikoro' = 'Koulikoro',
        'Mopti' = 'Mopti', 'Segou' = 'Segou', 'Sikasso' = 'Sikasso',
        'Tombouctou' = 'Tombouctou'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Mali') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mali %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mali$NAME_0)
geo_mali %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mali', 'Mali', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mali',
      recode(areaname_eng_ab, 'Bamako' = 1, 'Gao' = 2, 'Kayes' = 3, 'Kidal' = 4,
        'Koulikoro' = 5, 'Mopti' = 6, 'Segou' = 7, 'Sikasso' = 8,
        'Tombouctou' = 9, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Mauritius
## iso
# è -> e
iso_mauritius <- bind_cols(
  cname_eng = rep('Mauritius', 17),
  ISO1num = rep(466, 17),
  ISO2str = c('MU-BR', 'MU-CU', 'MU-PU', 'MU-QB', 'MU-VP', 'MU-AG', 'MU-CC',
    'MU-RO', 'MU-BL', 'MU-FL', 'MU-GP', 'MU-MO', 'MU-PA', 'MU-PW', 'MU-PL',
    'MU-RR', 'MU-SA'),
  ISO2numstr = rep('', 17),
  ISO2num = rep(NA, 17),
  areaname_conv_iso = c('Beau Bassin-Rose Hill', 'Curepipe', 'Port Louis',
    'Quatre Bornes', 'Vacoas-Phoenix', 'Agalega Islands', 'Cargados Carajos',
    'Rodrigues Island', 'Black River', 'Flacq', 'Grand Port', 'Moka',
    'Pamplemousses', 'Plaines Wilhems', 'Port Louis', 'Rivière du Rempart',
    'Savanne'),
  areaname_eng_iso = c('Beau Bassin-Rose Hill', 'Curepipe', 'Port Louis',
    'Quatre Bornes', 'Vacoas-Phoenix', 'Agalega Islands', 'Cargados Carajos',
    'Rodrigues Island', 'Black River', 'Flacq', 'Grand Port', 'Moka',
    'Pamplemousses', 'Plaines Wilhems', 'Port Louis', 'Riviere du Rempart',
    'Savanne')
)

## gis
geo_mauritius <-
  read.csv('Data/GIS/Mauritius/MUS_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Mauritius') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mauritius %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mauritius',
      recode(areaname_eng_ab, 'Black River' = 'Black River', 'Flacq' = 'Flacq',
        'Grand Port' = 'Grand Port', 'Moka' = 'Moka',
        'Pamplemousses' = 'Pamplemousses',
        'Plaines Wilhems' = 'Plaines Wilhems', 'Port Louis' = 'Port Louis',
        'Riviere du Rempart' = 'Riviere du Rempart',
        'Rodrigues' = 'Rodrigues Island', 'Savanne' = 'Savanne'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Mauritius') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mauritius %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mauritius$NAME_0)
geo_mauritius %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mauritius', 'Mauritius', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mauritius',
      recode(areaname_eng_ab, 'Black River' = 1, 'Flacq' = 3, 'Grand Port' = 4,
        'Moka' = 5, 'Pamplemousses' = 7, 'Plaines Wilhems' = 8,
        'Port Louis' = 9, 'Riviere du Rempart' = 10, 'Rodrigues' = 11,
        'Savanne' = 12, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Mauritius') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mauritius %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mauritius',
      recode(areaname_eng_ab, 'Black River' = 'Black River', 'Flacq' = 'Flacq',
        'Grand Port' = 'Grand Port', 'Moka' = 'Moka',
        'Pamplemousses' = 'Pamplemousses', 'Port Louis' = 'Port Louis',
        'Riviere du Rempart' = 'Riviere du Rempart',
        'Rodrigues' = 'Rodrigues Island', 'Savanne' = 'Savanne'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Mauritius') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mauritius %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mauritius$NAME_0)
geo_mauritius %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mauritius', 'Mauritius', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mauritius',
      recode(areaname_eng_ab, 'Black River' = 1, 'Flacq' = 3, 'Grand Port' = 4,
        'Moka' = 5, 'Pamplemousses' = 7, 'Port Louis' = 9,
        'Riviere du Rempart' = 10, 'Rodrigues' = 11, 'Savanne' = 12,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Morocco
## iso
# é -> e; â -> a; è -> e; ï -> i
iso_morocco <- bind_cols(
  cname_eng = rep('Morocco', 12),
  ISO1num = rep(504, 12),
  ISO2str = c('MA-05', 'MA-06', 'MA-12', 'MA-08', 'MA-03', 'MA-10', 'MA-11',
    'MA-07', 'MA-02', 'MA-04', 'MA-09', 'MA-01'),
  ISO2numstr = rep('', 12),
  ISO2num = rep(NA, 12),
  areaname_conv_iso = c('Béni Mellal-Khénifra', 'Casablanca-Settat',
    'Dakhla-Oued Ed-Dahab', 'Drâa-Tafilalet', 'Fès-Meknès', 'Guelmim-Oued Noun',
    'Laâyoune-Sakia El Hamra', 'Marrakech-Safi', 'L\'Oriental',
    'Rabat-Salé-Kénitra', 'Souss-Massa', 'Tanger-Tétouan-Al Hoceïma'),
  areaname_eng_iso = c('Beni Mellal-Khenifra', 'Casablanca-Settat',
    'Dakhla-Oued Ed-Dahab', 'Draa-Tafilalet', 'Fes-Meknes', 'Guelmim-Oued Noun',
    'Laayoune-Sakia El Hamra', 'Marrakech-Safi', 'L\'Oriental',
    'Rabat-Sale-Kenitra', 'Souss-Massa', 'Tanger-Tetouan-Al Hoceima')
)

iso_morocco2 <- bind_cols(
  cname_eng = rep('Morocco', 75),
  ISO1num = rep(504, 75),
  ISO2str2 = c('MA-AGD', 'MA-AOU', 'MA-ASZ', 'MA-AZI', 'MA-BEM', 'MA-BES',
    'MA-BER', 'MA-BRR', 'MA-BOD', 'MA-BOM', 'MA-CAS', 'MA-CHE', 'MA-CHI',
    'MA-CHT', 'MA-DRI', 'MA-ERR', 'MA-ESM', 'MA-ESI', 'MA-FAH', 'MA-FES',
    'MA-FIG', 'MA-FQH', 'MA-GUE', 'MA-GUF', 'MA-HAJ', 'MA-HAO', 'MA-HOC',
    'MA-IFR', 'MA-INE', 'MA-JDI', 'MA-JRA', 'MA-KES', 'MA-KEN', 'MA-KHE',
    'MA-KHN', 'MA-KHO', 'MA-LAA', 'MA-LAR', 'MA-MAR', 'MA-MDF', 'MA-MED',
    'MA-MEK', 'MA-MID', 'MA-MOH', 'MA-MOU', 'MA-NAD', 'MA-NOU', 'MA-OUA',
    'MA-OUD', 'MA-OUZ', 'MA-OUJ', 'MA-RAB', 'MA-REH', 'MA-SAF', 'MA-SAL',
    'MA-SEF', 'MA-SET', 'MA-SIB', 'MA-SIF', 'MA-SIK', 'MA-SIL', 'MA-SKH',
    'MA-TNT', 'MA-TNG', 'MA-TAO', 'MA-TAI', 'MA-TAF', 'MA-TAR', 'MA-TAT',
    'MA-TAZ', 'MA-TET', 'MA-TIN', 'MA-TIZ', 'MA-YUS', 'MA-ZAG'),
  ISO2numstr = rep('', 75),
  ISO2num = rep(NA, 75),
  areaname_conv_iso2 = c('Agadir-Ida-Ou-Tanane', 'Aousserd', 'Assa-Zag',
    'Azilal', 'Béni Mellal', 'Benslimane', 'Berkane', 'Berrechid', 'Boujdour',
    'Boulemane', 'Casablanca [Dar el Beïda]', 'Chefchaouen', 'Chichaoua',
    'Chtouka-Ait Baha', 'Driouch', 'Errachidia', 'Es-Semara', 'Essaouira',
    'Fahs-Anjra', 'Fès', 'Figuig', 'Fquih Ben Salah', 'Guelmim', 'Guercif',
    'El Hajeb', 'Al Haouz', 'Al Hoceïma', 'Ifrane', 'Inezgane-Ait Melloul',
    'El Jadida', 'Jerada', 'El Kelâa des Sraghna', 'Kénitra', 'Khemisset',
    'Khenifra', 'Khouribga', 'Laâyoune', 'Larache', 'Marrakech',
    'M\'diq-Fnideq', 'Médiouna', 'Meknès', 'Midelt', 'Mohammadia',
    'Moulay Yacoub', 'Nador', 'Nouaceur', 'Ouarzazate', 'Oued Ed-Dahab',
    'Ouezzane', 'Oujda-Angad', 'Rabat', 'Rehamna', 'Safi', 'Salé', 'Sefrou',
    'Settat', 'Sidi Bennour', 'Sidi Ifni', 'Sidi Kacem', 'Sidi Slimane',
    'Skhirate-Témara', 'Tan-Tan', 'Tanger-Assilah', 'Taounate', 'Taourirt',
    'Tarfaya', 'Taroudant', 'Tata', 'Taza', 'Tétouan', 'Tinghir', 'Tiznit',
    'Youssoufia', 'Zagora'),
  areaname_eng_iso2 = c('Agadir-Ida-Ou-Tanane', 'Aousserd', 'Assa-Zag',
    'Azilal', 'Beni Mellal', 'Benslimane', 'Berkane', 'Berrechid', 'Boujdour',
    'Boulemane', 'Casablanca [Dar el Beida]', 'Chefchaouen', 'Chichaoua',
    'Chtouka-Ait Baha', 'Driouch', 'Errachidia', 'Es-Semara', 'Essaouira',
    'Fahs-Anjra', 'Fes', 'Figuig', 'Fquih Ben Salah', 'Guelmim', 'Guercif',
    'El Hajeb', 'Al Haouz', 'Al Hoceima', 'Ifrane', 'Inezgane-Ait Melloul',
    'El Jadida', 'Jerada', 'El Kelaa des Sraghna', 'Kenitra', 'Khemisset',
    'Khenifra', 'Khouribga', 'Laayoune', 'Larache', 'Marrakech',
    'M\'diq-Fnideq', 'Mediouna', 'Meknes', 'Midelt', 'Mohammadia',
    'Moulay Yacoub', 'Nador', 'Nouaceur', 'Ouarzazate', 'Oued Ed-Dahab',
    'Ouezzane', 'Oujda-Angad', 'Rabat', 'Rehamna', 'Safi', 'Sale', 'Sefrou',
    'Settat', 'Sidi Bennour', 'Sidi Ifni', 'Sidi Kacem', 'Sidi Slimane',
    'Skhirate-Temara', 'Tan-Tan', 'Tanger-Assilah', 'Taounate', 'Taourirt',
    'Tarfaya', 'Taroudant', 'Tata', 'Taza', 'Tetouan', 'Tinghir', 'Tiznit',
    'Youssoufia', 'Zagora')
)

## gis
geo_morocco <-
  read.csv('Data/GIS/Morocco/MAR_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Morocco' %in% ab01$cname_eng
'Morocco' %in% ab02$cname_eng
'Morocco' %in% ab03$cname_eng
'Morocco' %in% ab04$cname_eng
'Morocco' %in% ab05$cname_eng
'Morocco' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Morocco') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_morocco %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Morocco') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_morocco2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Morocco',
      recode(areaname_eng_ab, 'Tangier-Tetouan' = 'Tanger-Tetouan-Al Hoceima',
        'Oriental' = 'L\'Oriental', 'Fes-Boulemane' = 'Fes-Meknes',
        'Meknes-Tafilalet' = 'Fes-Meknes',
        'Taza-Al Hoceima-Taounate' = 'Fes-Meknes',
        'Rabat-Sale-Zemmour-Zaer' = 'Rabat-Sale-Kenitra',
        'Gharb-Charda-Beni Hssen' = 'Rabat-Sale-Kenitra',
        'Tadla-Azilal' = 'Beni Mellal-Khenifra',
        'Chaouia-Ouardigha' = 'Beni Mellal-Khenifra',
        'Grand Casablanca' = 'Casablanca-Settat',
        'Doukkala-Abda' = 'Casablanca-Settat',
        'Marrakech-Tensift-El Haouz' = 'Marrakech-Safi',
        'Souss-Massa-Draa' = 'Souss-Massa',
        'Laayoune-Boujdour-Sakia El Hamra' = 'Laayoune-Sakia El Hamra',
        'Guelmim-Es Semara' = 'Laayoune-Sakia El Hamra',
        'Oued Ed-Dahab-Lagouira' = 'Dakhla-Oued Ed-Dahab'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Morocco',
      recode(areaname_eng_ab, 'Tangier-Tetouan' = 'Al Hoceima',
        'Oriental' = 'Berkane', 'Fes-Boulemane' = 'Boulemane',
        'Meknes-Tafilalet' = 'El Hajeb', 'Taza-Al Hoceima-Taounate' = 'Fes',
        'Rabat-Sale-Zemmour-Zaer' = 'Kenitra',
        'Gharb-Charda-Beni Hssen' = 'Khemisset', 'Tadla-Azilal' = 'Azilal',
        'Chaouia-Ouardigha' = 'Beni Mellal', 'Grand Casablanca' = 'Benslimane',
        'Doukkala-Abda' = 'Berrechid',
        'Marrakech-Tensift-El Haouz' = 'Al Haouz',
        'Souss-Massa-Draa' = 'Agadir-Ida-Ou-Tanane',
        'Laayoune-Boujdour-Sakia El Hamra' = 'Boujdour',
        'Guelmim-Es Semara' = 'Es-Semara',
        'Oued Ed-Dahab-Lagouira' = 'Aousserd'),
      areaname_eng_iso2)
)

ab05 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso, areaname_eng_iso2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Morocco') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_morocco %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_morocco$NAME_0)
geo_morocco %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Morocco', 'Morocco', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Morocco',
      recode(areaname_eng_ab, 'Chaouia-Ouardigha' = 1, 'Doukkala-Abda' = 2,
        'Fes-Boulemane' = 3, 'Gharb-Charda-Beni Hssen' = 4,
        'Grand Casablanca' = 5, 'Guelmim-Es Semara' = 6,
        'Laayoune-Boujdour-Sakia El Hamra' = 7,
        'Marrakech-Tensift-El Haouz' = 8, 'Meknes-Tafilalet' = 9,
        'Oriental' = 10, 'Rabat-Sale-Zemmour-Zaer' = 11,
        'Souss-Massa-Draa' = 12, 'Tadla-Azilal' = 13, 'Tangier-Tetouan' = 14,
        'Taza-Al Hoceima-Taounate' = 15, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Morocco') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_morocco %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Morocco') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_morocco2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Morocco',
      recode(areaname_eng_ab, 'Tangier-Tetouan' = 'Tanger-Tetouan-Al Hoceima',
        'Oriental' = 'L\'Oriental', 'Fes-Boulemane' = 'Fes-Meknes',
        'Meknes-Tafilalet' = 'Fes-Meknes',
        'Taza-Al Hoceima-Taounate' = 'Fes-Meknes',
        'Rabat-Sale-Zemmour-Zaer' = 'Rabat-Sale-Kenitra',
        'Gharb-Charda-Beni Hssen' = 'Rabat-Sale-Kenitra',
        'Tadla-Azilal' = 'Beni Mellal-Khenifra',
        'Chaouia-Ouardigha' = 'Beni Mellal-Khenifra',
        'Grand Casablanca' = 'Casablanca-Settat',
        'Doukkala-Abda' = 'Casablanca-Settat',
        'Marrakech-Tensift-El Haouz' = 'Marrakech-Safi',
        'Souss-Massa-Draa' = 'Souss-Massa',
        'Laayoune-Boujdour-Sakia El Hamra' = 'Laayoune-Sakia El Hamra',
        'Guelmim-Es Semara' = 'Laayoune-Sakia El Hamra',
        'Oued Ed-Dahab-Lagouira' = 'Dakhla-Oued Ed-Dahab'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Morocco',
      recode(areaname_eng_ab, 'Tangier-Tetouan' = 'Al Hoceima',
        'Oriental' = 'Berkane', 'Fes-Boulemane' = 'Boulemane',
        'Meknes-Tafilalet' = 'El Hajeb', 'Taza-Al Hoceima-Taounate' = 'Fes',
        'Rabat-Sale-Zemmour-Zaer' = 'Kenitra',
        'Gharb-Charda-Beni Hssen' = 'Khemisset', 'Tadla-Azilal' = 'Azilal',
        'Chaouia-Ouardigha' = 'Beni Mellal', 'Grand Casablanca' = 'Benslimane',
        'Doukkala-Abda' = 'Berrechid',
        'Marrakech-Tensift-El Haouz' = 'Al Haouz',
        'Souss-Massa-Draa' = 'Agadir-Ida-Ou-Tanane',
        'Laayoune-Boujdour-Sakia El Hamra' = 'Boujdour',
        'Guelmim-Es Semara' = 'Es-Semara',
        'Oued Ed-Dahab-Lagouira' = 'Aousserd'),
      areaname_eng_iso2)
)

ab06 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso, areaname_eng_iso2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Morocco') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_morocco %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_morocco$NAME_0)
geo_morocco %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Morocco', 'Morocco', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Morocco',
      recode(areaname_eng_ab, 'Chaouia-Ouardigha' = 1, 'Doukkala-Abda' = 2,
        'Fes-Bouleman' = 3, 'Gharb-Chrarda-Beni-Hssen' = 4,
        'Grand Casablanca' = 5, 'Guelmim-Es-Semara' = 6,
        'Laayoune-Boujdour-Sakia El Hamra' = 7,
        'Marrakech-Tensift-Al-Haouz' = 8, 'Meknes-Tafilalet' = 9,
        'Oriental' = 10, 'Rabat-Sale-Zemmour-Zaer' = 11,
        'Souss-Massa-Draa' = 12, 'Tadla-Azilal' = 13, 'Tanger-Tetouan' = 14,
        'Taza-Al Hoceima-Taounate' = 15, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Mozambique
## iso
# é -> e
iso_mozambique <- bind_cols(
  cname_eng = rep('Mozambique', 11),
  ISO1num = rep(508, 11),
  ISO2str = c('MZ-MPM', 'MZ-P', 'MZ-G', 'MZ-I', 'MZ-B', 'MZ-L', 'MZ-N', 'MZ-A',
    'MZ-S', 'MZ-T', 'MZ-Q'),
  ISO2numstr = rep('', 11),
  ISO2num = rep(NA, 11),
  areaname_conv_iso = c('Maputo', 'Cabo Delgado', 'Gaza', 'Inhambane', 'Manica',
    'Maputo', 'Nampula', 'Niassa', 'Sofala', 'Tete', 'Zambézia'),
  areaname_eng_iso = c('Maputo', 'Cabo Delgado', 'Gaza', 'Inhambane', 'Manica',
    'Maputo', 'Nampula', 'Niassa', 'Sofala', 'Tete', 'Zambezia')
)

## gis
geo_mozambique <-
  read.csv('Data/GIS/Mozambique/MOZ_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Mozambique' %in% ab01$cname_eng
'Mozambique' %in% ab02$cname_eng
'Mozambique' %in% ab03$cname_eng
'Mozambique' %in% ab04$cname_eng
'Mozambique' %in% ab05$cname_eng
'Mozambique' %in% ab06$cname_eng

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mozambique %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'CaboDelgado' = 'Cabo Delgado', 'Gaza' = 'Gaza',
        'Inhambane' = 'Inhambane', 'Manica' = 'Manica',
        'Maputo(Cid.)' = 'Maputo', 'Maputo(Prov.)' = 'Maputo',
        'Nampula' = 'Nampula', 'Niassa' = 'Niassa', 'Sofala' = 'Sofala',
        'Tete' = 'Tete', 'Zambezia' = 'Zambezia'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mozambique %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mozambique$NAME_0)
geo_mozambique %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mozambique', 'Mozambique', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'CaboDelgado' = 1, 'Gaza' = 2, 'Inhambane' = 3,
        'Manica' = 4, 'Maputo(Prov.)' = 6, 'Maputo(Cid.)' = 5, 'Nampula' = 7,
        'Niassa' = 8, 'Sofala' = 9, 'Tete' = 10, 'Zambezia' = 11,
        .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mozambique %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 'Cabo Delgado', 'Gaza' = 'Gaza',
        'Inhambane' = 'Inhambane', 'Manica' = 'Manica',
        'Maputo City' = 'Maputo', 'Maputo province' = 'Maputo',
        'Nampula' = 'Nampula', 'Niassa' = 'Niassa', 'Sofala' = 'Sofala',
        'Tete' = 'Tete', 'Zambezia' = 'Zambezia'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mozambique %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mozambique$NAME_0)
geo_mozambique %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mozambique', 'Mozambique', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 1, 'Gaza' = 2, 'Inhambane' = 3,
        'Manica' = 4, 'Maputo province' = 6, 'Maputo City' = 5, 'Nampula' = 7,
        'Niassa' = 8, 'Sofala' = 9, 'Tete' = 10, 'Zambezia' = 11,
        .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mozambique %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 'Cabo Delgado', 'Gaza' = 'Gaza',
        'Inhambane' = 'Inhambane', 'Manica' = 'Manica',
        'Maputo' = 'Maputo', 'Maputo City' = 'Maputo', 'Nampula' = 'Nampula',
        'Niassa' = 'Niassa', 'Sofala' = 'Sofala', 'Tete' = 'Tete',
        'Zambezia' = 'Zambezia'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mozambique %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mozambique$NAME_0)
geo_mozambique %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mozambique', 'Mozambique', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 1, 'Gaza' = 2, 'Inhambane' = 3,
        'Manica' = 4, 'Maputo' = 6, 'Maputo City' = 5, 'Nampula' = 7,
        'Niassa' = 8, 'Sofala' = 9, 'Tete' = 10, 'Zambezia' = 11,
        .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mozambique %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 'Cabo Delgado', 'Gaza' = 'Gaza',
        'Inhambane' = 'Inhambane', 'Manica' = 'Manica',
        'Maputo' = 'Maputo City', 'Maputo Province' = 'Maputo',
        'Nampula' = 'Nampula', 'Niassa' = 'Niassa', 'Sofala' = 'Sofala',
        'Tete' = 'Tete', 'Zambezia' = 'Zambezia'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mozambique %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mozambique$NAME_0)
geo_mozambique %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mozambique', 'Mozambique', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 1, 'Gaza' = 2, 'Inhambane' = 3,
        'Manica' = 4, 'Maputo Province' = 6, 'Maputo City' = 5, 'Nampula' = 7,
        'Niassa' = 8, 'Sofala' = 9, 'Tete' = 10, 'Zambezia' = 11,
        .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_mozambique %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 'Cabo Delgado', 'Gaza' = 'Gaza',
        'Inhambane' = 'Inhambane', 'Manica' = 'Manica',
        'Maputo' = 'Maputo City', 'Maputo Province' = 'Maputo',
        'Nampula' = 'Nampula', 'Niassa' = 'Niassa', 'Sofala' = 'Sofala',
        'Tete' = 'Tete', 'Zambezia' = 'Zambezia'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Mozambique') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_mozambique %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_mozambique$NAME_0)
geo_mozambique %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Mozambique', 'Mozambique', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Mozambique',
      recode(areaname_eng_ab, 'Cabo Delgado' = 1, 'Gaza' = 2, 'Inhambane' = 3,
        'Manica' = 4, 'Maputo Province' = 6, 'Maputo City' = 5, 'Nampula' = 7,
        'Niassa' = 8, 'Sofala' = 9, 'Tete' = 10, 'Zambezia' = 11,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Namibia
## iso
iso_namibia <- bind_cols(
  cname_eng = rep('Namibia', 14),
  ISO1num = rep(516, 14),
  ISO2str = c('NA-ER', 'NA-HA', 'NA-KA', 'NA-KE', 'NA-KW', 'NA-KH', 'NA-KU',
    'NA-OW', 'NA-OH', 'NA-OS', 'NA-ON', 'NA-OT', 'NA-OD', 'NA-CA'),
  ISO2numstr = rep('', 14),
  ISO2num = rep(NA, 14),
  areaname_conv_iso = c('Erongo', 'Hardap', 'Karas', 'Kavango East',
    'Kavango West', 'Khomas', 'Kunene', 'Ohangwena', 'Omaheke', 'Omusati',
    'Oshana', 'Oshikoto', 'Otjozondjupa', 'Zambezi'),
  areaname_eng_iso = c('Erongo', 'Hardap', 'Karas', 'Kavango East',
    'Kavango West', 'Khomas', 'Kunene', 'Ohangwena', 'Omaheke', 'Omusati',
    'Oshana', 'Oshikoto', 'Otjozondjupa', 'Zambezi')
)

## gis
geo_namibia <-
  read.csv('Data/GIS/Namibia/NAM_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Namibia' %in% ab01$cname_eng
'Namibia' %in% ab02$cname_eng
'Namibia' %in% ab03$cname_eng
'Namibia' %in% ab04$cname_eng
'Namibia' %in% ab05$cname_eng
'Namibia' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_namibia %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Caprivi' = 'Zambezi', 'Erongo' = 'Erongo',
        'Hardap' = 'Hardap', 'Karas' = 'Karas', 'Okavango' = 'Kavango East',
        'Okavango' = 'Kavango West', 'Khomas' = 'Khomas', 'Kunene' = 'Kunene',
        'Ohangwena' = 'Ohangwena', 'Omaheke' = 'Omaheke', 'Omusati' = 'Omusati',
        'Oshana' = 'Oshana', 'Oshikoto' = 'Oshikoto',
        'Otjozondjupa' = 'Otjozondjupa'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_namibia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_namibia$NAME_0)
geo_namibia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Namibia', 'Namibia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Karas' = 1, 'Erongo' = 2, 'Hardap' = 3,
        'Okavango' = 4, 'Khomas' = 5, 'Kunene' = 6, 'Ohangwena' = 7,
        'Omaheke' = 8, 'Omusati' = 9, 'Oshana' = 10, 'Oshikoto' = 11,
        'Otjozondjupa' = 12, 'Caprivi' = 13, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_namibia %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Caprivi' = 'Zambezi', 'Erongo' = 'Erongo',
        'hardap' = 'Hardap', 'Karas' = 'Karas', 'kavango' = 'Kavango East',
        'kavango' = 'Kavango West', 'Knoma' = 'Khomas', 'Kunene' = 'Kunene',
        'Ohangwena' = 'Ohangwena', 'Omaheke' = 'Omaheke', 'Omusati' = 'Omusati',
        'Oshana' = 'Oshana', 'Oshikoto' = 'Oshikoto',
        'Otjozondjupa' = 'Otjozondjupa'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_namibia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_namibia$NAME_0)
geo_namibia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Namibia', 'Namibia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Karas' = 1, 'Erongo' = 2, 'hardap' = 3,
        'kavango' = 4, 'Knoma' = 5, 'Kunene' = 6, 'Ohangwena' = 7,
        'Omaheke' = 8, 'Omusati' = 9, 'Oshana' = 10, 'Oshikoto' = 11,
        'Otjozondjupa' = 12, 'Caprivi' = 13, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_namibia %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Caprivi' = 'Zambezi', 'Erongo' = 'Erongo',
        'Hardap' = 'Hardap', 'Karas' = 'Karas', 'Kavango' = 'Kavango East',
        'Kavango' = 'Kavango West', 'Khomas' = 'Khomas', 'Kunene' = 'Kunene',
        'Ohangwena' = 'Ohangwena', 'Omaheke' = 'Omaheke', 'Omusati' = 'Omusati',
        'Oshana' = 'Oshana', 'Oshikoto' = 'Oshikoto',
        'Otjozundjupa' = 'Otjozondjupa'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_namibia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_namibia$NAME_0)
geo_namibia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Namibia', 'Namibia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Karas' = 1, 'Erongo' = 2, 'Hardap' = 3,
        'Kavango' = 4, 'Khomas' = 5, 'Kunene' = 6, 'Ohangwena' = 7,
        'Omaheke' = 8, 'Omusati' = 9, 'Oshana' = 10, 'Oshikoto' = 11,
        'Otjozundjupa' = 12, 'Caprivi' = 13, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_namibia %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Caprivi' = 'Zambezi', 'Erongo' = 'Erongo',
        'Hardap' = 'Hardap', 'Karas' = 'Karas', 'Kavango' = 'Kavango East',
        'Kavango' = 'Kavango West', 'Khomas' = 'Khomas', 'Kunene' = 'Kunene',
        'Ohangwena' = 'Ohangwena', 'Omaheke' = 'Omaheke', 'Omusati' = 'Omusati',
        'Oshana' = 'Oshana', 'Oshikoto' = 'Oshikoto',
        'Otjozundjupa' = 'Otjozondjupa'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_namibia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_namibia$NAME_0)
geo_namibia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Namibia', 'Namibia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Karas' = 1, 'Erongo' = 2, 'Hardap' = 3,
        'Kavango' = 4, 'Khomas' = 5, 'Kunene' = 6, 'Ohangwena' = 7,
        'Omaheke' = 8, 'Omusati' = 9, 'Oshana' = 10, 'Oshikoto' = 11,
        'Otjozundjupa' = 12, 'Caprivi' = 13, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_namibia %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Caprivi' = 'Zambezi', 'Erongo' = 'Erongo',
        'Hardap' = 'Hardap', 'Karas' = 'Karas', 'Kavango' = 'Kavango East',
        'Kavango' = 'Kavango West', 'Khomas' = 'Khomas', 'Kunene' = 'Kunene',
        'Ohangwena' = 'Ohangwena', 'Omaheke' = 'Omaheke', 'Omusati' = 'Omusati',
        'Oshana' = 'Oshana', 'Oshikoto' = 'Oshikoto',
        'Otjozundjupa' = 'Otjozondjupa'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_namibia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_namibia$NAME_0)
geo_namibia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Namibia', 'Namibia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Karas' = 1, 'Erongo' = 2, 'Hardap' = 3,
        'Kavango' = 4, 'Khomas' = 5, 'Kunene' = 6, 'Ohangwena' = 7,
        'Omaheke' = 8, 'Omusati' = 9, 'Oshana' = 10, 'Oshikoto' = 11,
        'Otjozondjupa' = 12, 'Caprivi' = 13, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_namibia %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Erongo' = 'Erongo', 'Hardap' = 'Hardap',
        'Karas' = 'Karas', 'Kavango East' = 'Kavango East',
        'Kavango West' = 'Kavango West', 'Khomas' = 'Khomas',
        'Kunene' = 'Kunene', 'Ohangwena' = 'Ohangwena', 'Omaheke' = 'Omaheke',
        'Omusati' = 'Omusati', 'Oshana' = 'Oshana', 'Oshikoto' = 'Oshikoto',
        'Otjozondjupa' = 'Otjozondjupa', 'Zambezi' = 'Zambezi'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Namibia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_namibia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_namibia$NAME_0)
geo_namibia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Namibia', 'Namibia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Namibia',
      recode(areaname_eng_ab, 'Karas' = 1, 'Erongo' = 2, 'Hardap' = 3,
        'Kavango East' = 4, 'Kavango West' = 4, 'Khomas' = 5, 'Kunene' = 6,
        'Ohangwena' = 7, 'Omaheke' = 8, 'Omusati' = 9, 'Oshana' = 10,
        'Oshikoto' = 11, 'Otjozondjupa' = 12, 'Zambezi' = 13,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

#### Niger
## iso
# é -> e
iso_niger <- bind_cols(
  cname_eng = rep('Niger', 8),
  ISO1num = rep(562, 8),
  ISO2str = c('NE-8', 'NE-1', 'NE-2', 'NE-3', 'NE-4', 'NE-5', 'NE-6', 'NE-7'),
  ISO2numstr = rep('', 8),
  ISO2num = rep(NA, 8),
  areaname_conv_iso = c('Niamey', 'Agadez', 'Diffa', 'Dosso', 'Maradi',
    'Tahoua', 'Tillabéri', 'Zinder'),
  areaname_eng_iso = c('Niamey', 'Agadez', 'Diffa', 'Dosso', 'Maradi', 'Tahoua',
    'Tillaberi', 'Zinder')
)

## gis
geo_niger <-
  read.csv('Data/GIS/Niger/NER_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Niger' %in% ab01$cname_eng
'Niger' %in% ab02$cname_eng
'Niger' %in% ab03$cname_eng
'Niger' %in% ab04$cname_eng
'Niger' %in% ab05$cname_eng
'Niger' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Niger') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_niger %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Niger',
      recode(areaname_eng_ab, 'Agadez' = 'Agadez', 'Diffa' = 'Diffa',
        'Dosso' = 'Dosso', 'Maradi' = 'Maradi', 'Niamey' = 'Niamey',
        'Tahoua' = 'Tahoua', 'Tillaberi' = 'Tillaberi', 'Zinder' = 'Zinder'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Niger') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_niger %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_niger$NAME_0)
geo_niger %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Niger', 'Niger', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Niger',
      recode(areaname_eng_ab, 'Agadez' = 1, 'Diffa' = 2, 'Dosso' = 3,
        'Maradi' = 4, 'Niamey' = 5, 'Tahoua' = 6, 'Tillaberi' = 7,
        'Zinder' = 8, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Niger') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_niger %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Niger',
      recode(areaname_eng_ab, 'Agadez' = 'Agadez', 'Dosso' = 'Dosso',
        'Maradi' = 'Maradi', 'Niamey' = 'Niamey', 'Tahoua' = 'Tahoua',
        'Tillaberi' = 'Tillaberi', 'Zinder' = 'Zinder'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Niger') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_niger %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_niger$NAME_0)
geo_niger %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Niger', 'Niger', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Niger',
      recode(areaname_eng_ab, 'Agadez' = 1, 'Dosso' = 3, 'Maradi' = 4,
        'Niamey' = 5, 'Tahoua' = 6, 'Tillaberi' = 7, 'Zinder' = 8,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Nigeria
## iso
iso_nigeria <- bind_cols(
  cname_eng = rep('Nigeria', 37),
  ISO1num = rep(566, 37),
  ISO2str = c('NG-FC', 'NG-AB', 'NG-AD', 'NG-AK', 'NG-AN', 'NG-BA', 'NG-BY',
    'NG-BE', 'NG-BO', 'NG-CR', 'NG-DE', 'NG-EB', 'NG-ED', 'NG-EK', 'NG-EN',
    'NG-GO', 'NG-IM', 'NG-JI', 'NG-KD', 'NG-KN', 'NG-KT', 'NG-KE', 'NG-KO',
    'NG-KW', 'NG-LA', 'NG-NA', 'NG-NI', 'NG-OG', 'NG-ON', 'NG-OS', 'NG-OY',
    'NG-PL', 'NG-RI', 'NG-SO', 'NG-TA', 'NG-YO', 'NG-ZA'),
  ISO2numstr = rep('', 37),
  ISO2num = rep(NA, 37),
  areaname_conv_iso = c('Abuja Federal Capital Territory', 'Abia', 'Adamawa',
    'Akwa Ibom', 'Anambra', 'Bauchi', 'Bayelsa', 'Benue', 'Borno',
    'Cross River', 'Delta', 'Ebonyi', 'Edo', 'Ekiti', 'Enugu', 'Gombe', 'Imo',
    'Jigawa', 'Kaduna', 'Kano', 'Katsina', 'Kebbi', 'Kogi', 'Kwara', 'Lagos',
    'Nasarawa', 'Niger', 'Ogun', 'Ondo', 'Osun', 'Oyo', 'Plateau', 'Rivers',
    'Sokoto', 'Taraba', 'Yobe', 'Zamfara'),
  areaname_eng_iso = c('Abuja Federal Capital Territory', 'Abia', 'Adamawa',
    'Akwa Ibom', 'Anambra', 'Bauchi', 'Bayelsa', 'Benue', 'Borno',
    'Cross River', 'Delta', 'Ebonyi', 'Edo', 'Ekiti', 'Enugu', 'Gombe', 'Imo',
    'Jigawa', 'Kaduna', 'Kano', 'Katsina', 'Kebbi', 'Kogi', 'Kwara', 'Lagos',
    'Nasarawa', 'Niger', 'Ogun', 'Ondo', 'Osun', 'Oyo', 'Plateau', 'Rivers',
    'Sokoto', 'Taraba', 'Yobe', 'Zamfara')
)

## gis
geo_nigeria <-
  read.csv('Data/GIS/Nigeria/NGA_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Nigeria' %in% ab01$cname_eng
'Nigeria' %in% ab02$cname_eng
'Nigeria' %in% ab03$cname_eng
'Nigeria' %in% ab04$cname_eng
'Nigeria' %in% ab05$cname_eng
'Nigeria' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_nigeria %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 'Abia', 'Akwa-Ibom' = 'Akwa Ibom',
        'Bauchi' = 'Bauchi', 'Bayelsa' = 'Bayelsa', 'Benue' = 'Benue',
        'Borno' = 'Borno', 'Delta' = 'Delta', 'Edo' = 'Edo', 'Enugu' = 'Enugu',
        'F.C.T' = 'Abuja Federal Capital Territory', 'Kano' = 'Kano',
        'Katsina' = 'Katsina', 'Kwara' = 'Kwara', 'Lagos' = 'Lagos',
        'Niger' = 'Niger', 'Ogun' = 'Ogun', 'Ondo' = 'Ondo', 'Osun' = 'Osun',
        'Oyo' = 'Oyo', 'Plateau' = 'Plateau', 'Rivers' = 'Rivers',
        'Sokoto' = 'Sokoto'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_nigeria %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_nigeria$NAME_0)
geo_nigeria %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Nigeria', 'Nigeria', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 1, 'Akwa-Ibom' = 3, 'Bauchi' = 5,
        'Bayelsa' = 6, 'Benue' = 7, 'Borno' = 8, 'Delta' = 10, 'Edo' = 12,
        'Enugu' = 14, 'F.C.T.' = 15, 'Kano' = 20, 'Katsina' = 21, 'Kwara' = 24,
        'Lagos' = 25, 'Niger' = 27, 'Ogun' = 28, 'Ondo' = 29, 'Osun' = 30,
        'Oyo' = 31, 'Plateau' = 32, 'Rivers' = 33, 'Sokoto' = 34,
        .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_nigeria %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Lagos' = 'Lagos'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_nigeria %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_nigeria$NAME_0)
geo_nigeria %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Nigeria', 'Nigeria', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Lagos' = 25, .default = NA_real_),
      as.double(ID_1))
)
# most area names from round 2 of the Afrobarometer for Nigeria do not match a
# territory name in the global administrative data

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_nigeria %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 'Abia', 'Adamawa' = 'Adamawa',
        'Akwa-Ibom' = 'Akwa Ibom', 'Anambra' = 'Anambra', 'Bauchi' = 'Bauchi',
        'Bayelsa' = 'Bayelsa', 'Benue' = 'Benue', 'Bomo' = 'Borno',
        'Cross-River' = 'Cross River', 'Delta' = 'Delta', 'Edo' = 'Edo',
        'Ekiti' = 'Ekiti', 'Enugu' = 'Enugu',
        'FCT' = 'Abuja Federal Capital Territory', 'Imo' = 'Imo',
        'Kaduna' = 'Kaduna', 'Kano' = 'Kano', 'Katsina' = 'Katsina',
        'Kogi' = 'Kogi', 'Kwara' = 'Kwara', 'Lagos' = 'Lagos',
        'Niger' = 'Niger', 'Ogun' = 'Ogun', 'Ondo' = 'Ondo', 'Osun' = 'Osun',
        'Oyo' = 'Oyo', 'Plateau' = 'Plateau', 'Rivers' = 'Rivers',
        'Sokoto' = 'Sokoto', 'Taraba' = 'Taraba', 'Zamfara' = 'Zamfara'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_nigeria %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_nigeria$NAME_0)
geo_nigeria %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Nigeria', 'Nigeria', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 1, 'Adamawa' = 2, 'Akwa-Ibom' = 3,
        'Anambra' = 4, 'Bauchi' = 5, 'Bayelsa' = 6, 'Benue' = 7, 'Bomo' = 8,
        'Cross-River' = 9, 'Delta' = 10, 'Edo' = 12, 'Ekiti' = 13, 'Enugu' = 14,
        'FCT' = 15, 'Imo' = 17, 'Kaduna' = 19, 'Kano' = 20, 'Katsina' = 21,
        'Kogi' = 23, 'Kwara' = 24, 'Lagos' = 25, 'Niger' = 27, 'Ogun' = 28,
        'Ondo' = 29, 'Osun' = 30, 'Oyo' = 31, 'Plateau' = 32, 'Rivers' = 33,
        'Sokoto' = 34, 'Taraba' = 35, 'Zamfara' = 38, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_nigeria %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 'Abia', 'Adamawa' = 'Adamawa',
        'Akwa-lbom' = 'Akwa Ibom', 'Anambra' = 'Anambra', 'Bauchi' = 'Bauchi',
        'Bayelsa' = 'Bayelsa', 'Benue' = 'Benue', 'Borno' = 'Borno',
        'Cross-River' = 'Cross River', 'Delta' = 'Delta', 'Ebonyi' = 'Ebonyi',
        'Edo' = 'Edo', 'Ekiti' = 'Ekiti', 'Enugu' = 'Enugu',
        'FCT' = 'Abuja Federal Capital Territory', 'Gombe' = 'Gombe',
        'Imo' = 'Imo', 'Jigawa' = 'Jigawa', 'Kaduna' = 'Kaduna',
        'Kano' = 'Kano', 'Katsina' = 'Katsina', 'Kebbi' = 'Kebbi',
        'Kogi' = 'Kogi', 'Kwara' = 'Kwara', 'Lagos' = 'Lagos',
        'Nassarawa' = 'Nasarawa', 'Niger' = 'Niger', 'Ogun' = 'Ogun',
        'Ondo' = 'Ondo', 'Osun' = 'Osun', 'Oyo' = 'Oyo', 'Plateau' = 'Plateau',
        'Rivers' = 'Rivers', 'Sokoto' = 'Sokoto', 'Taraba' = 'Taraba',
        'Yobe' = 'Yobe', 'Zamfara' = 'Zamfara'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_nigeria %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_nigeria$NAME_0)
geo_nigeria %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Nigeria', 'Nigeria', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 1, 'Adamawa' = 2, 'Akwa-lbom' = 3,
        'Anambra' = 4, 'Bauchi' = 5, 'Bayelsa' = 6, 'Benue' = 7, 'Borno' = 8,
        'Cross-River' = 9, 'Delta' = 10, 'Ebonyi' = 11, 'Edo' = 12,
        'Ekiti' = 13, 'Enugu' = 14, 'FCT' = 15, 'Gombe' = 16, 'Imo' = 17,
        'Jigawa' = 18, 'Kaduna' = 19, 'Kano' = 20, 'Katsina' = 21, 'Kebbi' = 22,
        'Kogi' = 23, 'Kwara' = 24, 'Lagos' = 25, 'Nassarawa' = 26, 'Niger' = 27,
        'Ogun' = 28, 'Ondo' = 29, 'Osun' = 30, 'Oyo' = 31, 'Plateau' = 32,
        'Rivers' = 33, 'Sokoto' = 34, 'Taraba' = 35, 'Yobe' = 37,
        'Zamfara' = 38, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_nigeria %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 'Abia', 'Adamawa' = 'Adamawa',
        'Akwa-Ibom' = 'Akwa Ibom', 'Anambra' = 'Anambra', 'Bauchi' = 'Bauchi',
        'Bayelsa' = 'Bayelsa', 'Benue' = 'Benue', 'Borno' = 'Borno',
        'Cross-River' = 'Cross River', 'Delta' = 'Delta', 'Ebonyi' = 'Ebonyi',
        'Edo' = 'Edo', 'Ekiti' = 'Ekiti', 'Enugu' = 'Enugu',
        'FCT' = 'Abuja Federal Capital Territory', 'Gombe' = 'Gombe',
        'Imo' = 'Imo', 'Jigawa' = 'Jigawa', 'Kaduna' = 'Kaduna',
        'Kano' = 'Kano', 'Katsina' = 'Katsina', 'Kebbi' = 'Kebbi',
        'Kogi' = 'Kogi', 'Kwara' = 'Kwara', 'Lagos' = 'Lagos',
        'Nasarawa' = 'Nasarawa', 'Niger' = 'Niger', 'Ogun' = 'Ogun',
        'Ondo' = 'Ondo', 'Osun' = 'Osun', 'Oyo' = 'Oyo', 'Plateau' = 'Plateau',
        'Rivers' = 'Rivers', 'Sokoto' = 'Sokoto', 'Taraba' = 'Taraba',
        'Yobe' = 'Yobe', 'Zamfara' = 'Zamfara'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_nigeria %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_nigeria$NAME_0)
geo_nigeria %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Nigeria', 'Nigeria', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 1, 'Adamawa' = 2, 'Akwa-Ibom' = 3,
        'Anambra' = 4, 'Bauchi' = 5, 'Bayelsa' = 6, 'Benue' = 7, 'Borno' = 8,
        'Cross-River' = 9, 'Delta' = 10, 'Ebonyi' = 11, 'Edo' = 12,
        'Ekiti' = 13, 'Enugu' = 14, 'FCT' = 15, 'Gombe' = 16, 'Imo' = 17,
        'Jigawa' = 18, 'Kaduna' = 19, 'Kano' = 20, 'Katsina' = 21, 'Kebbi' = 22,
        'Kogi' = 23, 'Kwara' = 24, 'Lagos' = 25, 'Nasarawa' = 26, 'Niger' = 27,
        'Ogun' = 28, 'Ondo' = 29, 'Osun' = 30, 'Oyo' = 31, 'Plateau' = 32,
        'Rivers' = 33, 'Sokoto' = 34, 'Taraba' = 35, 'Yobe' = 37,
        'Zamfara' = 38, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_nigeria %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 'Abia', 'Akwa-Ibom' = 'Akwa Ibom',
        'Anambra' = 'Anambra', 'Bauchi' = 'Bauchi', 'Bayelsa' = 'Bayelsa',
        'Benue' = 'Benue', 'Cross-River' = 'Cross River', 'Delta' = 'Delta',
        'Ebonyi' = 'Ebonyi', 'Edo' = 'Edo', 'Ekiti' = 'Ekiti',
        'Enugu' = 'Enugu', 'FCT' = 'Abuja Federal Capital Territory',
        'Gombe' = 'Gombe', 'Imo' = 'Imo', 'Jigawa' = 'Jigawa',
        'Kaduna' = 'Kaduna', 'Kano' = 'Kano', 'Katsina' = 'Katsina',
        'Kebbi' = 'Kebbi', 'Kogi' = 'Kogi', 'Kwara' = 'Kwara',
        'Lagos' = 'Lagos', 'Nasarawa' = 'Nasarawa', 'Niger' = 'Niger',
        'Ogun' = 'Ogun', 'Ondo' = 'Ondo', 'Osun' = 'Osun', 'Oyo' = 'Oyo',
        'Plateau' = 'Plateau', 'Rivers' = 'Rivers', 'Sokoto' = 'Sokoto',
        'Taraba' = 'Taraba', 'Zamfara' = 'Zamfara'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Nigeria') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_nigeria %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_nigeria$NAME_0)
geo_nigeria %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Nigeria', 'Nigeria', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Nigeria',
      recode(areaname_eng_ab, 'Abia' = 1, 'Akwa-Ibom' = 3, 'Anambra' = 4,
        'Bauchi' = 5, 'Bayelsa' = 6, 'Benue' = 7, 'Cross-River' = 9,
        'Delta' = 10, 'Ebonyi' = 11, 'Edo' = 12, 'Ekiti' = 13, 'Enugu' = 14,
        'FCT' = 15, 'Gombe' = 16, 'Imo' = 17, 'Jigawa' = 18, 'Kaduna' = 19,
        'Kano' = 20, 'Katsina' = 21, 'Kebbi' = 22, 'Kogi' = 23, 'Kwara' = 24,
        'Lagos' = 25, 'Nasarawa' = 26, 'Niger' = 27, 'Ogun' = 28, 'Ondo' = 29,
        'Osun' = 30, 'Oyo' = 31, 'Plateau' = 32, 'Rivers' = 33, 'Sokoto' = 34,
        'Taraba' = 35, 'Zamfara' = 38, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Sao Tome and Principe
## iso
# í -> i; ã -> a; é -> e
iso_saotomeandprincipe <- bind_cols(
  cname_eng = rep('Sao Tome and Principe', 2),
  ISO1num = rep(678, 2),
  ISO2str = c('ST-P', 'ST-S'),
  ISO2numstr = rep('', 2),
  ISO2num = rep(NA, 2),
  areaname_conv_iso = c('Príncipe', 'São Tomé'),
  areaname_eng_iso = c('Principe', 'Sao Tome')
)

## gis
geo_saotomeandprincipe <-
  read.csv('Data/GIS/SaoTomeAndPrincipe/STP_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Sao Tome and Principe' %in% ab01$cname_eng
'Sao Tome and Principe' %in% ab02$cname_eng
'Sao Tome and Principe' %in% ab03$cname_eng
'Sao Tome and Principe' %in% ab04$cname_eng
'Sao Tome and Principe' %in% ab05$cname_eng
'Sao Tome and Principe' %in% ab06$cname_eng

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Sao Tome and Principe') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_saotomeandprincipe %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Sao Tome and Principe',
      recode(areaname_eng_ab, 'Principe' = 'Principe', 'Sao Tome' = 'Sao Tome'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Sao Tome and Principe') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_saotomeandprincipe %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_saotomeandprincipe$NAME_0)
geo_saotomeandprincipe %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Sao Tome and Principe', 'Sao Tome and Principe',
      NAME_0),
  ID_1 =
    if_else(cname_eng == 'Sao Tome and Principe',
      recode(areaname_eng_ab, 'Principe' = 1, 'Sao Tome' = 2,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Senegal
## iso
# é -> e; è -> e
iso_senegal <- bind_cols(
  cname_eng = rep('Senegal', 14),
  ISO1num = rep(686, 14),
  ISO2str = c('SN-DK', 'SN-DB', 'SN-FK', 'SN-KA', 'SN-KL', 'SN-KE', 'SN-KD',
    'SN-LG', 'SN-MT', 'SN-SL', 'SN-SE', 'SN-TC', 'SN-TH', 'SN-ZG'),
  ISO2numstr = rep('', 14),
  ISO2num = rep(NA, 14),
  areaname_conv_iso = c('Dakar', 'Diourbel', 'Fatick', 'Kaffrine', 'Kaolack',
    'Kédougou', 'Kolda', 'Louga', 'Matam', 'Saint-Louis', 'Sédhiou',
    'Tambacounda', 'Thiès', 'Ziguinchor'),
  areaname_eng_iso = c('Dakar', 'Diourbel', 'Fatick', 'Kaffrine', 'Kaolack',
    'Kedougou', 'Kolda', 'Louga', 'Matam', 'Saint-Louis', 'Sedhiou',
    'Tambacounda', 'Thies', 'Ziguinchor')
)

## gis
geo_senegal <-
  read.csv('Data/GIS/Senegal/SEN_adm4.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Senegal' %in% ab01$cname_eng
'Senegal' %in% ab02$cname_eng
'Senegal' %in% ab03$cname_eng
'Senegal' %in% ab04$cname_eng
'Senegal' %in% ab05$cname_eng
'Senegal' %in% ab06$cname_eng

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_senegal %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 'Dakar', 'Diourbel' = 'Diourbel',
        'Fatick' = 'Fatick', 'Kaolack' = 'Kaolack', 'Kolda' = 'Kolda',
        'Louga' = 'Louga', 'SaintLouis' = 'Saint-Louis',
        'Tambacounda' = 'Tambacounda', 'Thies' = 'Thies',
        'Ziguinchor' = 'Ziguinchor'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_senegal %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_senegal$NAME_0)
geo_senegal %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Senegal', 'Senegal', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 1, 'Diourbel' = 2, 'Fatick' = 3,
        'Kaolack' = 6, 'Kolda' = 7, 'Louga' = 8, 'SaintLouis' = 11,
        'Tambacounda' = 12, 'Thies' = 13, 'Ziguinchor' = 14,
        .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_senegal %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 'Dakar', 'Diourbel' = 'Diourbel',
        'Fatick' = 'Fatick', 'Kaolack' = 'Kaolack', 'Kolda' = 'Kolda',
        'Louga' = 'Louga', 'Matam' = 'Matam', 'Saint Louis' = 'Saint-Louis',
        'Tambacounda' = 'Tambacounda', 'Thies' = 'Thies',
        'Ziguinchor' = 'Ziguinchor'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_senegal %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_senegal$NAME_0)
geo_senegal %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Senegal', 'Senegal', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 1, 'Diourbel' = 2, 'Fatick' = 3,
        'Kaolack' = 6, 'Kolda' = 7, 'Louga' = 8, 'Matam' = 9,
        'Saint Louis' = 11, 'Tambacounda' = 12, 'Thies' = 13, 'Ziguinchor' = 14,
        .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_senegal %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 'Dakar', 'Diourbel' = 'Diourbel',
        'Fatick' = 'Fatick', 'Kaolack' = 'Kaolack', 'Kolda' = 'Kolda',
        'Louga' = 'Louga', 'Matam' = 'Matam', 'Saint-Louis' = 'Saint-Louis',
        'Tambacounda' = 'Tambacounda', 'Thies' = 'Thies',
        'Ziguinchor' = 'Ziguinchor'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_senegal %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_senegal$NAME_0)
geo_senegal %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Senegal', 'Senegal', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 1, 'Diourbel' = 2, 'Fatick' = 3,
        'Kaolack' = 6, 'Kolda' = 7, 'Louga' = 8, 'Matam' = 9,
        'Saint-Louis' = 11, 'Tambacounda' = 12, 'Thies' = 13, 'Ziguinchor' = 14,
        .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_senegal %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 'Dakar', 'Diourbel' = 'Diourbel',
        'Fatick' = 'Fatick', 'Kaffrine' = 'Kaffrine', 'Kaolack' = 'Kaolack',
        'Kedougou' = 'Kedougou', 'Kolda' = 'Kolda', 'Louga' = 'Louga',
        'Matam' = 'Matam', 'Saint-Louis' = 'Saint-Louis', 'Sedhiou' = 'Sedhiou',
        'Tambacounda' = 'Tambacounda', 'Thies' = 'Thies',
        'Ziguinchor' = 'Ziguinchor'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_senegal %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_senegal$NAME_0)
geo_senegal %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Senegal', 'Senegal', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 1, 'Diourbel' = 2, 'Fatick' = 3,
        'Kaffrine' = 5, 'Kaolack' = 6, 'Kedougou' = 4, 'Kolda' = 7, 'Louga' = 8,
        'Matam' = 9, 'Saint-Louis' = 11, 'Sedhiou' = 10, 'Tambacounda' = 12,
        'Thies' = 13, 'Ziguinchor' = 14, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_senegal %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 'Dakar', 'Diourbel' = 'Diourbel',
        'Fatick' = 'Fatick', 'Kaffrine' = 'Kaffrine', 'Kaolack' = 'Kaolack',
        'Kedougou' = 'Kedougou', 'Kolda' = 'Kolda', 'Louga' = 'Louga',
        'Matam' = 'Matam', 'Saint-Louis' = 'Saint-Louis', 'Sedhiou' = 'Sedhiou',
        'Tambacounda' = 'Tambacounda', 'Thies' = 'Thies',
        'Ziguinchor' = 'Ziguinchor'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Senegal') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_senegal %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_senegal$NAME_0)
geo_senegal %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Senegal', 'Senegal', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Senegal',
      recode(areaname_eng_ab, 'Dakar' = 1, 'Diourbel' = 2, 'Fatick' = 3,
        'Kaffrine' = 5, 'Kaolack' = 6, 'Kedougou' = 4, 'Kolda' = 7, 'Louga' = 8,
        'Matam' = 9, 'Saint-Louis' = 11, 'Sedhiou' = 10, 'Tambacounda' = 12,
        'Thies' = 13, 'Ziguinchor' = 14, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Sierra Leone
## iso
iso_sierraleone <- bind_cols(
  cname_eng = rep('Sierra Leone', 5),
  ISO1num = rep(694, 5),
  ISO2str = c('SL-W', 'SL-E', 'SL-N', 'SL-NW', 'SL-S'),
  ISO2numstr = rep('', 5),
  ISO2num = rep(NA, 5),
  areaname_conv_iso = c('Western Area (Freetown)', 'Eastern', 'Northern',
    'North Western', 'Southern'),
  areaname_eng_iso = c('Western Area (Freetown)', 'Eastern', 'Northern',
    'North Western', 'Southern')
)

## gis
geo_sierraleone <-
  read.csv('Data/GIS/SierraLeone/SLE_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Sierra Leone' %in% ab01$cname_eng
'Sierra Leone' %in% ab02$cname_eng
'Sierra Leone' %in% ab03$cname_eng
'Sierra Leone' %in% ab04$cname_eng
'Sierra Leone' %in% ab05$cname_eng
'Sierra Leone' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Sierra Leone') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_sierraleone %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Sierra Leone',
      recode(areaname_eng_ab, 'Eastern Province' = 'Eastern',
        'Northern Province' = 'Northern', 'Southern Province' = 'Southern',
        'Western Area' = 'Western Area (Freetown)'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Sierra Leone') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_sierraleone %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_sierraleone$NAME_0)
geo_sierraleone %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Sierra Leone', 'Sierra Leone', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Sierra Leone',
      recode(areaname_eng_ab, 'Eastern Province' = 1, 'Northern Province' = 2,
        'Southern Province' = 3, 'Western Area' = 4, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Sierra Leone') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_sierraleone %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Sierra Leone',
      recode(areaname_eng_ab, 'East' = 'Eastern', 'North' = 'Northern',
        'South' = 'Southern', 'Western' = 'Western Area (Freetown)'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Sierra Leone') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_sierraleone %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_sierraleone$NAME_0)
geo_sierraleone %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Sierra Leone', 'Sierra Leone', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Sierra Leone',
      recode(areaname_eng_ab, 'East' = 1, 'North' = 2, 'South' = 3,
        'Western' = 4, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### South Africa
## iso
iso_southafrica <- bind_cols(
  cname_eng = rep('South Africa', 9),
  ISO1num = rep(710, 9),
  ISO2str = c('ZA-EC', 'ZA-FS', 'ZA-GP', 'ZA-KZN', 'ZA-LP', 'ZA-MP', 'ZA-NC',
    'ZA-NW', 'ZA-WC'),
  ISO2numstr = rep('', 9),
  ISO2num = rep(NA, 9),
  areaname_conv_iso = c('Eastern Cape', 'Free State', 'Gauteng',
    'Kwazulu-Natal', 'Limpopo', 'Mpumalanga', 'Northern Cape', 'North-West',
    'Western Cape'),
  areaname_eng_iso = c('Eastern Cape', 'Free State', 'Gauteng',
    'Kwazulu-Natal', 'Limpopo', 'Mpumalanga', 'Northern Cape', 'North-West',
    'Western Cape')
)

## gis
geo_southafrica <-
  read.csv('Data/GIS/SouthAfrica/ZAF_adm2.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'South Africa' %in% ab01$cname_eng
'South Africa' %in% ab02$cname_eng
'South Africa' %in% ab03$cname_eng
'South Africa' %in% ab04$cname_eng
'South Africa' %in% ab05$cname_eng
'South Africa' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_southafrica %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 'Eastern Cape',
        'Free State' = 'Free State', 'Gauteng' = 'Gauteng',
        'Kwa-Zulu Natal' = 'Kwazulu-Natal', 'Mpumalanga' = 'Limpopo',
        'North West' = 'Mpumalanga', 'Northern Cape' = 'North-West',
        'Northern Province' = 'Northern Cape', 'Western Cape' = 'Western Cape'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_southafrica %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_southafrica$NAME_0)
geo_southafrica %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'South Africa', 'South Africa', NAME_0),
  ID_1 =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 1, 'Free State' = 2,
        'Gauteng' = 3, 'Kwa-Zulu Natal' = 4, 'Northern Province' = 5,
        'Mpumalanga' = 6, 'North West' = 7, 'Northern Cape' = 8,
        'Western Cape' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_southafrica %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'EasternCape' = 'Eastern Cape',
        'FreeState' = 'Free State', 'Gauteng' = 'Gauteng',
        'KwaZuluNatal' = 'Kwazulu-Natal', 'Limpopo' = 'Limpopo',
        'Mpumulanga' = 'Mpumalanga', 'NorthernCape' = 'North-West',
        'NorthWest' = 'Northern Cape', 'WesternCape' = 'Western Cape'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_southafrica %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_southafrica$NAME_0)
geo_southafrica %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'South Africa', 'South Africa', NAME_0),
  ID_1 =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'EasternCape' = 1, 'FreeState' = 2, 'Gauteng' = 3,
        'KwaZuluNatal' = 4, 'Limpopo' = 5, 'Mpumulanga' = 6, 'NorthernCape' = 8,
        'NorthWest' = 7, 'WesternCape' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_southafrica %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 'Eastern Cape',
        'Free State' = 'Free State', 'Gauteng' = 'Gauteng',
        'KwaZulu-Natal' = 'Kwazulu-Natal', 'Limpopo' = 'Limpopo',
        'Mpumalanga' = 'Mpumalanga', 'North West' = 'North-West',
        'Northern Cape' = 'Northern Cape', 'Western Cape' = 'Western Cape'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_southafrica %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_southafrica$NAME_0)
geo_southafrica %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'South Africa', 'South Africa', NAME_0),
  ID_1 =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 1, 'Free State' = 2,
        'Gauteng' = 3, 'KwaZulu-Natal' = 4, 'Limpopo' = 5, 'Mpumalanga' = 6,
        'North West' = 7, 'Northern Cape' = 8, 'Western Cape' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_southafrica %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 'Eastern Cape',
        'Free State' = 'Free State', 'Gauteng' = 'Gauteng',
        'Kwazulu Natal' = 'Kwazulu-Natal', 'Limpopo' = 'Limpopo',
        'Mpumalanga' = 'Mpumalanga', 'North West' = 'North-West',
        'Northern Cape' = 'Northern Cape', 'Western Cape' = 'Western Cape'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_southafrica %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_southafrica$NAME_0)
geo_southafrica %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'South Africa', 'South Africa', NAME_0),
  ID_1 =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 1, 'Free State' = 2,
        'Gauteng' = 3, 'Kwazulu Natal' = 4, 'Limpopo' = 5, 'Mpumalanga' = 6,
        'North West' = 7, 'Northern Cape' = 8, 'Western Cape' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_southafrica %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 'Eastern Cape',
        'Free State' = 'Free State', 'Gauteng' = 'Gauteng',
        'Kwazulu Natal' = 'Kwazulu-Natal', 'Limpopo' = 'Limpopo',
        'Mpumalanga' = 'Mpumalanga', 'North West' = 'North-West',
        'Northern Cape' = 'Northern Cape', 'Western Cape' = 'Western Cape'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_southafrica %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_southafrica$NAME_0)
geo_southafrica %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'South Africa', 'South Africa', NAME_0),
  ID_1 =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 1, 'Free State' = 2,
        'Gauteng' = 3, 'Kwazulu Natal' = 4, 'Limpopo' = 5, 'Mpumalanga' = 6,
        'North West' = 7, 'Northern Cape' = 8, 'Western Cape' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_southafrica %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 'Eastern Cape',
        'Free State' = 'Free State', 'Gauteng' = 'Gauteng',
        'Kwazulu Natal' = 'Kwazulu-Natal', 'Limpopo' = 'Limpopo',
        'Mpumalanga' = 'Mpumalanga', 'North West' = 'North-West',
        'Northern Cape' = 'Northern Cape', 'Western Cape' = 'Western Cape'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'South Africa') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_southafrica %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_southafrica$NAME_0)
geo_southafrica %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'South Africa', 'South Africa', NAME_0),
  ID_1 =
    if_else(cname_eng == 'South Africa',
      recode(areaname_eng_ab, 'Eastern Cape' = 1, 'Free State' = 2,
        'Gauteng' = 3, 'Kwazulu Natal' = 4, 'Limpopo' = 5, 'Mpumalanga' = 6,
        'North West' = 7, 'Northern Cape' = 8, 'Western Cape' = 10,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Sudan
## iso
iso_sudan <- bind_cols(
  cname_eng = rep('Sudan', 18),
  ISO1num = rep(729, 18),
  ISO2str = c('SD-RS', 'SD-GZ', 'SD-KH', 'SD-GD', 'SD-NR', 'SD-NW', 'SD-NB',
    'SD-NO', 'SD-DW', 'SD-GK', 'SD-DS', 'SD-KS', 'SD-KA', 'SD-DN', 'SD-KN',
    'SD-DE', 'SD-SI', 'SD-DC'),
  ISO2numstr = rep('', 18),
  ISO2num = rep(NA, 18),
  areaname_conv_iso = c('Al Baḩr al Aḩmar', 'Al Jazīrah', 'Al Kharţūm',
    'Al Qaḑārif', 'Nahr an Nīl', 'An Nīl al Abyaḑ', 'An Nīl al Azraq',
    'Ash Shamālīyah', 'Gharb Dārfūr', 'Gharb Kurdufān', 'Janūb Dārfūr',
    'Janūb Kurdufān', 'Kassalā', 'Shamāl Dārfūr', 'Shiamāl Kurdufān',
    'Sharq Dārfūr', 'Sinnār', 'Wasaţ Dārfūr Zālinjay'),
  areaname_eng_iso = c('Red Sea', 'Gezira', 'Khartoum', 'Gedaref', 'River Nile',
    'White Nile', 'Blue Nile', 'Northern', 'West Darfur', 'West Kordofan',
    'South Darfur', 'South Kordofan', 'Kassala', 'North Darfur',
    'North Kordofan', 'East Darfur', 'Sennar', 'Central Darfur')
)

## gis
geo_sudan <-
  read.csv('Data/GIS/Sudan/SDN_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Sudan' %in% ab01$cname_eng
'Sudan' %in% ab02$cname_eng
'Sudan' %in% ab03$cname_eng
'Sudan' %in% ab04$cname_eng
'Sudan' %in% ab05$cname_eng
'Sudan' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Sudan') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_sudan %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Sudan',
      recode(areaname_eng_ab, 'Blue Nile' = 'Blue Nile', 'Gadarif' = 'Gedaref',
        'Gezira' = 'Gezira', 'Kassala' = 'Kassala', 'Khartom' = 'Khartoum',
        'Nahr ALnil' = 'River Nile', 'North' = 'Northern',
        'North Darfur' = 'North Darfur', 'North Kordufan' = 'North Kordofan',
        'Red Sea' = 'Red Sea', 'Sennar' = 'Sennar',
        'South Darfur' = 'South Darfur', 'South Kordufan' = 'South Kordofan',
        'West Darfur' = 'West Darfur', 'White Nile' = 'White Nile'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Sudan') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_sudan %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_sudan$NAME_0)
geo_sudan %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Sudan', 'Sudan', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Sudan',
      recode(areaname_eng_ab, 'Gezira' = 1, 'Gadarif' = 2, 'Blue Nile' = 3,
        'Kassala' = 6, 'Khartom' = 7, 'North Darfur' = 8, 'North Kordufan' = 9,
        'North' = 10, 'Red Sea' = 11, 'Nahr ALnil' = 12, 'Sennar' = 13,
        'South Darfur' = 14, 'South Kordufan' = 15, 'West Darfur' = 16,
        'White Nile' = 18, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Sudan') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_sudan %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Sudan',
      recode(areaname_eng_ab, 'Khartoum' = 'Khartoum'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Sudan') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_sudan %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_sudan$NAME_0)
geo_sudan %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Sudan', 'Sudan', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Sudan',
      recode(areaname_eng_ab, 'Khartoum' = 7, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Swaziland (Eswatini)
## iso
iso_swaziland <- bind_cols(
  cname_eng = rep('Swaziland', 4),
  ISO1num = rep(748, 4),
  ISO2str = c('SZ-HH', 'SZ-LU', 'SZ-MA', 'SZ-SH'),
  ISO2numstr = rep('', 4),
  ISO2num = rep(NA, 4),
  areaname_conv_iso = c('Hhohho', 'Lubombo', 'Manzini', 'Shiselweni'),
  areaname_eng_iso = c('Hhohho', 'Lubombo', 'Manzini', 'Shiselweni')
)

## gis
geo_swaziland <-
  read.csv('Data/GIS/Swaziland/SWZ_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Swaziland' %in% ab01$cname_eng
'Swaziland' %in% ab02$cname_eng
'Swaziland' %in% ab03$cname_eng
'Swaziland' %in% ab04$cname_eng
'Swaziland' %in% ab05$cname_eng
'Swaziland' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Swaziland') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_swaziland %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Swaziland',
      recode(areaname_eng_ab, 'Hhohho' = 'Hhohho', 'Lubombo' = 'Lubombo',
        'Manzini' = 'Manzini', 'Shiselweni' = 'Shiselweni'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Swaziland') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_swaziland %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_swaziland$NAME_0)
geo_swaziland %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Swaziland', 'Swaziland', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Swaziland',
      recode(areaname_eng_ab, 'Hhohho' = 1, 'Lubombo' = 2, 'Manzini' = 3,
        'Shiselweni' = 4, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Swaziland') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_swaziland %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Swaziland',
      recode(areaname_eng_ab, 'Hhohho' = 'Hhohho', 'Lubombo' = 'Lubombo',
        'Manzini' = 'Manzini', 'Shiselweni' = 'Shiselweni'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Swaziland') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_swaziland %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_swaziland$NAME_0)
geo_swaziland %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Swaziland', 'Swaziland', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Swaziland',
      recode(areaname_eng_ab, 'Hhohho' = 1, 'Lubombo' = 2, 'Manzini' = 3,
        'Shiselweni' = 4, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Tanzania
## iso
iso_tanzania <- bind_cols(
  cname_eng = rep('Tanzania', 31),
  ISO1num = rep(834, 31),
  ISO2str = c('TZ-01', 'TZ-02', 'TZ-03', 'TZ-27', 'TZ-04', 'TZ-05', 'TZ-06',
    'TZ-07', 'TZ-28', 'TZ-08', 'TZ-09', 'TZ-10', 'TZ-11', 'TZ-12', 'TZ-26',
    'TZ-13', 'TZ-14', 'TZ-15', 'TZ-16', 'TZ-17', 'TZ-18', 'TZ-29', 'TZ-19',
    'TZ-20', 'TZ-21', 'TZ-22', 'TZ-30', 'TZ-23', 'TZ-31', 'TZ-24', 'TZ-25'),
  ISO2numstr = rep('', 31),
  ISO2num = rep(NA, 31),
  areaname_conv_iso = c('Arusha', 'Dar es Salaam', 'Dodoma', 'Geita', 'Iringa',
    'Kagera', 'Kaskazini Pemba', 'Kaskazini Unguja', 'Katavi', 'Kigoma',
    'Kilimanjaro', 'Kusini Pemba', 'Kusini Unguja', 'Lindi', 'Manyara', 'Mara',
    'Mbeya', 'Mjini Magharibi', 'Morogoro', 'Mtwara', 'Mwanza', 'Njombe',
    'Pwani Coast', 'Rukwa', 'Ruvuma', 'Shinyanga', 'Simiyu', 'Singida',
    'Songwe', 'Tabora', 'Tanga'),
  areaname_eng_iso = c('Arusha', 'Dar es Salaam', 'Dodoma', 'Geita', 'Iringa',
    'Kagera', 'Pemba North', 'Zanzibar North', 'Katavi', 'Kigoma',
    'Kilimanjaro', 'Pemba South', 'Zanzibar South', 'Lindi', 'Manyara', 'Mara',
    'Mbeya', 'Zanzibar West', 'Morogoro', 'Mtwara', 'Mwanza', 'Njombe',
    'Pwani Coast', 'Rukwa', 'Ruvuma', 'Shinyanga', 'Simiyu', 'Singida',
    'Songwe', 'Tabora', 'Tanga')
)

## gis
geo_tanzania <-
  read.csv('Data/GIS/Tanzania/TZA_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Tanzania' %in% ab01$cname_eng
'Tanzania' %in% ab02$cname_eng
'Tanzania' %in% ab03$cname_eng
'Tanzania' %in% ab04$cname_eng
'Tanzania' %in% ab05$cname_eng
'Tanzania' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tanzania %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 'Arusha',
        'Dar es Salaam' = 'Dar es Salaam', 'Coast' = 'Pwani Coast',
        'Dodoma' = 'Dodoma', 'Iringa' = 'Iringa', 'Kagera' = 'Kagera',
        'Kaskazini Pemba' = 'Pemba North',
        'Kaskazini Unguja' = 'Zanzibar North', 'Kigoma' = 'Kigoma',
        'Kilimanjaro' = 'Kilimanjaro', 'Lindi' = 'Lindi',
        'Kusini Pemba' = 'Pemba South', 'Kusini Unguja' = 'Zanzibar South',
        'Mara' = 'Mara', 'Mbeya' = 'Mbeya', 'Morogoro' = 'Morogoro',
        'Mtwara' = 'Mtwara', 'Mjini Magharibi' = 'Zanzibar West',
        'Mwanza' = 'Mwanza', 'Rukwa' = 'Rukwa', 'Ruvuma' = 'Ruvuma',
        'Singida' = 'Singida', 'Sinyanga' = 'Shinyanga', 'Tabora' = 'Tabora',
        'Tanga' = 'Tanga'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tanzania %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tanzania$NAME_0)
geo_tanzania %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tanzania', 'Tanzania', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 1, 'Dar es Salaam' = 2, 'Dodoma' = 3,
        'Iringa' = 4, 'Kagera' = 5, 'Kaskazini Pemba' = 6,
        'Kaskazini Unguja' = 7, 'Kigoma' = 8, 'Kilimanjaro' = 9,
        'Kusini Pemba' = 10, 'Lindi' = 11, 'Mara' = 13, 'Mbeya' = 14,
        'Morogoro' = 15, 'Mtwara' = 16, 'Mwanza' = 17, 'Coast' = 18,
        'Rukwa' = 19, 'Ruvuma' = 20, 'Sinyanga' = 21, 'Singida' = 22,
        'Tabora' = 23, 'Tanga' = 24, 'Kusini Unguja' = 25,
        'Mjini Magharibi' = 26, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tanzania %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 'Arusha', 'Dar' = 'Dar es Salaam',
        'Dodoma' = 'Dodoma', 'Iringa' = 'Iringa', 'Kagera' = 'Kagera',
        'KaskaziniPemba' = 'Pemba North', 'KaskaziniUnguja' = 'Zanzibar North',
        'Kigoma' = 'Kigoma', 'Kilimajaro' = 'Kilimanjaro',
        'KusiniPemba' = 'Pemba South', 'KusiniUnguja' = 'Zanzibar South',
        'Lindi' = 'Lindi', 'Manyara' = 'Manyara', 'Mara' = 'Mara',
        'Mbeya' = 'Mbeya', 'MjiniMagharibi' = 'Zanzibar West',
        'Morogoro' = 'Morogoro', 'Mtwara' = 'Mtwara', 'Mwanza' = 'Mwanza',
        'Pwani' = 'Pwani Coast', 'Rukwa' = 'Rukwa', 'Ruvuma' = 'Ruvuma',
        'Shinyanga' = 'Shinyanga', 'Singida' = 'Singida', 'Tabora' = 'Tabora',
        'Tanga' = 'Tanga'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tanzania %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tanzania$NAME_0)
geo_tanzania %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tanzania', 'Tanzania', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 1, 'Dar' = 2, 'Dodoma' = 3,
        'Iringa' = 4, 'Kagera' = 5, 'KaskaziniPemba' = 6, 'KaskaziniUnguja' = 7,
        'Kigoma' = 8, 'Kilimajaro' = 9, 'KusiniPemba' = 10, 'Lindi' = 11,
        'Manyara' = 12, 'Mara' = 13, 'Mbeya' = 14, 'Morogoro' = 15,
        'Mtwara' = 16, 'Mwanza' = 17, 'Pwani' = 18, 'Rukwa' = 19, 'Ruvuma' = 20,
        'Shinyanga' = 21, 'Singida' = 22, 'Tabora' = 23, 'Tanga' = 24,
        'KusiniUnguja' = 25, 'MjiniMagharibi' = 26, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tanzania %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 'Arusha',
        'Dar es Salaam' = 'Dar es Salaam', 'Dodoma' = 'Dodoma',
        'Iringa' = 'Iringa', 'Kagera' = 'Kagera', 'Kigoma' = 'Kigoma',
        'Kilimanjaro' = 'Kilimanjaro', 'Lindi' = 'Lindi', 'Manyara' = 'Manyara',
        'Mara' = 'Mara', 'Mbeya' = 'Mbeya', 'Morogoro' = 'Morogoro',
        'Mtwara' = 'Mtwara', 'Mwanza' = 'Mwanza', 'North Pemba' = 'Pemba North',
        'North Unguja' = 'Zanzibar North', 'Pwani' = 'Pwani Coast',
        'Rukwa' = 'Rukwa', 'Ruvuma' = 'Ruvuma', 'Shinyanga' = 'Shinyanga',
        'Singida' = 'Singida', 'South Pemba' = 'Pemba South',
        'South Unguja' = 'Zanzibar South', 'Tabora' = 'Tabora',
        'Tanga' = 'Tanga', 'Urban West' = 'Zanzibar West'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tanzania %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tanzania$NAME_0)
geo_tanzania %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tanzania', 'Tanzania', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 1, 'Dar es Salaam' = 2, 'Dodoma' = 3,
        'Iringa' = 4, 'Kagera' = 5, 'North Pemba' = 6, 'North Unguja' = 7,
        'Kigoma' = 8, 'Kilimanjaro' = 9, 'South Pemba' = 10, 'Lindi' = 11,
        'Manyara' = 12, 'Mara' = 13, 'Mbeya' = 14, 'Morogoro' = 15,
        'Mtwara' = 16, 'Mwanza' = 17, 'Pwani' = 18, 'Rukwa' = 19, 'Ruvuma' = 20,
        'Shinyanga' = 21, 'Singida' = 22, 'Tabora' = 23, 'Tanga' = 24,
        'South Unguja' = 25, 'Urban West' = 26, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tanzania %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 'Arusha',
        'Coast (Pwani)' = 'Pwani Coast', 'Dar es Salaam' = 'Dar es Salaam',
        'Dodoma' = 'Dodoma', 'Iringa' = 'Iringa', 'Kagera' = 'Kagera',
        'Kigoma' = 'Kigoma', 'Kilimanjaro' = 'Kilimanjaro', 'Lindi' = 'Lindi',
        'Manyara' = 'Manyara', 'Mara' = 'Mara', 'Mbeya' = 'Mbeya',
        'Morogoro' = 'Morogoro', 'Mtwara' = 'Mtwara', 'Mwanza' = 'Mwanza',
        'North Pemba' = 'Pemba North', 'North Unguja' = 'Zanzibar North',
        'Rukwa' = 'Rukwa', 'Ruvuma' = 'Ruvuma', 'Shinyanga' = 'Shinyanga',
        'Singida' = 'Singida', 'South Pemba' = 'Pemba South',
        'South Unguja' = 'Zanzibar South', 'Tabora' = 'Tabora',
        'Tanga' = 'Tanga', 'Urban West' = 'Zanzibar West'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tanzania %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tanzania$NAME_0)
geo_tanzania %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tanzania', 'Tanzania', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 1, 'Dar es Salaam' = 2, 'Dodoma' = 3,
        'Iringa' = 4, 'Kagera' = 5, 'North Pemba' = 6, 'North Unguja' = 7,
        'Kigoma' = 8, 'Kilimanjaro' = 9, 'South Pemba' = 10, 'Lindi' = 11,
        'Manyara' = 12, 'Mara' = 13, 'Mbeya' = 14, 'Morogoro' = 15,
        'Mtwara' = 16, 'Mwanza' = 17, 'Coast (Pwani)' = 18, 'Rukwa' = 19,
        'Ruvuma' = 20, 'Shinyanga' = 21, 'Singida' = 22, 'Tabora' = 23,
        'Tanga' = 24, 'South Unguja' = 25, 'Urban West' = 26,
        .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tanzania %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 'Arusha',
        'Dar es Salaam' = 'Dar es Salaam', 'Dodoma' = 'Dodoma',
        'Iringa' = 'Iringa', 'Kagera' = 'Kagera', 'Kigoma' = 'Kigoma',
        'Kilimanjaro' = 'Kilimanjaro', 'Lindi' = 'Lindi', 'Manyara' = 'Manyara',
        'Mara' = 'Mara', 'Mbeya' = 'Mbeya', 'Mjini Magharibi' = 'Zanzibar West',
        'Morogoro' = 'Morogoro', 'Mrwara' = 'Mtwara', 'Mwanza' = 'Mwanza',
        'Pemba Kaskazini' = 'Pemba North', 'Pemba Kusini' = 'Pemba South',
        'Pwani' = 'Pwani Coast', 'Rukwa' = 'Rukwa', 'Ruvuma' = 'Ruvuma',
        'Shinyanga' = 'Shinyanga', 'Singida' = 'Singida', 'Tabora' = 'Tabora',
        'Tanga' = 'Tanga', 'Unfuja Kusini' = 'Zanzibar South',
        'Unguja Kaskazini' = 'Zanzibar North'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tanzania %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tanzania$NAME_0)
geo_tanzania %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tanzania', 'Tanzania', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 1, 'Dar es Salaam' = 2, 'Dodoma' = 3,
        'Iringa' = 4, 'Kagera' = 5, 'Pemba Kaskazini' = 6,
        'Unguja Kaskazini' = 7, 'Kigoma' = 8, 'Kilimanjaro' = 9,
        'Pemba Kusini' = 10, 'Lindi' = 11, 'Manyara' = 12, 'Mara' = 13,
        'Mbeya' = 14, 'Morogoro' = 15, 'Mrwara' = 16, 'Mwanza' = 17,
        'Pwani' = 18, 'Rukwa' = 19, 'Ruvuma' = 20, 'Shinyanga' = 21,
        'Singida' = 22, 'Tabora' = 23, 'Tanga' = 24, 'Unfuja Kusini' = 25,
        'Mjini Magharibi' = 26, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tanzania %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 'Arusha',
        'Dar es Salaam' = 'Dar es Salaam', 'Dodoma' = 'Dodoma',
        'Geita' = 'Geita', 'Iringa' = 'Iringa', 'Kagera' = 'Kagera',
        'Katavi' = 'Katavi', 'Kigoma' = 'Kigoma', 'Kilimanjaro' = 'Kilimanjaro',
        'Lindi' = 'Lindi', 'Manyara' = 'Manyara', 'Mara' = 'Mara',
        'Mbeya' = 'Mbeya', 'Mjini Magharibi' = 'Zanzibar West',
        'Morogoro' = 'Morogoro', 'Mrwara' = 'Mtwara', 'Mwanza' = 'Mwanza',
        'Njombe' = 'Njombe', 'Pemba Kaskazini' = 'Pemba North',
        'Pemba Kusini' = 'Pemba South', 'Pwani' = 'Pwani Coast',
        'Rukwa' = 'Rukwa', 'Ruvuma' = 'Ruvuma', 'Shinyanga' = 'Shinyanga',
        'Simiyu' = 'Simiyu', 'Singida' = 'Singida', 'Tabora' = 'Tabora',
        'Tanga' = 'Tanga', 'Unfuja Kusini' = 'Zanzibar North',
        'Unguja Kaskazini' = 'Zanzibar South'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Tanzania') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tanzania %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tanzania$NAME_0)
geo_tanzania %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tanzania', 'Tanzania', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Arusha' = 1, 'Dar es Salaam' = 2, 'Dodoma' = 3,
        'Iringa' = 4, 'Njombe' = 4, 'Kagera' = 5, 'Pemba Kaskazini' = 6,
        'Unguja Kaskazini' = 7, 'Kigoma' = 8, 'Kilimanjaro' = 9,
        'Pemba Kusini' = 10, 'Lindi' = 11, 'Manyara' = 12, 'Mara' = 13,
        'Mbeya' = 14, 'Morogoro' = 15, 'Mrwara' = 16, 'Mwanza' = 17,
        'Geita' = 17, 'Pwani' = 18, 'Rukwa' = 19, 'Ruvuma' = 20,
        'Shinyanga' = 21, 'Simiyu' = 21, 'Singida' = 22, 'Tabora' = 23,
        'Tanga' = 24, 'Unfuja Kusini' = 25, 'Mjini Magharibi' = 26,
        .default = NA_real_),
      as.double(ID_1)),
  ID_2 =
    if_else(cname_eng == 'Tanzania',
      recode(areaname_eng_ab, 'Njombe' = 22, 'Geita' = 84, .default = NA_real_),
      as.double(ID_2)),
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1, ID_2) %>%
  summarize() %>% print(n = Inf)


#### Togo
## iso
iso_togo <- bind_cols(
  cname_eng = rep('Togo', 5),
  ISO1num = rep(768, 5),
  ISO2str = c('TG-C', 'TG-K', 'TG-M', 'TG-P', 'TG-S'),
  ISO2numstr = rep('', 5),
  ISO2num = rep(NA, 5),
  areaname_conv_iso = c('Centrale', 'Kara', 'Maritime', 'Plateaux', 'Savanes'),
  areaname_eng_iso = c('Centrale', 'Kara', 'Maritime', 'Plateaux', 'Savanes')
)

## gis
geo_togo <-
  read.csv('Data/GIS/Togo/TGO_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Togo' %in% ab01$cname_eng
'Togo' %in% ab02$cname_eng
'Togo' %in% ab03$cname_eng
'Togo' %in% ab04$cname_eng
'Togo' %in% ab05$cname_eng
'Togo' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Togo') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_togo %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Togo',
      recode(areaname_eng_ab, 'Centrale' = 'Centrale', 'Kara' = 'Kara',
        'Maritime' = 'Maritime', 'Plateaux' = 'Plateaux',
        'Savanes' = 'Savanes'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Togo') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_togo %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_togo$NAME_0)
geo_togo %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Togo', 'Togo', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Togo',
      recode(areaname_eng_ab, 'Centrale' = 1, 'Kara' = 2, 'Maritime' = 3,
        'Lome commune' = 3, 'Plateaux' = 4, 'Savanes' = 5, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Togo') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_togo %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Togo',
      recode(areaname_eng_ab, 'Centrale' = 'Centrale', 'Kara' = 'Kara',
        'Maritime' = 'Maritime', 'Plateaux' = 'Plateaux',
        'Savanes' = 'Savanes'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Togo') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_togo %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_togo$NAME_0)
geo_togo %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Togo', 'Togo', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Togo',
      recode(areaname_eng_ab, 'Centrale' = 1, 'Kara' = 2, 'Maritime' = 3,
        'Lome Commune' = 3, 'Plateaux' = 4, 'Savanes' = 5, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Tunisia
## iso
# é -> e; è -> e
iso_tunisia <- bind_cols(
  cname_eng = rep('Tunisia', 24),
  ISO1num = rep(788, 24),
  ISO2str = c('TN-31', 'TN-13', 'TN-23', 'TN-81', 'TN-71', 'TN-32', 'TN-41',
    'TN-42', 'TN-73', 'TN-12', 'TN-14', 'TN-33', 'TN-53', 'TN-82', 'TN-52',
    'TN-21', 'TN-61', 'TN-43', 'TN-34', 'TN-51', 'TN-83', 'TN-72', 'TN-11',
    'TN-22'),
  ISO2numstr = rep('', 24),
  ISO2num = rep(NA, 24),
  areaname_conv_iso = c('Béja', 'Ben Arous', 'Bizerte', 'Gabès', 'Gafsa',
    'Jendouba', 'Kairouan', 'Kasserine', 'Kébili', 'L\'Ariana', 'La Manouba',
    'Le Kef', 'Mahdia', 'Médenine', 'Monastir', 'Nabeul', 'Sfax', 'Sidi Bouzid',
    'Siliana', 'Sousse', 'Tataouine', 'Tozeur', 'Tunis', 'Zaghouan'),
  areaname_eng_iso = c('Beja', 'Ben Arous', 'Bizerte', 'Gabes', 'Gafsa',
    'Jendouba', 'Kairouan', 'Kasserine', 'Kebili', 'L\'Ariana', 'La Manouba',
    'Le Kef', 'Mahdia', 'Medenine', 'Monastir', 'Nabeul', 'Sfax', 'Sidi Bouzid',
    'Siliana', 'Sousse', 'Tataouine', 'Tozeur', 'Tunis', 'Zaghouan')
)

## gis
geo_tunisia <-
  read.csv('Data/GIS/Tunisia/TUN_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Tunisia' %in% ab01$cname_eng
'Tunisia' %in% ab02$cname_eng
'Tunisia' %in% ab03$cname_eng
'Tunisia' %in% ab04$cname_eng
'Tunisia' %in% ab05$cname_eng
'Tunisia' %in% ab06$cname_eng

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Tunisia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tunisia %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tunisia',
      recode(areaname_eng_ab, 'Beja' = 'Beja', 'Ben Arous' = 'Ben Arous',
        'Bizerte' = 'Bizerte', 'Gabes' = 'Gabes', 'Gafsa' = 'Gafsa',
        'Jendouba' = 'Jendouba', 'Kairouan' = 'Kairouan',
        'Kasserine' = 'Kasserine', 'Ariana' = 'L\'Ariana', 'Kebili' = 'Kebili',
        'Le Kef' = 'Le Kef', 'Mahdia' = 'Mahdia', 'Manouba' = 'La Manouba',
        'Mednine' = 'Medenine', 'Monastir' = 'Monastir', 'Nabeul' = 'Nabeul',
        'Sfax' = 'Sfax', 'Sidi Bouzid' = 'Sidi Bouzid', 'Siliana' = 'Siliana',
        'Sousse' = 'Sousse', 'Tataouine' = 'Tataouine', 'Tozeur' = 'Tozeur',
        'Tunis' = 'Tunis', 'Zaghouan' = 'Zaghouan'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Tunisia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tunisia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tunisia$NAME_0)
geo_tunisia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tunisia', 'Tunisia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tunisia',
      recode(areaname_eng_ab, 'Ariana' = 1, 'Beja' = 2, 'Ben Arous' = 3,
        'Bizerte' = 4, 'Gabes' = 5, 'Gafsa' = 6, 'Jendouba' = 7, 'Kairouan' = 8,
        'Kasserine' = 9, 'Kebili' = 10, 'Le Kef' = 11, 'Mahdia' = 13,
        'Manouba' = 14, 'Mednine' = 12, 'Monastir' = 15, 'Nabeul' = 16,
        'Sfax' = 17, 'Sidi Bouzid' = 18, 'Siliana' = 19, 'Sousse' = 20,
        'Tataouine' = 21, 'Tozeur' = 22, 'Tunis' = 23, 'Zaghouan' = 24,
        .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Tunisia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_tunisia %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Tunisia',
      recode(areaname_eng_ab, 'Ariana' = 'L\'Ariana', 'Beja' = 'Beja',
        'Ben Arous' = 'Ben Arous', 'Bizerte' = 'Bizerte', 'Gabes' = 'Gabes',
        'Gafsa' = 'Gafsa', 'Jendouba' = 'Jendouba', 'Kairouan' = 'Kairouan',
        'Kasserine' = 'Kasserine', 'Kebili' = 'Kebili', 'Le Kef' = 'Le Kef',
        'Mahdia' = 'Mahdia', 'Manouba' = 'La Manouba', 'Medenine' = 'Medenine',
        'Monastir' = 'Monastir', 'Nabeul' = 'Nabeul', 'Sfax' = 'Sfax',
        'Sidi Bouzid' = 'Sidi Bouzid', 'Siliana' = 'Siliana',
        'Sousse' = 'Sousse', 'Tataouine' = 'Tataouine', 'Tozeur' = 'Tozeur',
        'Tunis' = 'Tunis', 'Zaghouan' = 'Zaghouan'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Tunisia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_tunisia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_tunisia$NAME_0)
geo_tunisia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Tunisia', 'Tunisia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Tunisia',
      recode(areaname_eng_ab, 'Ariana' = 1, 'Beja' = 2, 'Ben Arous' = 3,
        'Bizerte' = 4, 'Gabes' = 5, 'Gafsa' = 6, 'Jendouba' = 7, 'Kairouan' = 8,
        'Kasserine' = 9, 'Kebili' = 10, 'Le Kef' = 11, 'Mahdia' = 13,
        'Manouba' = 14, 'Medenine' = 12, 'Monastir' = 15, 'Nabeul' = 16,
        'Sfax' = 17, 'Sidi Bouzid' = 18, 'Siliana' = 19, 'Sousse' = 20,
        'Tataouine' = 21, 'Tozeur' = 22, 'Tunis' = 23, 'Zaghouan' = 24,
        .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Uganda
## iso
iso_uganda <- bind_cols(
  cname_eng = rep('Uganda', 4),
  ISO1num = rep(800, 4),
  ISO2str = c('UG-C', 'UG-E', 'UG-N', 'UG-W'),
  ISO2numstr = rep('', 4),
  ISO2num = rep(NA, 4),
  areaname_conv_iso = c('Central', 'Eastern', 'Northern', 'Western'),
  areaname_eng_iso = c('Central', 'Eastern', 'Northern', 'Western')
)

iso_uganda2 <- bind_cols(
  cname_eng = rep('Uganda', 128),
  ISO1num = rep(800, 128),
  ISO2str2 = c('UG-314', 'UG-301', 'UG-322', 'UG-323', 'UG-315', 'UG-324',
    'UG-216', 'UG-316', 'UG-302', 'UG-303', 'UG-217', 'UG-218', 'UG-201',
    'UG-235', 'UG-420', 'UG-117', 'UG-219', 'UG-118', 'UG-220', 'UG-225',
    'UG-416', 'UG-401', 'UG-430', 'UG-402', 'UG-202', 'UG-221', 'UG-119',
    'UG-233', 'UG-120', 'UG-226', 'UG-317', 'UG-121', 'UG-304', 'UG-403',
    'UG-417', 'UG-203', 'UG-418', 'UG-204', 'UG-318', 'UG-404', 'UG-405',
    'UG-213', 'UG-427', 'UG-428', 'UG-101', 'UG-222', 'UG-122', 'UG-102',
    'UG-205', 'UG-413', 'UG-414', 'UG-206', 'UG-236', 'UG-126', 'UG-406',
    'UG-207', 'UG-112', 'UG-407', 'UG-103', 'UG-227', 'UG-432', 'UG-419',
    'UG-421', 'UG-408', 'UG-305', 'UG-319', 'UG-325', 'UG-306', 'UG-208',
    'UG-333', 'UG-228', 'UG-123', 'UG-422', 'UG-415', 'UG-125', 'UG-326',
    'UG-307', 'UG-229', 'UG-104', 'UG-124', 'UG-114', 'UG-223', 'UG-320',
    'UG-105', 'UG-409', 'UG-214', 'UG-209', 'UG-410', 'UG-423', 'UG-115',
    'UG-308', 'UG-309', 'UG-106', 'UG-107', 'UG-108', 'UG-334', 'UG-311',
    'UG-116', 'UG-109', 'UG-230', 'UG-234', 'UG-224', 'UG-327', 'UG-310',
    'UG-231', 'UG-424', 'UG-411', 'UG-328', 'UG-331', 'UG-329', 'UG-321',
    'UG-312', 'UG-332', 'UG-210', 'UG-110', 'UG-429', 'UG-425', 'UG-431',
    'UG-412', 'UG-111', 'UG-232', 'UG-426', 'UG-215', 'UG-211', 'UG-212',
    'UG-113', 'UG-313', 'UG-330'),
  ISO2numstr = rep('', 128),
  ISO2num = rep(NA, 128),
  areaname_conv_iso2 = c('Abim', 'Adjumani', 'Agago', 'Alebtong', 'Amolatar',
    'Amudat', 'Amuria', 'Amuru', 'Apac', 'Arua', 'Budaka', 'Bududa', 'Bugiri',
    'Bugweri', 'Buhweju', 'Buikwe', 'Bukedea', 'Bukomansibi', 'Bukwa',
    'Bulambuli', 'Buliisa', 'Bundibugyo', 'Bunyangabu', 'Bushenyi', 'Busia',
    'Butaleja', 'Butambala', 'Butebo', 'Buvuma', 'Buyende', 'Dokolo', 'Gomba',
    'Gulu', 'Hoima', 'Ibanda', 'Iganga', 'Isingiro', 'Jinja', 'Kaabong',
    'Kabale', 'Kabarole', 'Kaberamaido', 'Kagadi', 'Kakumiro', 'Kalangala',
    'Kaliro', 'Kalungu', 'Kampala', 'Kamuli', 'Kamwenge', 'Kanungu',
    'Kapchorwa', 'Kapelebyong', 'Kasanda', 'Kasese', 'Katakwi', 'Kayunga',
    'Kibaale', 'Kiboga', 'Kibuku', 'Kikuube', 'Kiruhura', 'Kiryandongo',
    'Kisoro', 'Kitgum', 'Koboko', 'Kole', 'Kotido', 'Kumi', 'Kwania', 'Kween',
    'Kyankwanzi', 'Kyegegwa', 'Kyenjojo', 'Kyotera', 'Lamwo', 'Lira', 'Luuka',
    'Luwero', 'Lwengo', 'Lyantonde', 'Manafwa', 'Maracha', 'Masaka', 'Masindi',
    'Mayuge', 'Mbale', 'Mbarara', 'Mitooma', 'Mityana', 'Moroto', 'Moyo',
    'Mpigi', 'Mubende', 'Mukono', 'Nabilatuk', 'Nakapiripirit', 'Nakaseke',
    'Nakasongola', 'Namayingo', 'Namisindwa', 'Namutumba', 'Napak', 'Nebbi',
    'Ngora', 'Ntoroko', 'Ntungamo', 'Nwoya', 'Omoro', 'Otuke', 'Oyam', 'Pader',
    'Pakwach', 'Pallisa', 'Rakai', 'Rubanda', 'Rubirizi', 'Rukiga', 'Rukungiri',
    'Sembabule', 'Serere', 'Sheema', 'Sironko', 'Soroti', 'Tororo', 'Wakiso',
    'Yumbe', 'Zombo'),
  areaname_eng_iso2 = c('Abim', 'Adjumani', 'Agago', 'Alebtong', 'Amolatar',
    'Amudat', 'Amuria', 'Amuru', 'Apac', 'Arua', 'Budaka', 'Bududa', 'Bugiri',
    'Bugweri', 'Buhweju', 'Buikwe', 'Bukedea', 'Bukomansibi', 'Bukwa',
    'Bulambuli', 'Buliisa', 'Bundibugyo', 'Bunyangabu', 'Bushenyi', 'Busia',
    'Butaleja', 'Butambala', 'Butebo', 'Buvuma', 'Buyende', 'Dokolo', 'Gomba',
    'Gulu', 'Hoima', 'Ibanda', 'Iganga', 'Isingiro', 'Jinja', 'Kaabong',
    'Kabale', 'Kabarole', 'Kaberamaido', 'Kagadi', 'Kakumiro', 'Kalangala',
    'Kaliro', 'Kalungu', 'Kampala', 'Kamuli', 'Kamwenge', 'Kanungu',
    'Kapchorwa', 'Kapelebyong', 'Kasanda', 'Kasese', 'Katakwi', 'Kayunga',
    'Kibaale', 'Kiboga', 'Kibuku', 'Kikuube', 'Kiruhura', 'Kiryandongo',
    'Kisoro', 'Kitgum', 'Koboko', 'Kole', 'Kotido', 'Kumi', 'Kwania', 'Kween',
    'Kyankwanzi', 'Kyegegwa', 'Kyenjojo', 'Kyotera', 'Lamwo', 'Lira', 'Luuka',
    'Luwero', 'Lwengo', 'Lyantonde', 'Manafwa', 'Maracha', 'Masaka', 'Masindi',
    'Mayuge', 'Mbale', 'Mbarara', 'Mitooma', 'Mityana', 'Moroto', 'Moyo',
    'Mpigi', 'Mubende', 'Mukono', 'Nabilatuk', 'Nakapiripirit', 'Nakaseke',
    'Nakasongola', 'Namayingo', 'Namisindwa', 'Namutumba', 'Napak', 'Nebbi',
    'Ngora', 'Ntoroko', 'Ntungamo', 'Nwoya', 'Omoro', 'Otuke', 'Oyam', 'Pader',
    'Pakwach', 'Pallisa', 'Rakai', 'Rubanda', 'Rubirizi', 'Rukiga', 'Rukungiri',
    'Sembabule', 'Serere', 'Sheema', 'Sironko', 'Soroti', 'Tororo', 'Wakiso',
    'Yumbe', 'Zombo')
)

## gis
geo_uganda <-
  read.csv('Data/GIS/Uganda/UGA_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Uganda' %in% ab01$cname_eng
'Uganda' %in% ab02$cname_eng
'Uganda' %in% ab03$cname_eng
'Uganda' %in% ab04$cname_eng
'Uganda' %in% ab05$cname_eng
'Uganda' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_uganda %>% {sort(unique(.$areaname_eng_iso))}
)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_uganda2 %>% {sort(unique(.$areaname_eng_iso2))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Kampala' = 'Central', 'Kiboga' = 'Central',
        'Luwero' = 'Central', 'Masaka' = 'Central', 'Mpigi' = 'Central',
        'Mubende' = 'Central', 'Mukono' = 'Central', 'Nakasongola' = 'Central',
        'Rakai' = 'Central', 'Bugirl' = 'Eastern', 'Busia' = 'Eastern',
        'Iganga' = 'Eastern', 'Jinja' = 'Eastern', 'Kamuli' = 'Eastern',
        'Katakwi' = 'Eastern', 'Kumi' = 'Eastern', 'Mbale' = 'Eastern',
        'Pallisa' = 'Eastern', 'Soroti' = 'Eastern', 'Tororo' = 'Eastern',
        'Apac' = 'Northern', 'Arua' = 'Northern', 'Gulu' = 'Northern',
        'Kitgum' = 'Northern', 'Lira' = 'Northern', 'Nebbi' = 'Northern',
        'Bushenyi' = 'Western', 'Kabale' = 'Western', 'Kabarole' = 'Western',
        'Kasesse' = 'Western', 'Kibale' = 'Western', 'Kisoro' = 'Western',
        'Masindi' = 'Western', 'Mbarara' = 'Western', 'Ntungamo' = 'Western',
        'Rukungirl' = 'Western'),
      areaname_eng_iso),
  areaname_eng_iso2 =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Kampala' = 'Kampala', 'Kiboga' = 'Kiboga',
        'Luwero' = 'Luwero', 'Masaka' = 'Masaka', 'Mpigi' = 'Mpigi',
        'Mubende' = 'Mubende', 'Mukono' = 'Mukono',
        'Nakasongola' = 'Nakasongola', 'Rakai' = 'Rakai', 'Bugirl' = 'Bugiri',
        'Busia' = 'Busia', 'Iganga' = 'Iganga', 'Jinja' = 'Jinja',
        'Kamuli' = 'Kamuli', 'Katakwi' = 'Katakwi', 'Kumi' = 'Kumi',
        'Mbale' = 'Mbale', 'Pallisa' = 'Pallisa', 'Soroti' = 'Soroti',
        'Tororo' = 'Tororo', 'Apac' = 'Apac', 'Arua' = 'Arua', 'Gulu' = 'Gulu',
        'Kitgum' = 'Kitgum', 'Lira' = 'Lira', 'Nebbi' = 'Nebbi',
        'Bushenyi' = 'Bushenyi', 'Kabale' = 'Kabale', 'Kabarole' = 'Kabarole',
        'Kasesse' = 'Kasese', 'Kibale' = 'Kibaale', 'Kisoro' = 'Kisoro',
        'Masindi' = 'Masindi', 'Mbarara' = 'Mbarara', 'Ntungamo' = 'Ntungamo',
        'Rukungirl' = 'Rukungiri'),
      areaname_eng_iso2)
)

ab01 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso, areaname_eng_iso2) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_uganda %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_uganda$NAME_0)
geo_uganda %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Uganda', 'Uganda', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Apac' = 2, 'Arua' = 3, 'Bugirl' = 4,
        'Bushenyi' = 6, 'Busia' = 7, 'Gulu' = 8, 'Iganga' = 10, 'Jinja' = 11,
        'Kabale' = 12, 'Kabarole' = 13, 'Kampala' = 16, 'Kamuli' = 17,
        'Kasesse' = 21, 'Katakwi' = 22, 'Kibale' = 24, 'Kiboga' = 25,
        'Kisoro' = 26, 'Kitgum' = 27, 'Kumi' = 29, 'Lira' = 33, 'Luwero' = 34,
        'Masaka' = 35, 'Masindi' = 36, 'Mbale' = 38, 'Mbarara' = 39,
        'Mpigi' = 42, 'Mubende' = 43, 'Mukono' = 44, 'Nakasongola' = 46,
        'Nebbi' = 47, 'Ntungamo' = 48, 'Pallisa' = 50, 'Rakai' = 51,
        'Rukungirl' = 52, 'Soroti' = 55, 'Tororo' = 56, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_uganda %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Central' = 'Central', 'East' = 'Eastern',
        'North' = 'Northern', 'West' = 'Western'),
      areaname_eng_iso)
)

ab02 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_uganda %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_uganda$NAME_0)
geo_uganda %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Uganda', 'Uganda', NAME_0)
)
# unable to geocode because Uganda Afrobarometer Round 2 geography names do not
# match units from global administrative dataset

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_uganda %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Central' = 'Central', 'East' = 'Eastern',
        'North' = 'Northern', 'West' = 'Western'),
      areaname_eng_iso)
)

ab03 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_uganda %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_uganda$NAME_0)
geo_uganda %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Uganda', 'Uganda', NAME_0)
)
# unable to geocode because Uganda Afrobarometer Round 3 geography names do not
# match units from global administrative dataset

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_uganda %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Central' = 'Central', 'East' = 'Eastern',
        'North' = 'Northern', 'West' = 'Western'),
      areaname_eng_iso)
)

ab04 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_uganda %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_uganda$NAME_0)
geo_uganda %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Uganda', 'Uganda', NAME_0)
)
# unable to geocode because Uganda Afrobarometer Round 2 geography names do not
# match units from global administrative dataset

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_uganda %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Central' = 'Central', 'East' = 'Eastern',
        'North' = 'Northern', 'West' = 'Western'),
      areaname_eng_iso)
)

ab05 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_uganda %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_uganda$NAME_0)
geo_uganda %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Uganda', 'Uganda', NAME_0)
)
# unable to geocode because Uganda Afrobarometer Round 2 geography names do not
# match units from global administrative dataset

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_uganda %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Uganda',
      recode(areaname_eng_ab, 'Central' = 'Central', 'East' = 'Eastern',
        'North' = 'Northern', 'West' = 'Western'),
      areaname_eng_iso)
)

ab06 %>%
  group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Uganda') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_uganda %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_uganda$NAME_0)
geo_uganda %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 = if_else(cname_eng == 'Uganda', 'Uganda', NAME_0)
)
# unable to geocode because Uganda Afrobarometer Round 2 geography names do not
# match units from global administrative dataset

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)


#### Zambia
## iso
iso_zambia <- bind_cols(
  cname_eng = rep('Zambia', 10),
  ISO1num = rep(894, 10),
  ISO2str = c('ZM-02', 'ZM-08', 'ZM-03', 'ZM-04', 'ZM-09', 'ZM-05', 'ZM-06',
    'ZM-07', 'ZM-01', 'ZM-10'),
  ISO2numstr = rep('', 10),
  ISO2num = rep(NA, 10),
  areaname_conv_iso = c('Central', 'Copperbelt', 'Eastern', 'Luapula', 'Lusaka',
    'Northern', 'North-Western', 'Southern', 'Western', 'Muchinga'),
  areaname_eng_iso = c('Central', 'Copperbelt', 'Eastern', 'Luapula', 'Lusaka',
    'Northern', 'North-Western', 'Southern', 'Western', 'Muchinga')
)

## gis
geo_zambia <-
  read.csv('Data/GIS/Zambia/ZMB_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Zambia' %in% ab01$cname_eng
'Zambia' %in% ab02$cname_eng
'Zambia' %in% ab03$cname_eng
'Zambia' %in% ab04$cname_eng
'Zambia' %in% ab05$cname_eng
'Zambia' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zambia %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central Province' = 'Central',
        'Copperbelt' = 'Copperbelt', 'Eastern Province' = 'Eastern',
        'Luapula' = 'Luapula', 'Lusaka' = 'Lusaka',
        'North-Western Province' = 'North-Western',
        'Northern Province' = 'Northern', 'Southern Province' = 'Southern',
        'Western Province' = 'Western'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zambia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zambia$NAME_0)
geo_zambia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zambia', 'Zambia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central Province' = 1, 'Copperbelt' = 2,
        'Eastern Province' = 3, 'Luapula' = 4, 'Lusaka' = 5,
        'North-Western Province' = 7, 'Northern Province' = 8,
        'Southern Province' = 9, 'Western Province' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zambia %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 'Central',
        'Copperbelt' = 'Copperbelt', 'Eastern' = 'Eastern',
        'Luapula' = 'Luapula', 'Lusaka' = 'Lusaka',
        'North-Western' = 'North-Western', 'Northern' = 'Northern',
        'Southern' = 'Southern', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zambia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zambia$NAME_0)
geo_zambia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zambia', 'Zambia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 1, 'Copperbelt' = 2, 'Eastern' = 3,
        'Luapula' = 4, 'Lusaka' = 5, 'North-Western' = 7, 'Northern' = 8,
        'Southern' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zambia %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 'Central',
        'Copper Belt' = 'Copperbelt', 'Eastern' = 'Eastern',
        'Luapula' = 'Luapula', 'Lusaka' = 'Lusaka',
        'North-western' = 'North-Western', 'Northern' = 'Northern',
        'Southern' = 'Southern', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zambia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zambia$NAME_0)
geo_zambia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zambia', 'Zambia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 1, 'Copper Belt' = 2, 'Eastern' = 3,
        'Luapula' = 4, 'Lusaka' = 5, 'North-western' = 7, 'Northern' = 8,
        'Southern' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zambia %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 'Central',
        'Copperbelt' = 'Copperbelt', 'Eastern' = 'Eastern',
        'Luapula' = 'Luapula', 'Lusaka' = 'Lusaka',
        'North-Western' = 'North-Western', 'Northern' = 'Northern',
        'Southern' = 'Southern', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zambia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zambia$NAME_0)
geo_zambia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zambia', 'Zambia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 1, 'Copperbelt' = 2, 'Eastern' = 3,
        'Luapula' = 4, 'Lusaka' = 5, 'North-Western' = 7, 'Northern' = 8,
        'Southern' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zambia %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 'Central',
        'Copperbelt' = 'Copperbelt', 'Eastern' = 'Eastern',
        'Luapula' = 'Luapula', 'Lusaka' = 'Lusaka', 'Muchinga' = 'Muchinga',
        'North-Western' = 'North-Western', 'Northern' = 'Northern',
        'Southern' = 'Southern', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zambia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zambia$NAME_0)
geo_zambia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zambia', 'Zambia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 1, 'Copperbelt' = 2, 'Eastern' = 3,
        'Luapula' = 4, 'Lusaka' = 5, 'Muchinga' = 6, 'North-Western' = 7,
        'Northern' = 8, 'Southern' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zambia %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 'Central',
        'Copperbelt' = 'Copperbelt', 'Eastern' = 'Eastern',
        'Luapula' = 'Luapula', 'Lusaka' = 'Lusaka', 'Muchinga' = 'Muchinga',
        'North-Western' = 'North-Western', 'Northern' = 'Northern',
        'Southern' = 'Southern', 'Western' = 'Western'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Zambia') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zambia %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zambia$NAME_0)
geo_zambia %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zambia', 'Zambia', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zambia',
      recode(areaname_eng_ab, 'Central' = 1, 'Copperbelt' = 2, 'Eastern' = 3,
        'Luapula' = 4, 'Lusaka' = 5, 'Muchinga' = 6, 'North-Western' = 7,
        'Northern' = 8, 'Southern' = 9, 'Western' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

#### Zimbabwe
## iso
iso_zimbabwe <- bind_cols(
  cname_eng = rep('Zimbabwe', 10),
  ISO1num = rep(716, 10),
  ISO2str = c('ZW-BU', 'ZW-HA', 'ZW-MA', 'ZW-MC', 'ZW-ME', 'ZW-MW', 'ZW-MV',
    'ZW-MN', 'ZW-MS', 'ZW-MI'),
  ISO2numstr = rep('', 10),
  ISO2num = rep(NA, 10),
  areaname_conv_iso = c('Bulawayo', 'Harare', 'Manicaland',
    'Mashonaland Central', 'Mashonaland East', 'Mashonaland West', 'Masvingo',
    'Matabeleland North', 'Matabeleland South', 'Midlands'),
  areaname_eng_iso = c('Bulawayo', 'Harare', 'Manicaland',
    'Mashonaland Central', 'Mashonaland East', 'Mashonaland West', 'Masvingo',
    'Matabeleland North', 'Matabeleland South', 'Midlands')
)

## gis
geo_zimbabwe <-
  read.csv('Data/GIS/Zimbabwe/ZWE_adm1.csv', stringsAsFactors = FALSE) %>%
  as_tibble()

'Zimbabwe' %in% ab01$cname_eng
'Zimbabwe' %in% ab02$cname_eng
'Zimbabwe' %in% ab03$cname_eng
'Zimbabwe' %in% ab04$cname_eng
'Zimbabwe' %in% ab05$cname_eng
'Zimbabwe' %in% ab06$cname_eng

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zimbabwe %>% {sort(unique(.$areaname_eng_iso))}
)

ab01 <- ab01 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 'Bulawayo', 'Harare' = 'Harare',
        'Manicaland' = 'Manicaland',
        'Mashonaland Central' = 'Mashonaland Central',
        'Mashonaland East' = 'Mashonaland East',
        'Mashonaland West' = 'Mashonaland West', 'Masvingo' = 'Masvingo',
        'Matabeland North' = 'Matabeleland North',
        'Matabeland South' = 'Matabeleland South', 'Midland' = 'Midlands'),
      areaname_eng_iso)
)

ab01 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab01 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zimbabwe %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zimbabwe$NAME_0)
geo_zimbabwe %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab01 <- ab01 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zimbabwe', 'Zimbabwe', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 1, 'Harare' = 2, 'Manicaland' = 3,
        'Mashonaland Central' = 4, 'Mashonaland East' = 5,
        'Mashonaland West' = 6, 'Masvingo' = 7, 'Matabeland North' = 8,
        'Matabeland South' = 9, 'Midland' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab01 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zimbabwe %>% {sort(unique(.$areaname_eng_iso))}
)

ab02 <- ab02 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 'Bulawayo', 'Harare' = 'Harare',
        'Manicaland' = 'Manicaland', 'Mash Central' = 'Mashonaland Central',
        'Mash East' = 'Mashonaland East', 'Mash West' = 'Mashonaland West',
        'Masvingo' = 'Masvingo', 'Mat North' = 'Matabeleland North',
        'Mat South' = 'Matabeleland South', 'Midland' = 'Midlands'),
      areaname_eng_iso)
)

ab02 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab02 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zimbabwe %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zimbabwe$NAME_0)
geo_zimbabwe %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab02 <- ab02 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zimbabwe', 'Zimbabwe', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 1, 'Harare' = 2, 'Manicaland' = 3,
        'Mash Central' = 4, 'Mash East' = 5, 'Mash West' = 6, 'Masvingo' = 7,
        'Mat North' = 8, 'Mat South' = 9, 'Midland' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab02 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zimbabwe %>% {sort(unique(.$areaname_eng_iso))}
)

ab03 <- ab03 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 'Bulawayo', 'Harare' = 'Harare',
        'Manicaland' = 'Manicaland',
        'Mashonaland Central' = 'Mashonaland Central',
        'Mashonaland East' = 'Mashonaland East',
        'Mashonaland West' = 'Mashonaland West', 'Masvingo' = 'Masvingo',
        'Matebeleland North' = 'Matabeleland North',
        'Matebeleland South' = 'Matabeleland South', 'Midlands' = 'Midlands'),
      areaname_eng_iso)
)

ab03 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab03 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zimbabwe %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zimbabwe$NAME_0)
geo_zimbabwe %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab03 <- ab03 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zimbabwe', 'Zimbabwe', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 1, 'Harare' = 2, 'Manicaland' = 3,
        'Mashonaland Central' = 4, 'Mashonaland East' = 5,
        'Mashonaland West' = 6, 'Masvingo' = 7, 'Matebeleland North' = 8,
        'Matebeleland South' = 9, 'Midlands' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab03 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zimbabwe %>% {sort(unique(.$areaname_eng_iso))}
)

ab04 <- ab04 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 'Bulawayo', 'Harare' = 'Harare',
        'Manicaland' = 'Manicaland',
        'Mashonaland Central' = 'Mashonaland Central',
        'Mashonaland East' = 'Mashonaland East',
        'Mashonaland West' = 'Mashonaland West', 'Masvingo' = 'Masvingo',
        'Matebeleland North' = 'Matabeleland North',
        'Matebeleland South' = 'Matabeleland South', 'Midlands' = 'Midlands'),
      areaname_eng_iso)
)

ab04 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab04 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zimbabwe %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zimbabwe$NAME_0)
geo_zimbabwe %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab04 <- ab04 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zimbabwe', 'Zimbabwe', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 1, 'Harare' = 2, 'Manicaland' = 3,
        'Mashonaland Central' = 4, 'Mashonaland East' = 5,
        'Mashonaland West' = 6, 'Masvingo' = 7, 'Matebeleland North' = 8,
        'Matebeleland South' = 9, 'Midlands' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab04 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zimbabwe %>% {sort(unique(.$areaname_eng_iso))}
)

ab05 <- ab05 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 'Bulawayo', 'Harare' = 'Harare',
        'Manicaland' = 'Manicaland',
        'Mashonaland Central' = 'Mashonaland Central', 
        'Mashonaland East' = 'Mashonaland East', 
        'Mashonaland West' = 'Mashonaland West', 'Masvingo' = 'Masvingo',
        'Matebeleland North' = 'Matabeleland North',
        'Matebeleland South' = 'Matabeleland South', 'Midlands' = 'Midlands'),
      areaname_eng_iso)
)

ab05 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab05 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zimbabwe %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zimbabwe$NAME_0)
geo_zimbabwe %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab05 <- ab05 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zimbabwe', 'Zimbabwe', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 1, 'Harare' = 2, 'Manicaland' = 3,
        'Mashonaland Central' = 4, 'Mashonaland East' = 5,
        'Mashonaland West' = 6, 'Masvingo' = 7, 'Matebeleland North' = 8,
        'Matebeleland South' = 9, 'Midlands' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab05 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))},
  iso_zimbabwe %>% {sort(unique(.$areaname_eng_iso))}
)

ab06 <- ab06 %>% mutate(
  areaname_eng_iso =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 'Bulawayo', 'Harare' = 'Harare',
        'Manicaland' = 'Manicaland',
        'Mashonaland Central' = 'Mashonaland Central', 
        'Mashonaland East' = 'Mashonaland East', 
        'Mashonaland West' = 'Mashonaland West', 'Masvingo' = 'Masvingo',
        'Matebeleland North' = 'Matabeleland North',
        'Matebeleland South' = 'Matabeleland South', 'Midlands' = 'Midlands'),
      areaname_eng_iso)
)

ab06 %>% group_by(cname_eng, areaname_eng_ab, areaname_eng_iso) %>%
  summarize() %>% print(n = Inf)

RaggedSideBySide(
  ab06 %>% filter(cname_eng == 'Zimbabwe') %>%
    {sort(unique(.$areaname_eng_ab))}, geo_zimbabwe %>%
    {sort(unique(.$NAME_1))}
)

unique(geo_zimbabwe$NAME_0)
geo_zimbabwe %>% group_by(NAME_1, ID_1) %>%
  summarize() %>% print(n = Inf)

ab06 <- ab06 %>% mutate(
  NAME_0 =
    if_else(cname_eng == 'Zimbabwe', 'Zimbabwe', NAME_0),
  ID_1 =
    if_else(cname_eng == 'Zimbabwe',
      recode(areaname_eng_ab, 'Bulawayo' = 1, 'Harare' = 2, 'Manicaland' = 3,
        'Mashonaland Central' = 4, 'Mashonaland East' = 5,
        'Mashonaland West' = 6, 'Masvingo' = 7, 'Matebeleland North' = 8,
        'Matebeleland South' = 9, 'Midlands' = 10, .default = NA_real_),
      as.double(ID_1))
)

ab06 %>% group_by(cname_eng, NAME_0, areaname_eng_ab, ID_1) %>%
  summarize() %>% print(n = Inf)

```



























################################################################################














































































































































































